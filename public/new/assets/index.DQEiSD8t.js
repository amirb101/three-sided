(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var qd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function dS(){if(X_)return Al;X_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Al.Fragment=t,Al.jsx=n,Al.jsxs=n,Al}var $_;function mS(){return $_||($_=1,qd.exports=dS()),qd.exports}var D=mS(),Hd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function gS(){if(Z_)return St;Z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function H(N,J,rt){this.props=N,this.context=J,this.refs=W,this.updater=rt||F}H.prototype.isReactComponent={},H.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function tt(){}tt.prototype=H.prototype;function st(N,J,rt){this.props=N,this.context=J,this.refs=W,this.updater=rt||F}var ot=st.prototype=new tt;ot.constructor=st,Z(ot,H.prototype),ot.isPureReactComponent=!0;var bt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},jt=Object.prototype.hasOwnProperty;function V(N,J,rt,et,dt,Rt){return rt=Rt.ref,{$$typeof:r,type:N,key:J,ref:rt!==void 0?rt:null,props:Rt}}function b(N,J){return V(N.type,J,void 0,void 0,void 0,N.props)}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(rt){return J[rt]})}var M=/\/+/g;function P(N,J){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):J.toString(36)}function I(){}function Pe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ae(N,J,rt,et,dt){var Rt=typeof N;(Rt==="undefined"||Rt==="boolean")&&(N=null);var vt=!1;if(N===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(N.$$typeof){case r:case t:vt=!0;break;case E:return vt=N._init,ae(vt(N._payload),J,rt,et,dt)}}if(vt)return dt=dt(N),vt=et===""?"."+P(N,0):et,bt(dt)?(rt="",vt!=null&&(rt=vt.replace(M,"$&/")+"/"),ae(dt,J,rt,"",function($n){return $n})):dt!=null&&(C(dt)&&(dt=b(dt,rt+(dt.key==null||N&&N.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+vt)),J.push(dt)),1;vt=0;var De=et===""?".":et+":";if(bt(N))for(var Zt=0;Zt<N.length;Zt++)et=N[Zt],Rt=De+P(et,Zt),vt+=ae(et,J,rt,Rt,dt);else if(Zt=R(N),typeof Zt=="function")for(N=Zt.call(N),Zt=0;!(et=N.next()).done;)et=et.value,Rt=De+P(et,Zt++),vt+=ae(et,J,rt,Rt,dt);else if(Rt==="object"){if(typeof N.then=="function")return ae(Pe(N),J,rt,et,dt);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return vt}function G(N,J,rt){if(N==null)return N;var et=[],dt=0;return ae(N,et,"","",function(Rt){return J.call(rt,Rt,dt++)}),et}function it(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(rt){(N._status===0||N._status===-1)&&(N._status=1,N._result=rt)},function(rt){(N._status===0||N._status===-1)&&(N._status=2,N._result=rt)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var ht=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Lt(){}return St.Children={map:G,forEach:function(N,J,rt){G(N,function(){J.apply(this,arguments)},rt)},count:function(N){var J=0;return G(N,function(){J++}),J},toArray:function(N){return G(N,function(J){return J})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},St.Component=H,St.Fragment=n,St.Profiler=o,St.PureComponent=st,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,St.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Tt.H.useMemoCache(N)}},St.cache=function(N){return function(){return N.apply(null,arguments)}},St.cloneElement=function(N,J,rt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var et=Z({},N.props),dt=N.key,Rt=void 0;if(J!=null)for(vt in J.ref!==void 0&&(Rt=void 0),J.key!==void 0&&(dt=""+J.key),J)!jt.call(J,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&J.ref===void 0||(et[vt]=J[vt]);var vt=arguments.length-2;if(vt===1)et.children=rt;else if(1<vt){for(var De=Array(vt),Zt=0;Zt<vt;Zt++)De[Zt]=arguments[Zt+2];et.children=De}return V(N.type,dt,void 0,void 0,Rt,et)},St.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},St.createElement=function(N,J,rt){var et,dt={},Rt=null;if(J!=null)for(et in J.key!==void 0&&(Rt=""+J.key),J)jt.call(J,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(dt[et]=J[et]);var vt=arguments.length-2;if(vt===1)dt.children=rt;else if(1<vt){for(var De=Array(vt),Zt=0;Zt<vt;Zt++)De[Zt]=arguments[Zt+2];dt.children=De}if(N&&N.defaultProps)for(et in vt=N.defaultProps,vt)dt[et]===void 0&&(dt[et]=vt[et]);return V(N,Rt,void 0,void 0,null,dt)},St.createRef=function(){return{current:null}},St.forwardRef=function(N){return{$$typeof:g,render:N}},St.isValidElement=C,St.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:it}},St.memo=function(N,J){return{$$typeof:y,type:N,compare:J===void 0?null:J}},St.startTransition=function(N){var J=Tt.T,rt={};Tt.T=rt;try{var et=N(),dt=Tt.S;dt!==null&&dt(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Lt,ht)}catch(Rt){ht(Rt)}finally{Tt.T=J}},St.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},St.use=function(N){return Tt.H.use(N)},St.useActionState=function(N,J,rt){return Tt.H.useActionState(N,J,rt)},St.useCallback=function(N,J){return Tt.H.useCallback(N,J)},St.useContext=function(N){return Tt.H.useContext(N)},St.useDebugValue=function(){},St.useDeferredValue=function(N,J){return Tt.H.useDeferredValue(N,J)},St.useEffect=function(N,J,rt){var et=Tt.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(N,J)},St.useId=function(){return Tt.H.useId()},St.useImperativeHandle=function(N,J,rt){return Tt.H.useImperativeHandle(N,J,rt)},St.useInsertionEffect=function(N,J){return Tt.H.useInsertionEffect(N,J)},St.useLayoutEffect=function(N,J){return Tt.H.useLayoutEffect(N,J)},St.useMemo=function(N,J){return Tt.H.useMemo(N,J)},St.useOptimistic=function(N,J){return Tt.H.useOptimistic(N,J)},St.useReducer=function(N,J,rt){return Tt.H.useReducer(N,J,rt)},St.useRef=function(N){return Tt.H.useRef(N)},St.useState=function(N){return Tt.H.useState(N)},St.useSyncExternalStore=function(N,J,rt){return Tt.H.useSyncExternalStore(N,J,rt)},St.useTransition=function(){return Tt.H.useTransition()},St.version="19.1.1",St}var W_;function Um(){return W_||(W_=1,Hd.exports=gS()),Hd.exports}var ie=Um(),Fd={exports:{}},bl={},Gd={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function pS(){return J_||(J_=1,(function(r){function t(G,it){var ht=G.length;G.push(it);t:for(;0<ht;){var Lt=ht-1>>>1,N=G[Lt];if(0<o(N,it))G[Lt]=it,G[ht]=N,ht=Lt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var it=G[0],ht=G.pop();if(ht!==it){G[0]=ht;t:for(var Lt=0,N=G.length,J=N>>>1;Lt<J;){var rt=2*(Lt+1)-1,et=G[rt],dt=rt+1,Rt=G[dt];if(0>o(et,ht))dt<N&&0>o(Rt,et)?(G[Lt]=Rt,G[dt]=ht,Lt=dt):(G[Lt]=et,G[rt]=ht,Lt=rt);else if(dt<N&&0>o(Rt,ht))G[Lt]=Rt,G[dt]=ht,Lt=dt;else break t}}return it}function o(G,it){var ht=G.sortIndex-it.sortIndex;return ht!==0?ht:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],y=[],E=1,w=null,R=3,F=!1,Z=!1,W=!1,H=!1,tt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function bt(G){for(var it=n(y);it!==null;){if(it.callback===null)s(y);else if(it.startTime<=G)s(y),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(y)}}function Tt(G){if(W=!1,bt(G),!Z)if(n(p)!==null)Z=!0,jt||(jt=!0,P());else{var it=n(y);it!==null&&ae(Tt,it.startTime-G)}}var jt=!1,V=-1,b=5,C=-1;function O(){return H?!0:!(r.unstable_now()-C<b)}function M(){if(H=!1,jt){var G=r.unstable_now();C=G;var it=!0;try{t:{Z=!1,W&&(W=!1,st(V),V=-1),F=!0;var ht=R;try{e:{for(bt(G),w=n(p);w!==null&&!(w.expirationTime>G&&O());){var Lt=w.callback;if(typeof Lt=="function"){w.callback=null,R=w.priorityLevel;var N=Lt(w.expirationTime<=G);if(G=r.unstable_now(),typeof N=="function"){w.callback=N,bt(G),it=!0;break e}w===n(p)&&s(p),bt(G)}else s(p);w=n(p)}if(w!==null)it=!0;else{var J=n(y);J!==null&&ae(Tt,J.startTime-G),it=!1}}break t}finally{w=null,R=ht,F=!1}it=void 0}}finally{it?P():jt=!1}}}var P;if(typeof ot=="function")P=function(){ot(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Pe=I.port2;I.port1.onmessage=M,P=function(){Pe.postMessage(null)}}else P=function(){tt(M,0)};function ae(G,it){V=tt(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(G){switch(R){case 1:case 2:case 3:var it=3;break;default:it=R}var ht=R;R=it;try{return G()}finally{R=ht}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=R;R=G;try{return it()}finally{R=ht}},r.unstable_scheduleCallback=function(G,it,ht){var Lt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Lt+ht:Lt):ht=Lt,G){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ht+N,G={id:E++,callback:it,priorityLevel:G,startTime:ht,expirationTime:N,sortIndex:-1},ht>Lt?(G.sortIndex=ht,t(y,G),n(p)===null&&G===n(y)&&(W?(st(V),V=-1):W=!0,ae(Tt,ht-Lt))):(G.sortIndex=N,t(p,G),Z||F||(Z=!0,jt||(jt=!0,P()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var it=R;return function(){var ht=R;R=it;try{return G.apply(this,arguments)}finally{R=ht}}}})(Qd)),Qd}var tv;function yS(){return tv||(tv=1,Gd.exports=pS()),Gd.exports}var Kd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function _S(){if(ev)return Ke;ev=1;var r=Um();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,E)},Ke.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Ke.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ke.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=g(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:F}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:R,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ke.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ke.requestFormReset=function(p){s.d.r(p)},Ke.unstable_batchedUpdates=function(p,y){return p(y)},Ke.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.1.1",Ke}var nv;function vS(){if(nv)return Kd.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Kd.exports=_S(),Kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function TS(){if(iv)return bl;iv=1;var r=yS(),t=Um(),n=vS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case H:return"Profiler";case W:return"StrictMode";case Tt:return"Suspense";case jt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case ot:return(e.displayName||"Context")+".Provider";case st:return(e._context.displayName||"Context")+".Consumer";case bt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:Pe(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Pe(e(i))}catch{}}return null}var ae=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Lt=[],N=-1;function J(e){return{current:e}}function rt(e){0>N||(e.current=Lt[N],Lt[N]=null,N--)}function et(e,i){N++,Lt[N]=e.current,e.current=i}var dt=J(null),Rt=J(null),vt=J(null),De=J(null);function Zt(e,i){switch(et(vt,i),et(Rt,e),et(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?b_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=b_(i),e=S_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(dt),et(dt,e)}function $n(){rt(dt),rt(Rt),rt(vt)}function ir(e){e.memoizedState!==null&&et(De,e);var i=dt.current,a=S_(i,e.type);i!==a&&(et(Rt,e),et(dt,a))}function Ai(e){Rt.current===e&&(rt(dt),rt(Rt)),De.current===e&&(rt(De),yl._currentValue=ht)}var Wr=Object.prototype.hasOwnProperty,Jr=r.unstable_scheduleCallback,ts=r.unstable_cancelCallback,mo=r.unstable_shouldYield,iu=r.unstable_requestPaint,An=r.unstable_now,Bh=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,$s=r.unstable_UserBlockingPriority,es=r.unstable_NormalPriority,qh=r.unstable_LowPriority,Zs=r.unstable_IdlePriority,po=r.log,ru=r.unstable_setDisableYieldValue,oe=null,Ht=null;function hn(e){if(typeof po=="function"&&ru(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(oe,e)}catch{}}var Ge=Math.clz32?Math.clz32:ns,su=Math.log,Hh=Math.LN2;function ns(e){return e>>>=0,e===0?32:31-(su(e)/Hh|0)|0}var is=256,rs=4194304;function Ln(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ws(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Ln(l):(v&=T,v!==0?h=Ln(v):a||(a=T&~e,a!==0&&(h=Ln(a))))):(T=l&~d,T!==0?h=Ln(T):v!==0?h=Ln(v):a||(a=l&~e,a!==0&&(h=Ln(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ss(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function yo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(){var e=is;return is<<=1,(is&4194048)===0&&(is=256),e}function vo(){var e=rs;return rs<<=1,(rs&62914560)===0&&(rs=4194304),e}function bi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Si(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function To(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,S=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Ge(a),X=1<<Q;T[Q]=0,S[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var B=j[Q];B!==null&&(B.lane&=-536870913)}a&=~X}l!==0&&Zn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Zn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Eo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Js(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sr(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:H_(e.type))}function au(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var ee=Math.random().toString(36).slice(2),be="__reactFiber$"+ee,pe="__reactProps$"+ee,bn="__reactContainer$"+ee,Ao="__reactEvents$"+ee,Fh="__reactListeners$"+ee,ar="__reactHandles$"+ee,ou="__reactResources$"+ee,as="__reactMarker$"+ee;function or(e){delete e[be],delete e[pe],delete e[Ao],delete e[Fh],delete e[ar]}function wi(e){var i=e[be];if(i)return i;for(var a=e.parentNode;a;){if(i=a[bn]||a[be]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=C_(e);e!==null;){if(a=e[be])return a;e=C_(e)}return i}e=a,a=e.parentNode}return null}function Wn(e){if(e=e[be]||e[bn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Je(e){var i=e[ou];return i||(i=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[as]=!0}var bo=new Set,ta={};function zn(e,i){Ri(e,i),Ri(e+"Capture",i)}function Ri(e,i){for(ta[e]=i,e=0;e<i.length;e++)bo.add(i[e])}var lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uu={},os={};function cu(e){return Wr.call(os,e)?!0:Wr.call(uu,e)?!1:lu.test(e)?os[e]=!0:(uu[e]=!0,!1)}function lr(e,i,a){if(cu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ti(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ue(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var ls,hu;function Ii(e){if(ls===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ls=i&&i[1]||"",hu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+e+hu}var ea=!1;function na(e,i){if(!e||ea)return"";ea=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var j=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){j=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){j=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var S=v.split(`
`),z=T.split(`
`);for(h=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===S.length||h===z.length)for(l=S.length-1,h=z.length-1;1<=l&&0<=h&&S[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(S[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||S[l]!==z[h]){var Q=`
`+S[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ea=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ii(a):""}function So(e){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return na(e.type,!1);case 11:return na(e.type.render,!1);case 1:return na(e.type,!0);case 31:return Ii("Activity");default:return""}}function ia(e){try{var i="";do i+=So(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gh(e){var i=wo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ra(e){e._valueTracker||(e._valueTracker=Gh(e))}function Ro(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=wo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qh=/[\n"\\]/g;function ye(e){return e.replace(Qh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fn(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+tn(i)):e.value!==""+tn(i)&&(e.value=""+tn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?ur(e,v,tn(i)):a!=null?ur(e,v,tn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+tn(T):e.removeAttribute("name")}function cs(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function ur(e,i,a){i==="number"&&us(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ci(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+tn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+tn(a):""}function hs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var fs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||fs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Io(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&fu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&fu(e,d,i[d])}function Co(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return Yh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Di=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,xi=null;function Do(e){var i=Wn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(fn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[pe]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ro(l)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ci(e,!!a.multiple,i,!1)}}}var ei=!1;function du(e,i,a){if(ei)return e(i,a);ei=!0;try{var l=e(i);return l}finally{if(ei=!1,(Ni!==null||xi!==null)&&(ac(),Ni&&(i=Ni,e=xi,xi=Ni=null,Do(i),e)))for(i=0;i<e.length;i++)Do(e[i])}}function ds(e,i){var a=e.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(jn)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Rn=!1}var ni=null,cr=null,Oi=null;function No(){if(Oi)return Oi;var e,i=cr,a=i.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Oi=h.slice(e,1<l?1-l:void 0)}function ii(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function xo(){return!1}function Ne(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:xo,this.isPropagationStopped=xo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=Ne(Bt),gs=E({},Bt,{view:0,detail:0}),mu=Ne(gs),oa,la,si,ps=E({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(oa=e.screenX-si.screenX,la=e.screenY-si.screenY):la=oa=0,si=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:la}}),In=Ne(ps),gu=E({},ps,{dataTransfer:0}),Xh=Ne(gu),ys=E({},gs,{relatedTarget:0}),ua=Ne(ys),Oo=E({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),ca=Ne(Oo),pu=E({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ha=Ne(pu),$h=E({},Bt,{data:0}),Mo=Ne($h),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=_u[e])?!!i[e]:!1}function vs(){return Vo}var vu=E({},gs,{key:function(e){if(e.key){var i=_s[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fa=Ne(vu),Tu=E({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=Ne(Tu),Mi=E({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),Eu=Ne(Mi),Au=E({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Ne(Au),Su=E({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),da=Ne(Su),en=E({},Bt,{newState:0,oldState:0}),wu=Ne(en),Ru=[9,13,27,32],ai=jn&&"CompositionEvent"in window,u=null;jn&&"documentMode"in document&&(u=document.documentMode);var m=jn&&"TextEvent"in window&&!u,_=jn&&(!ai||u&&8<u&&11>=u),A=" ",U=!1;function q(e,i){switch(e){case"keyup":return Ru.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Se(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return e=i.data,e===A&&U?null:e;default:return null}}function Vt(e,i){if(Mt)return e==="compositionend"||!ai&&q(e,i)?(e=No(),Oi=cr=ni=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!xe[e.type]:i==="textarea"}function Vi(e,i,a,l){Ni?xi?xi.push(l):xi=[l]:Ni=l,i=fc(i,"onChange"),0<i.length&&(a=new aa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Le=null,oi=null;function Po(e){__(e,0)}function Iu(e){var i=Jn(e);if(Ro(i))return e}function zg(e,i){if(e==="change")return i}var jg=!1;if(jn){var Zh;if(jn){var Wh="oninput"in document;if(!Wh){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),Wh=typeof Bg.oninput=="function"}Zh=Wh}else Zh=!1;jg=Zh&&(!document.documentMode||9<document.documentMode)}function qg(){Le&&(Le.detachEvent("onpropertychange",Hg),oi=Le=null)}function Hg(e){if(e.propertyName==="value"&&Iu(oi)){var i=[];Vi(i,oi,e,wn(e)),du(Po,i)}}function HA(e,i,a){e==="focusin"?(qg(),Le=i,oi=a,Le.attachEvent("onpropertychange",Hg)):e==="focusout"&&qg()}function FA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(oi)}function GA(e,i){if(e==="click")return Iu(i)}function QA(e,i){if(e==="input"||e==="change")return Iu(i)}function KA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:KA;function Uo(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wr.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function Fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gg(e,i){var a=Fg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fg(a)}}function Qg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Qg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=us(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=us(e.document)}return i}function Jh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var YA=jn&&"documentMode"in document&&11>=document.documentMode,ma=null,tf=null,Lo=null,ef=!1;function Yg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||ma==null||ma!==us(l)||(l=ma,"selectionStart"in l&&Jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Lo&&Uo(Lo,l)||(Lo=l,l=fc(tf,"onSelect"),0<l.length&&(i=new aa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ma)))}function Ts(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ga={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},nf={},Xg={};jn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Es(e){if(nf[e])return nf[e];if(!ga[e])return e;var i=ga[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Xg)return nf[e]=i[a];return e}var $g=Es("animationend"),Zg=Es("animationiteration"),Wg=Es("animationstart"),XA=Es("transitionrun"),$A=Es("transitionstart"),ZA=Es("transitioncancel"),Jg=Es("transitionend"),tp=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Bn(e,i){tp.set(e,i),zn(i,[e])}var ep=new WeakMap;function Cn(e,i){if(typeof e=="object"&&e!==null){var a=ep.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ia(i)},ep.set(e,i),i)}return{value:e,source:i,stack:ia(i)}}var Dn=[],pa=0,sf=0;function Cu(){for(var e=pa,i=sf=pa=0;i<e;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&np(a,h,d)}}function Du(e,i,a,l){Dn[pa++]=e,Dn[pa++]=i,Dn[pa++]=a,Dn[pa++]=l,sf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function af(e,i,a,l){return Du(e,i,a,l),Nu(e)}function ya(e,i){return Du(e,null,null,i),Nu(e)}function np(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Nu(e){if(50<ul)throw ul=0,fd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var _a={};function WA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,i,a,l){return new WA(e,i,a,l)}function of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,i){var a=e.alternate;return a===null?(a=mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ip(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function xu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")of(e)&&(v=1);else if(typeof e=="string")v=tS(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=mn(31,a,i,h),e.elementType=C,e.lanes=d,e;case Z:return As(a.children,h,d,i);case W:v=8,h|=24;break;case H:return e=mn(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case Tt:return e=mn(13,a,i,h),e.elementType=Tt,e.lanes=d,e;case jt:return e=mn(19,a,i,h),e.elementType=jt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tt:case ot:v=10;break t;case st:v=9;break t;case bt:v=11;break t;case V:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=mn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function As(e,i,a,l){return e=mn(7,e,l,i),e.lanes=a,e}function lf(e,i,a){return e=mn(6,e,null,i),e.lanes=a,e}function uf(e,i,a){return i=mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var va=[],Ta=0,Ou=null,Mu=0,Nn=[],xn=0,bs=null,Pi=1,Ui="";function Ss(e,i){va[Ta++]=Mu,va[Ta++]=Ou,Ou=e,Mu=i}function rp(e,i,a){Nn[xn++]=Pi,Nn[xn++]=Ui,Nn[xn++]=bs,bs=e;var l=Pi;e=Ui;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var d=32-Ge(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pi=1<<32-Ge(i)+h|a<<h|l,Ui=d+e}else Pi=1<<d|a<<h|l,Ui=e}function cf(e){e.return!==null&&(Ss(e,1),rp(e,1,0))}function hf(e){for(;e===Ou;)Ou=va[--Ta],va[Ta]=null,Mu=va[--Ta],va[Ta]=null;for(;e===bs;)bs=Nn[--xn],Nn[xn]=null,Ui=Nn[--xn],Nn[xn]=null,Pi=Nn[--xn],Nn[xn]=null}var nn=null,le=null,zt=!1,ws=null,li=!1,ff=Error(s(519));function Rs(e){var i=Error(s(418,""));throw Bo(Cn(i,e)),ff}function sp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[be]=e,i[pe]=l,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<hl.length;a++)Dt(hl[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),cs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ra(i);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),hs(i,l.value,l.defaultValue,l.children),ra(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||A_(i.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),l.onScroll!=null&&Dt("scroll",i),l.onScrollEnd!=null&&Dt("scrollend",i),l.onClick!=null&&(i.onclick=dc),i=!0):i=!1,i||Rs(e)}function ap(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:nn=nn.return}}function zo(e){if(e!==nn)return!1;if(!zt)return ap(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cd(e.type,e.memoizedProps)),a=!a),a&&le&&Rs(e),ap(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){le=Hn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}le=null}}else i===27?(i=le,Rr(e.type)?(e=Od,Od=null,le=e):le=i):le=nn?Hn(e.stateNode.nextSibling):null;return!0}function jo(){le=nn=null,zt=!1}function op(){var e=ws;return e!==null&&(an===null?an=e:an.push.apply(an,e),ws=null),e}function Bo(e){ws===null?ws=[e]:ws.push(e)}var df=J(null),Is=null,Li=null;function hr(e,i,a){et(df,i._currentValue),i._currentValue=a}function zi(e){e._currentValue=df.current,rt(df)}function mf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function gf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var S=0;S<i.length;S++)if(T.context===i[S]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),mf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),mf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function qo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&gf(i,e,a,l),i.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Is=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return lp(Is,e)}function ku(e,i){return Is===null&&Cs(e),lp(e,i)}function lp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(s(308));Li=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Li=Li.next=i;return a}var JA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},tb=r.unstable_scheduleCallback,eb=r.unstable_NormalPriority,Re={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new JA,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&tb(eb,function(){e.controller.abort()})}var Fo=null,yf=0,Ea=0,Aa=null;function nb(e,i){if(Fo===null){var a=Fo=[];yf=0,Ea=vd(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yf++,i.then(up,up),i}function up(){if(--yf===0&&Fo!==null){Aa!==null&&(Aa.status="fulfilled");var e=Fo;Fo=null,Ea=0,Aa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ib(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var cp=G.S;G.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&nb(e,i),cp!==null&&cp(e,i)};var Ds=J(null);function _f(){var e=Ds.current;return e!==null?e:Wt.pooledCache}function Pu(e,i){i===null?et(Ds,Ds.current):et(Ds,i.pool)}function hp(){var e=_f();return e===null?null:{parent:Re._currentValue,pool:e}}var Go=Error(s(460)),fp=Error(s(474)),Uu=Error(s(542)),vf={then:function(){}};function dp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lu(){}function mp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Lu,Lu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,pp(e),e;default:if(typeof i.status=="string")i.then(Lu,Lu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,pp(e),e}throw Qo=i,Go}}var Qo=null;function gp(){if(Qo===null)throw Error(s(459));var e=Qo;return Qo=null,e}function pp(e){if(e===Go||e===Uu)throw Error(s(483))}var fr=!1;function Tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Nu(e),np(e,null,a),i}return Du(e,l,i,a),Nu(e)}function Ko(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Eo(e,a)}}function Af(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var bf=!1;function Yo(){if(bf){var e=Aa;if(e!==null)throw e}}function Xo(e,i,a,l){bf=!1;var h=e.updateQueue;fr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var S=T,z=S.next;S.next=null,v===null?d=z:v.next=z,v=S;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=S))}if(d!==null){var X=h.baseState;v=0,Q=z=S=null,T=d;do{var j=T.lane&-536870913,B=j!==T.lane;if(B?(kt&j)===j:(l&j)===j){j!==0&&j===Ea&&(bf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var yt=e,mt=T;j=i;var Xt=a;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){X=yt.call(Xt,X,j);break t}X=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,j=typeof yt=="function"?yt.call(Xt,X,j):yt,j==null)break t;X=E({},X,j);break t;case 2:fr=!0}}j=T.callback,j!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[j]:B.push(j))}else B={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=B,S=X):Q=Q.next=B,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);Q===null&&(S=X),h.baseState=S,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Ar|=v,e.lanes=v,e.memoizedState=X}}function yp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function _p(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)yp(a[e],i)}var ba=J(null),zu=J(0);function vp(e,i){e=Qi,et(zu,e),et(ba,i),Qi=e|i.baseLanes}function Sf(){et(zu,Qi),et(ba,ba.current)}function wf(){Qi=zu.current,rt(ba),rt(zu)}var gr=0,wt=null,Kt=null,_e=null,ju=!1,Sa=!1,Ns=!1,Bu=0,$o=0,wa=null,rb=0;function he(){throw Error(s(321))}function Rf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function If(e,i,a,l,h,d){return gr=d,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?ny:iy,Ns=!1,d=a(l,h),Ns=!1,Sa&&(d=Ep(i,a,l,h)),Tp(e),d}function Tp(e){G.H=Ku;var i=Kt!==null&&Kt.next!==null;if(gr=0,_e=Kt=wt=null,ju=!1,$o=0,wa=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Vu(e)&&(Oe=!0))}function Ep(e,i,a,l){wt=e;var h=0;do{if(Sa&&(wa=null),$o=0,Sa=!1,25<=h)throw Error(s(301));if(h+=1,_e=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=hb,d=i(a,l)}while(Sa);return d}function sb(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?Zo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(wt.flags|=1024),i}function Cf(){var e=Bu!==0;return Bu=0,e}function Df(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Nf(e){if(ju){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ju=!1}gr=0,_e=Kt=wt=null,Sa=!1,$o=Bu=0,wa=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?wt.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Kt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=_e===null?wt.memoizedState:_e.next;if(i!==null)_e=i,Kt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},_e===null?wt.memoizedState=_e=e:_e=_e.next=e}return _e}function xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var i=$o;return $o+=1,wa===null&&(wa=[]),e=mp(wa,e,i),i=wt,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?ny:iy),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===ot)return Qe(e)}throw Error(s(438,String(e)))}function Of(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=xf(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function ji(e,i){return typeof i=="function"?i(e):i}function Hu(e){var i=ve();return Mf(i,Kt,e)}function Mf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,S=null,z=i,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(kt&X)===X:(gr&X)===X){var j=z.revertLane;if(j===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ea&&(Q=!0);else if((gr&j)===j){z=z.next,j===Ea&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(T=S=X,v=d):S=S.next=X,wt.lanes|=j,Ar|=j;X=z.action,Ns&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else j={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(T=S=j,v=d):S=S.next=j,wt.lanes|=X,Ar|=X;z=z.next}while(z!==null&&z!==i);if(S===null?v=d:S.next=T,!dn(d,e.memoizedState)&&(Oe=!0,Q&&(a=Aa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=S,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Vf(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);dn(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ap(e,i,a){var l=wt,h=ve(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var T=wp.bind(null,l,h,e);if(Wo(2048,8,T,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,Ra(9,Fu(),Sp.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(gr&124)!==0||bp(l,i,a)}return a}function bp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=xf(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Sp(e,i,a,l){i.value=a,i.getSnapshot=l,Rp(i)&&Ip(e)}function wp(e,i,a){return a(function(){Rp(i)&&Ip(e)})}function Rp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function Ip(e){var i=ya(e,2);i!==null&&vn(i,e,2)}function kf(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Ns){hn(!0);try{a()}finally{hn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},i}function Cp(e,i,a,l){return e.baseState=a,Mf(e,Kt,typeof l=="function"?l:ji)}function ab(e,i,a,l,h){if(Qu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Dp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Dp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var T=a(h,l),S=G.S;S!==null&&S(v,T),Np(e,i,T)}catch(z){Pf(e,i,z)}finally{G.T=d}}else try{d=a(h,l),Np(e,i,d)}catch(z){Pf(e,i,z)}}function Np(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xp(e,i,l)},function(l){return Pf(e,i,l)}):xp(e,i,a)}function xp(e,i,a){i.status="fulfilled",i.value=a,Op(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Dp(e,a)))}function Pf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Op(i),i=i.next;while(i!==l)}e.action=null}function Op(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Mp(e,i){return i}function Vp(e,i){if(zt){var a=Wt.formState;if(a!==null){t:{var l=wt;if(zt){if(le){e:{for(var h=le,d=li;h.nodeType!==8;){if(!d){h=null;break e}if(h=Hn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){le=Hn(h.nextSibling),l=h.data==="F!";break t}}Rs(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:i},a.queue=l,a=Jp.bind(null,wt,l),l.dispatch=a,l=kf(!1),d=Bf.bind(null,wt,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=ab.bind(null,wt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function kp(e){var i=ve();return Pp(i,Kt,e)}function Pp(e,i,a){if(i=Mf(e,i,Mp)[0],e=Hu(ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Zo(i)}catch(v){throw v===Go?Uu:v}else l=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,Ra(9,Fu(),ob.bind(null,h,a),null)),[l,d,e]}function ob(e,i){e.action=i}function Up(e){var i=ve(),a=Kt;if(a!==null)return Pp(i,a,e);ve(),i=i.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ra(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=wt.updateQueue,i===null&&(i=xf(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Fu(){return{destroy:void 0,resource:void 0}}function Lp(){return ve().memoizedState}function Gu(e,i,a,l){var h=rn();l=l===void 0?null:l,wt.flags|=e,h.memoizedState=Ra(1|i,Fu(),a,l)}function Wo(e,i,a,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&Rf(l,Kt.memoizedState.deps)?h.memoizedState=Ra(i,d,a,l):(wt.flags|=e,h.memoizedState=Ra(1|i,d,a,l))}function zp(e,i){Gu(8390656,8,e,i)}function jp(e,i){Wo(2048,8,e,i)}function Bp(e,i){return Wo(4,2,e,i)}function qp(e,i){return Wo(4,4,e,i)}function Hp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Fp(e,i,a){a=a!=null?a.concat([e]):null,Wo(4,4,Hp.bind(null,i,e),a)}function Uf(){}function Gp(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Rf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Qp(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Rf(i,l[1]))return l[0];if(l=e(),Ns){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[l,i],l}function Lf(e,i,a){return a===void 0||(gr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Xy(),wt.lanes|=e,Ar|=e,a)}function Kp(e,i,a,l){return dn(a,i)?a:ba.current!==null?(e=Lf(e,a,l),dn(e,i)||(Oe=!0),e):(gr&42)===0?(Oe=!0,e.memoizedState=a):(e=Xy(),wt.lanes|=e,Ar|=e,i)}function Yp(e,i,a,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var v=G.T,T={};G.T=T,Bf(e,!1,i,a);try{var S=h(),z=G.S;if(z!==null&&z(T,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Q=ib(S,l);Jo(e,i,Q,_n(e))}else Jo(e,i,l,_n(e))}catch(X){Jo(e,i,{then:function(){},status:"rejected",reason:X},_n())}finally{it.p=d,G.T=v}}function lb(){}function zf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Xp(e).queue;Yp(e,h,i,ht,a===null?lb:function(){return $p(e),a(l)})}function Xp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function $p(e){var i=Xp(e).next.queue;Jo(e,i,{},_n())}function jf(){return Qe(yl)}function Zp(){return ve().memoizedState}function Wp(){return ve().memoizedState}function ub(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();e=dr(a);var l=mr(i,e,a);l!==null&&(vn(l,i,a),Ko(l,i,a)),i={cache:pf()},e.payload=i;return}i=i.return}}function cb(e,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(e)?ty(i,a):(a=af(e,i,a,l),a!==null&&(vn(a,e,l),ey(a,i,l)))}function Jp(e,i,a){var l=_n();Jo(e,i,a,l)}function Jo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))ty(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return Du(e,i,h,0),Wt===null&&Cu(),!1}catch{}finally{}if(a=af(e,i,h,l),a!==null)return vn(a,e,l),ey(a,i,l),!0}return!1}function Bf(e,i,a,l){if(l={lane:2,revertLane:vd(),action:l,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(i)throw Error(s(479))}else i=af(e,a,l,2),i!==null&&vn(i,e,2)}function Qu(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function ty(e,i){Sa=ju=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ey(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Eo(e,a)}}var Ku={readContext:Qe,use:qu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},ny={readContext:Qe,use:qu,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:zp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Gu(4194308,4,Hp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Gu(4194308,4,e,i)},useInsertionEffect:function(e,i){Gu(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var l=e();if(Ns){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Ns){hn(!0);try{a(i)}finally{hn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=cb.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=kf(e);var i=e.queue,a=Jp.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(e,i){var a=rn();return Lf(a,e,i)},useTransition:function(){var e=kf(!1);return e=Yp.bind(null,wt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=wt,h=rn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(kt&124)!==0||bp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,zp(wp.bind(null,l,d,e),[e]),l.flags|=2048,Ra(9,Fu(),Sp.bind(null,l,d,a,i),null),a},useId:function(){var e=rn(),i=Wt.identifierPrefix;if(zt){var a=Ui,l=Pi;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Bu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=rb++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:jf,useFormState:Vp,useActionState:Vp,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Of,useCacheRefresh:function(){return rn().memoizedState=ub.bind(null,wt)}},iy={readContext:Qe,use:qu,useCallback:Gp,useContext:Qe,useEffect:jp,useImperativeHandle:Fp,useInsertionEffect:Bp,useLayoutEffect:qp,useMemo:Qp,useReducer:Hu,useRef:Lp,useState:function(){return Hu(ji)},useDebugValue:Uf,useDeferredValue:function(e,i){var a=ve();return Kp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Hu(ji)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Zo(e),i]},useSyncExternalStore:Ap,useId:Zp,useHostTransitionStatus:jf,useFormState:kp,useActionState:kp,useOptimistic:function(e,i){var a=ve();return Cp(a,Kt,e,i)},useMemoCache:Of,useCacheRefresh:Wp},hb={readContext:Qe,use:qu,useCallback:Gp,useContext:Qe,useEffect:jp,useImperativeHandle:Fp,useInsertionEffect:Bp,useLayoutEffect:qp,useMemo:Qp,useReducer:Vf,useRef:Lp,useState:function(){return Vf(ji)},useDebugValue:Uf,useDeferredValue:function(e,i){var a=ve();return Kt===null?Lf(a,e,i):Kp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Vf(ji)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Zo(e),i]},useSyncExternalStore:Ap,useId:Zp,useHostTransitionStatus:jf,useFormState:Up,useActionState:Up,useOptimistic:function(e,i){var a=ve();return Kt!==null?Cp(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:Wp},Ia=null,tl=0;function Yu(e){var i=tl;return tl+=1,Ia===null&&(Ia=[]),mp(Ia,e,i)}function el(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Xu(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ry(e){var i=e._init;return i(e._payload)}function sy(e){function i(k,x){if(e){var L=k.deletions;L===null?(k.deletions=[x],k.flags|=16):L.push(x)}}function a(k,x){if(!e)return null;for(;x!==null;)i(k,x),x=x.sibling;return null}function l(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=ki(k,x),k.index=0,k.sibling=null,k}function d(k,x,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<x?(k.flags|=67108866,x):L):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,x,L,K){return x===null||x.tag!==6?(x=lf(L,k.mode,K),x.return=k,x):(x=h(x,L),x.return=k,x)}function S(k,x,L,K){var ut=L.type;return ut===Z?Q(k,x,L.props.children,K,L.key):x!==null&&(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&ry(ut)===x.type)?(x=h(x,L.props),el(x,L),x.return=k,x):(x=xu(L.type,L.key,L.props,null,k.mode,K),el(x,L),x.return=k,x)}function z(k,x,L,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=uf(L,k.mode,K),x.return=k,x):(x=h(x,L.children||[]),x.return=k,x)}function Q(k,x,L,K,ut){return x===null||x.tag!==7?(x=As(L,k.mode,K,ut),x.return=k,x):(x=h(x,L),x.return=k,x)}function X(k,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=lf(""+x,k.mode,L),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case R:return L=xu(x.type,x.key,x.props,null,k.mode,L),el(L,x),L.return=k,L;case F:return x=uf(x,k.mode,L),x.return=k,x;case b:var K=x._init;return x=K(x._payload),X(k,x,L)}if(ae(x)||P(x))return x=As(x,k.mode,L,null),x.return=k,x;if(typeof x.then=="function")return X(k,Yu(x),L);if(x.$$typeof===ot)return X(k,ku(k,x),L);Xu(k,x)}return null}function j(k,x,L,K){var ut=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:T(k,x,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return L.key===ut?S(k,x,L,K):null;case F:return L.key===ut?z(k,x,L,K):null;case b:return ut=L._init,L=ut(L._payload),j(k,x,L,K)}if(ae(L)||P(L))return ut!==null?null:Q(k,x,L,K,null);if(typeof L.then=="function")return j(k,x,Yu(L),K);if(L.$$typeof===ot)return j(k,x,ku(k,L),K);Xu(k,L)}return null}function B(k,x,L,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,T(x,k,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case R:return k=k.get(K.key===null?L:K.key)||null,S(x,k,K,ut);case F:return k=k.get(K.key===null?L:K.key)||null,z(x,k,K,ut);case b:var It=K._init;return K=It(K._payload),B(k,x,L,K,ut)}if(ae(K)||P(K))return k=k.get(L)||null,Q(x,k,K,ut,null);if(typeof K.then=="function")return B(k,x,L,Yu(K),ut);if(K.$$typeof===ot)return B(k,x,L,ku(x,K),ut);Xu(x,K)}return null}function yt(k,x,L,K){for(var ut=null,It=null,ct=x,gt=x=0,Ve=null;ct!==null&&gt<L.length;gt++){ct.index>gt?(Ve=ct,ct=null):Ve=ct.sibling;var Ut=j(k,ct,L[gt],K);if(Ut===null){ct===null&&(ct=Ve);break}e&&ct&&Ut.alternate===null&&i(k,ct),x=d(Ut,x,gt),It===null?ut=Ut:It.sibling=Ut,It=Ut,ct=Ve}if(gt===L.length)return a(k,ct),zt&&Ss(k,gt),ut;if(ct===null){for(;gt<L.length;gt++)ct=X(k,L[gt],K),ct!==null&&(x=d(ct,x,gt),It===null?ut=ct:It.sibling=ct,It=ct);return zt&&Ss(k,gt),ut}for(ct=l(ct);gt<L.length;gt++)Ve=B(ct,k,gt,L[gt],K),Ve!==null&&(e&&Ve.alternate!==null&&ct.delete(Ve.key===null?gt:Ve.key),x=d(Ve,x,gt),It===null?ut=Ve:It.sibling=Ve,It=Ve);return e&&ct.forEach(function(xr){return i(k,xr)}),zt&&Ss(k,gt),ut}function mt(k,x,L,K){if(L==null)throw Error(s(151));for(var ut=null,It=null,ct=x,gt=x=0,Ve=null,Ut=L.next();ct!==null&&!Ut.done;gt++,Ut=L.next()){ct.index>gt?(Ve=ct,ct=null):Ve=ct.sibling;var xr=j(k,ct,Ut.value,K);if(xr===null){ct===null&&(ct=Ve);break}e&&ct&&xr.alternate===null&&i(k,ct),x=d(xr,x,gt),It===null?ut=xr:It.sibling=xr,It=xr,ct=Ve}if(Ut.done)return a(k,ct),zt&&Ss(k,gt),ut;if(ct===null){for(;!Ut.done;gt++,Ut=L.next())Ut=X(k,Ut.value,K),Ut!==null&&(x=d(Ut,x,gt),It===null?ut=Ut:It.sibling=Ut,It=Ut);return zt&&Ss(k,gt),ut}for(ct=l(ct);!Ut.done;gt++,Ut=L.next())Ut=B(ct,k,gt,Ut.value,K),Ut!==null&&(e&&Ut.alternate!==null&&ct.delete(Ut.key===null?gt:Ut.key),x=d(Ut,x,gt),It===null?ut=Ut:It.sibling=Ut,It=Ut);return e&&ct.forEach(function(fS){return i(k,fS)}),zt&&Ss(k,gt),ut}function Xt(k,x,L,K){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case R:t:{for(var ut=L.key;x!==null;){if(x.key===ut){if(ut=L.type,ut===Z){if(x.tag===7){a(k,x.sibling),K=h(x,L.props.children),K.return=k,k=K;break t}}else if(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&ry(ut)===x.type){a(k,x.sibling),K=h(x,L.props),el(K,L),K.return=k,k=K;break t}a(k,x);break}else i(k,x);x=x.sibling}L.type===Z?(K=As(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=xu(L.type,L.key,L.props,null,k.mode,K),el(K,L),K.return=k,k=K)}return v(k);case F:t:{for(ut=L.key;x!==null;){if(x.key===ut)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){a(k,x.sibling),K=h(x,L.children||[]),K.return=k,k=K;break t}else{a(k,x);break}else i(k,x);x=x.sibling}K=uf(L,k.mode,K),K.return=k,k=K}return v(k);case b:return ut=L._init,L=ut(L._payload),Xt(k,x,L,K)}if(ae(L))return yt(k,x,L,K);if(P(L)){if(ut=P(L),typeof ut!="function")throw Error(s(150));return L=ut.call(L),mt(k,x,L,K)}if(typeof L.then=="function")return Xt(k,x,Yu(L),K);if(L.$$typeof===ot)return Xt(k,x,ku(k,L),K);Xu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(a(k,x.sibling),K=h(x,L),K.return=k,k=K):(a(k,x),K=lf(L,k.mode,K),K.return=k,k=K),v(k)):a(k,x)}return function(k,x,L,K){try{tl=0;var ut=Xt(k,x,L,K);return Ia=null,ut}catch(ct){if(ct===Go||ct===Uu)throw ct;var It=mn(29,ct,null,k.mode);return It.lanes=K,It.return=k,It}finally{}}}var Ca=sy(!0),ay=sy(!1),On=J(null),ui=null;function pr(e){var i=e.alternate;et(Ie,Ie.current&1),et(On,e),ui===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(ui=e)}function oy(e){if(e.tag===22){if(et(Ie,Ie.current),et(On,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else yr()}function yr(){et(Ie,Ie.current),et(On,On.current)}function Bi(e){rt(On),ui===e&&(ui=null),rt(Ie)}var Ie=J(0);function $u(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||xd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function qf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Hf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=_n(),h=dr(l);h.payload=i,a!=null&&(h.callback=a),i=mr(e,h,l),i!==null&&(vn(i,e,l),Ko(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=_n(),h=dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=mr(e,h,l),i!==null&&(vn(i,e,l),Ko(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=_n(),l=dr(a);l.tag=2,i!=null&&(l.callback=i),i=mr(e,l,a),i!==null&&(vn(i,e,a),Ko(i,e,a))}};function ly(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Uo(a,l)||!Uo(h,d):!0}function uy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Hf.enqueueReplaceState(i,i.state,null)}function xs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cy(e){Zu(e)}function hy(e){console.error(e)}function fy(e){Zu(e)}function Wu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function dy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(e,i,a){return a=dr(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,i)},a}function my(e){return e=dr(e),e.tag=3,e}function gy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){dy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){dy(i,a,l),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function fb(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&qo(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ui===null?md():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===vf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),pd(e,l,h)),!1;case 22:return a.flags|=65536,l===vf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),pd(e,l,h)),!1}throw Error(s(435,a.tag))}return pd(e,l,h),md(),!1}if(zt)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ff&&(e=Error(s(422),{cause:l}),Bo(Cn(e,a)))):(l!==ff&&(i=Error(s(423),{cause:l}),Bo(Cn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Cn(l,a),h=Ff(e.stateNode,l,h),Af(e,h),ue!==4&&(ue=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),ll===null?ll=[d]:ll.push(d),ue!==4&&(ue=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Ff(a.stateNode,l,e),Af(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=my(h),gy(h,e,a,l),Af(a,h),!1}a=a.return}while(a!==null);return!1}var py=Error(s(461)),Oe=!1;function ze(e,i,a,l){i.child=e===null?ay(i,null,a,l):Ca(i,e.child,a,l)}function yy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Cs(i),l=If(e,i,a,v,d,h),T=Cf(),e!==null&&!Oe?(Df(e,i,h),qi(e,i,h)):(zt&&T&&cf(i),i.flags|=1,ze(e,i,l,h),i.child)}function _y(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,vy(e,i,d,l,h)):(e=xu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Wf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(v,l)&&e.ref===i.ref)return qi(e,i,h)}return i.flags|=1,e=ki(d,l),e.ref=i.ref,e.return=i,i.child=e}function vy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Uo(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,Wf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,qi(e,i,h)}return Gf(e,i,a,l,h)}function Ty(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ey(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pu(i,d!==null?d.cachePool:null),d!==null?vp(i,d):Sf(),oy(i);else return i.lanes=i.childLanes=536870912,Ey(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Pu(i,d.cachePool),vp(i,d),yr(),i.memoizedState=null):(e!==null&&Pu(i,null),Sf(),yr());return ze(e,i,h,a),i.child}function Ey(e,i,a,l){var h=_f();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Pu(i,null),Sf(),oy(i),e!==null&&qo(e,i,l,!0),null}function Ju(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Gf(e,i,a,l,h){return Cs(i),a=If(e,i,a,l,void 0,h),l=Cf(),e!==null&&!Oe?(Df(e,i,h),qi(e,i,h)):(zt&&l&&cf(i),i.flags|=1,ze(e,i,a,h),i.child)}function Ay(e,i,a,l,h,d){return Cs(i),i.updateQueue=null,a=Ep(i,l,a,h),Tp(e),l=Cf(),e!==null&&!Oe?(Df(e,i,d),qi(e,i,d)):(zt&&l&&cf(i),i.flags|=1,ze(e,i,a,d),i.child)}function by(e,i,a,l,h){if(Cs(i),i.stateNode===null){var d=_a,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Tf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):_a,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(qf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Hf.enqueueReplaceState(d,d.state,null),Xo(i,l,d,h),Yo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,S=xs(a,T);d.props=S;var z=d.context,Q=a.contextType;v=_a,typeof Q=="object"&&Q!==null&&(v=Qe(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&uy(i,d,l,v),fr=!1;var j=i.memoizedState;d.state=j,Xo(i,l,d,h),Yo(),z=i.memoizedState,T||j!==z||fr?(typeof X=="function"&&(qf(i,a,X,l),z=i.memoizedState),(S=fr||ly(i,a,S,l,j,z,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=S):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Ef(e,i),v=i.memoizedProps,Q=xs(a,v),d.props=Q,X=i.pendingProps,j=d.context,z=a.contextType,S=_a,typeof z=="object"&&z!==null&&(S=Qe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||j!==S)&&uy(i,d,l,S),fr=!1,j=i.memoizedState,d.state=j,Xo(i,l,d,h),Yo();var B=i.memoizedState;v!==X||j!==B||fr||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof T=="function"&&(qf(i,a,T,l),B=i.memoizedState),(Q=fr||ly(i,a,Q,l,j,B,S)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,S)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=S,l=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ju(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ca(i,e.child,null,h),i.child=Ca(i,null,a,h)):ze(e,i,a,h),i.memoizedState=d.state,e=i.child):e=qi(e,i,h),e}function Sy(e,i,a,l){return jo(),i.flags|=256,ze(e,i,a,l),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(e){return{baseLanes:e,cachePool:hp()}}function Yf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Mn),e}function wy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?pr(i):yr(),zt){var T=le,S;if(S=T){t:{for(S=T,T=li;S.nodeType!==8;){if(!T){T=null;break t}if(S=Hn(S.nextSibling),S===null){T=null;break t}}T=S}T!==null?(i.memoizedState={dehydrated:T,treeContext:bs!==null?{id:Pi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},S=mn(18,null,null,0),S.stateNode=T,S.return=i,i.child=S,nn=i,le=null,S=!0):S=!1}S||Rs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return xd(T)?i.lanes=32:i.lanes=536870912,null;Bi(i)}return T=l.children,l=l.fallback,h?(yr(),h=i.mode,T=tc({mode:"hidden",children:T},h),l=As(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Kf(a),h.childLanes=Yf(e,v,a),i.memoizedState=Qf,l):(pr(i),Xf(i,T))}if(S=e.memoizedState,S!==null&&(T=S.dehydrated,T!==null)){if(d)i.flags&256?(pr(i),i.flags&=-257,i=$f(e,i,a)):i.memoizedState!==null?(yr(),i.child=e.child,i.flags|=128,i=null):(yr(),h=l.fallback,T=i.mode,l=tc({mode:"visible",children:l.children},T),h=As(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ca(i,e.child,null,a),l=i.child,l.memoizedState=Kf(a),l.childLanes=Yf(e,v,a),i.memoizedState=Qf,i=h);else if(pr(i),xd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Bo({value:l,source:null,stack:null}),i=$f(e,i,a)}else if(Oe||qo(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:rr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,ya(e,l),vn(v,e,l),py;T.data==="$?"||md(),i=$f(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=S.treeContext,le=Hn(T.nextSibling),nn=i,zt=!0,ws=null,li=!1,e!==null&&(Nn[xn++]=Pi,Nn[xn++]=Ui,Nn[xn++]=bs,Pi=e.id,Ui=e.overflow,bs=i),i=Xf(i,l.children),i.flags|=4096);return i}return h?(yr(),h=l.fallback,T=i.mode,S=e.child,z=S.sibling,l=ki(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,z!==null?h=ki(z,h):(h=As(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Kf(a):(S=T.cachePool,S!==null?(z=Re._currentValue,S=S.parent!==z?{parent:z,pool:z}:S):S=hp(),T={baseLanes:T.baseLanes|a,cachePool:S}),h.memoizedState=T,h.childLanes=Yf(e,v,a),i.memoizedState=Qf,l):(pr(i),a=e.child,e=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Xf(e,i){return i=tc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function tc(e,i){return e=mn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function $f(e,i,a){return Ca(i,e.child,null,a),e=Xf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ry(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),mf(e.return,i,a)}function Zf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Iy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,i,l.children,a),l=Ie.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ry(e,a,i);else if(e.tag===19)Ry(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(et(Ie,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&$u(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Zf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&$u(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Zf(i,!0,a,null,d);break;case"together":Zf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(qo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=ki(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ki(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Wf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function db(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),hr(i,Re,e.memoizedState.cache),jo();break;case 27:case 5:ir(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:hr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wy(e,i,a):(pr(i),e=qi(e,i,a),e!==null?e.sibling:null);pr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(qo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Iy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ie,Ie.current),l)break;return null;case 22:case 23:return i.lanes=0,Ty(e,i,a);case 24:hr(i,Re,e.memoizedState.cache)}return qi(e,i,a)}function Cy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!Wf(e,a)&&(i.flags&128)===0)return Oe=!1,db(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,zt&&(i.flags&1048576)!==0&&rp(i,Mu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")of(l)?(e=xs(l,e),i.tag=1,i=by(null,i,l,e,a)):(i.tag=0,i=Gf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===bt){i.tag=11,i=yy(null,i,l,e,a);break t}else if(h===V){i.tag=14,i=_y(null,i,l,e,a);break t}}throw i=Pe(l)||l,Error(s(306,i,""))}}return i;case 0:return Gf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=xs(l,i.pendingProps),by(e,i,l,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Ef(e,i),Xo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,hr(i,Re,l),l!==d.cache&&gf(i,[Re],a,!0),Yo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Sy(e,i,l,a);break t}else if(l!==h){h=Cn(Error(s(424)),i),Bo(h),i=Sy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Hn(e.firstChild),nn=i,zt=!0,ws=null,li=!0,a=ay(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jo(),l===h){i=qi(e,i,a);break t}ze(e,i,l,a)}i=i.child}return i;case 26:return Ju(e,i),e===null?(a=O_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=mc(vt.current).createElement(a),l[be]=i,l[pe]=e,Be(l,a,e),ce(l),i.stateNode=l):i.memoizedState=O_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ir(i),e===null&&zt&&(l=i.stateNode=D_(i.type,i.pendingProps,vt.current),nn=i,li=!0,h=le,Rr(i.type)?(Od=h,le=Hn(l.firstChild)):le=h),ze(e,i,i.pendingProps.children,a),Ju(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=le)&&(l=Bb(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,nn=i,le=Hn(l.firstChild),li=!1,h=!0):h=!1),h||Rs(i)),ir(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Cd(h,d)?l=null:v!==null&&Cd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=If(e,i,sb,null,null,a),yl._currentValue=h),Ju(e,i),ze(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=le)&&(a=qb(a,i.pendingProps,li),a!==null?(i.stateNode=a,nn=i,le=null,e=!0):e=!1),e||Rs(i)),null;case 13:return wy(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ca(i,null,l,a):ze(e,i,l,a),i.child;case 11:return yy(e,i,i.type,i.pendingProps,a);case 7:return ze(e,i,i.pendingProps,a),i.child;case 8:return ze(e,i,i.pendingProps.children,a),i.child;case 12:return ze(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,hr(i,i.type,l.value),ze(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Cs(i),h=Qe(h),l=l(h),i.flags|=1,ze(e,i,l,a),i.child;case 14:return _y(e,i,i.type,i.pendingProps,a);case 15:return vy(e,i,i.type,i.pendingProps,a);case 19:return Iy(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=tc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ki(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ty(e,i,a);case 24:return Cs(i),l=Qe(Re),e===null?(h=_f(),h===null&&(h=Wt,d=pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Tf(i),hr(i,Re,h)):((e.lanes&a)!==0&&(Ef(e,i),Xo(i,null,null,a),Yo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),hr(i,Re,l)):(l=d.cache,hr(i,Re,l),l!==h.cache&&gf(i,[Re],a,!0))),ze(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(e){e.flags|=4}function Dy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!U_(i)){if(i=On.current,i!==null&&((kt&4194048)===kt?ui!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ui))throw Qo=vf,fp;e.flags|=8192}}function ec(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?vo():536870912,e.lanes|=i,Oa|=i)}function nl(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function mb(e,i,a){var l=i.pendingProps;switch(hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(Re),$n(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zo(i)?Hi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,op())),re(i),null;case 26:return a=i.memoizedState,e===null?(Hi(i),a!==null?(re(i),Dy(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Hi(i),re(i),Dy(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==l&&Hi(i),re(i),i.flags&=-16777217),null;case 27:Ai(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=dt.current,zo(i)?sp(i):(e=D_(h,l,a),i.stateNode=e,Hi(i))}return re(i),null;case 5:if(Ai(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=dt.current,zo(i))sp(i);else{switch(h=mc(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[be]=i,e[pe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Hi(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,zo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[be]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||A_(e.nodeValue,a)),e||Rs(i)}else e=mc(e).createTextNode(l),e[be]=i,i.stateNode=e}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=zo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[be]=i}else jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=op(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Bi(i),i):(Bi(i),null)}if(Bi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),ec(i,i.updateQueue),re(i),null;case 4:return $n(),e===null&&bd(i.stateNode.containerInfo),re(i),null;case 10:return zi(i.type),re(i),null;case 19:if(rt(Ie),h=i.memoizedState,h===null)return re(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)nl(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=$u(e),d!==null){for(i.flags|=128,nl(h,!1),e=d.updateQueue,i.updateQueue=e,ec(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ip(a,e),a=a.sibling;return et(Ie,Ie.current&1|2),i.child}e=e.sibling}h.tail!==null&&An()>rc&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304)}else{if(!l)if(e=$u(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,ec(i,e),nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!zt)return re(i),null}else 2*An()-h.renderingStartTime>rc&&a!==536870912&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=An(),i.sibling=null,e=Ie.current,et(Ie,l?e&1|2:e&1),i):(re(i),null);case 22:case 23:return Bi(i),wf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&ec(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&rt(Ds),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(Re),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function gb(e,i){switch(hf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zi(Re),$n(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ai(i),null;case 13:if(Bi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));jo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return rt(Ie),null;case 4:return $n(),null;case 10:return zi(i.type),null;case 22:case 23:return Bi(i),wf(),e!==null&&rt(Ds),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zi(Re),null;case 25:return null;default:return null}}function Ny(e,i){switch(hf(i),i.tag){case 3:zi(Re),$n();break;case 26:case 27:case 5:Ai(i);break;case 4:$n();break;case 13:Bi(i);break;case 19:rt(Ie);break;case 10:zi(i.type);break;case 22:case 23:Bi(i),wf(),e!==null&&rt(Ds);break;case 24:zi(Re)}}function il(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function _r(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var S=a,z=T;try{z()}catch(Q){$t(h,S,Q)}}}l=l.next}while(l!==d)}}catch(Q){$t(i,i.return,Q)}}function xy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{_p(i,a)}catch(l){$t(e,e.return,l)}}}function Oy(e,i,a){a.props=xs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function rl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function ci(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function My(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Jf(e,i,a){try{var l=e.stateNode;Pb(l,e.type,a,i),l[pe]=i}catch(h){$t(e,e.return,h)}}function Vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rr(e.type)||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=dc));else if(l!==4&&(l===27&&Rr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ed(e,i,a),e=e.sibling;e!==null;)ed(e,i,a),e=e.sibling}function nc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Rr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nc(e,i,a),e=e.sibling;e!==null;)nc(e,i,a),e=e.sibling}function ky(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Be(i,l,a),i[be]=e,i[pe]=a}catch(d){$t(e,e.return,d)}}var Fi=!1,fe=!1,nd=!1,Py=typeof WeakSet=="function"?WeakSet:Set,Me=null;function pb(e,i){if(e=e.containerInfo,Rd=Tc,e=Kg(e),Jh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,S=-1,z=0,Q=0,X=e,j=null;e:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(T=v+h),X!==d||l!==0&&X.nodeType!==3||(S=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(B=X.firstChild)!==null;)j=X,X=B;for(;;){if(X===e)break e;if(j===a&&++z===h&&(T=v),j===d&&++Q===l&&(S=v),(B=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=B}a=T===-1||S===-1?null:{start:T,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:e,selectionRange:a},Tc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var yt=xs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(yt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(mt){$t(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Nd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}}function Uy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vr(e,a),l&4&&il(5,a);break;case 1:if(vr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=xs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&xy(a),l&512&&rl(a,a.return);break;case 3:if(vr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{_p(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&l&4&&ky(a);case 26:case 5:vr(e,a),i===null&&l&4&&My(a),l&512&&rl(a,a.return);break;case 12:vr(e,a);break;case 13:vr(e,a),l&4&&jy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wb.bind(null,a),Hb(e,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||fe,h=Fi;var d=fe;Fi=l,(fe=i)&&!d?Tr(e,a,(a.subtreeFlags&8772)!==0):vr(e,a),Fi=h,fe=d}break;case 30:break;default:vr(e,a)}}function Ly(e){var i=e.alternate;i!==null&&(e.alternate=null,Ly(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&or(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,sn=!1;function Gi(e,i,a){for(a=a.child;a!==null;)zy(e,i,a),a=a.sibling}function zy(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:fe||ci(a,i),Gi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||ci(a,i);var l=ne,h=sn;Rr(a.type)&&(ne=a.stateNode,sn=!1),Gi(e,i,a),dl(a.stateNode),ne=l,sn=h;break;case 5:fe||ci(a,i);case 6:if(l=ne,h=sn,ne=null,Gi(e,i,a),ne=l,sn=h,ne!==null)if(sn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ne.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ne!==null&&(sn?(e=ne,I_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),El(e)):I_(ne,a.stateNode));break;case 4:l=ne,h=sn,ne=a.stateNode.containerInfo,sn=!0,Gi(e,i,a),ne=l,sn=h;break;case 0:case 11:case 14:case 15:fe||_r(2,a,i),fe||_r(4,a,i),Gi(e,i,a);break;case 1:fe||(ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Oy(a,i,l)),Gi(e,i,a);break;case 21:Gi(e,i,a);break;case 22:fe=(l=fe)||a.memoizedState!==null,Gi(e,i,a),fe=l;break;default:Gi(e,i,a)}}function jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{El(e)}catch(a){$t(i,i.return,a)}}function yb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Py),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Py),i;default:throw Error(s(435,e.tag))}}function id(e,i){var a=yb(e);i.forEach(function(l){var h=Rb.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function gn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Rr(T.type)){ne=T.stateNode,sn=!1;break t}break;case 5:ne=T.stateNode,sn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ne===null)throw Error(s(160));zy(d,v,h),ne=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)By(i,e),i=i.sibling}var qn=null;function By(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(i,e),pn(e),l&4&&(_r(3,e,e.return),il(3,e),_r(5,e,e.return));break;case 1:gn(i,e),pn(e),l&512&&(fe||a===null||ci(a,a.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(gn(i,e),pn(e),l&512&&(fe||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[as]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[be]=e,ce(d),l=d;break t;case"link":var v=k_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(v=k_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[be]=e,ce(d),l=d}e.stateNode=l}else P_(h,e.type,e.stateNode);else e.stateNode=V_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?P_(h,e.type,e.stateNode):V_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Jf(e,e.memoizedProps,a.memoizedProps)}break;case 27:gn(i,e),pn(e),l&512&&(fe||a===null||ci(a,a.return)),a!==null&&l&4&&Jf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,e),pn(e),l&512&&(fe||a===null||ci(a,a.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(B){$t(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Jf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(gn(i,e),pn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){$t(e,e.return,B)}}break;case 3:if(yc=null,h=qn,qn=gc(i.containerInfo),gn(i,e),qn=h,pn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{El(i.containerInfo)}catch(B){$t(e,e.return,B)}nd&&(nd=!1,qy(e));break;case 4:l=qn,qn=gc(e.stateNode.containerInfo),gn(i,e),pn(e),qn=l;break;case 12:gn(i,e),pn(e);break;case 13:gn(i,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ud=An()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,id(e,l)));break;case 22:h=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,z=Fi,Q=fe;if(Fi=z||h,fe=Q||S,gn(i,e),fe=Q,Fi=z,pn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||S||Fi||fe||Os(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){S=a=i;try{if(d=S.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=S.stateNode;var X=S.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(B){$t(S,S.return,B)}}}else if(i.tag===6){if(a===null){S=i;try{S.stateNode.nodeValue=h?"":S.memoizedProps}catch(B){$t(S,S.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,id(e,a))));break;case 19:gn(i,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,id(e,l)));break;case 30:break;case 21:break;default:gn(i,e),pn(e)}}function pn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Vy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=td(e);nc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Sn(v,""),a.flags&=-33);var T=td(e);nc(e,T,v);break;case 3:case 4:var S=a.stateNode.containerInfo,z=td(e);ed(e,z,S);break;default:throw Error(s(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function vr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Uy(e,i.alternate,i),i=i.sibling}function Os(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:_r(4,i,i.return),Os(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Oy(i,i.return,a),Os(i);break;case 27:dl(i.stateNode);case 26:case 5:ci(i,i.return),Os(i);break;case 22:i.memoizedState===null&&Os(i);break;case 30:Os(i);break;default:Os(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),il(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)yp(S[h],T)}catch(z){$t(l,l.return,z)}}a&&v&64&&xy(d),rl(d,d.return);break;case 27:ky(d);case 26:case 5:Tr(h,d,a),a&&l===null&&v&4&&My(d),rl(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&v&4&&jy(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),rl(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function rd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ho(a))}function sd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ho(e))}function hi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hy(e,i,a,l),i=i.sibling}function Hy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hi(e,i,a,l),h&2048&&il(9,i);break;case 1:hi(e,i,a,l);break;case 3:hi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){hi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){$t(i,i.return,S)}}else hi(e,i,a,l);break;case 13:hi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?hi(e,i,a,l):sl(e,i):d._visibility&2?hi(e,i,a,l):(d._visibility|=2,Da(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&rd(v,i);break;case 24:hi(e,i,a,l),h&2048&&sd(i.alternate,i);break;default:hi(e,i,a,l)}}function Da(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,S=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Da(d,v,T,S,h),il(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Da(d,v,T,S,h):sl(d,v):(Q._visibility|=2,Da(d,v,T,S,h)),h&&z&2048&&rd(v.alternate,v);break;case 24:Da(d,v,T,S,h),h&&z&2048&&sd(v.alternate,v);break;default:Da(d,v,T,S,h)}i=i.sibling}}function sl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:sl(a,l),h&2048&&rd(l.alternate,l);break;case 24:sl(a,l),h&2048&&sd(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function Na(e){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Fy(e),e=e.sibling}function Fy(e){switch(e.tag){case 26:Na(e),e.flags&al&&e.memoizedState!==null&&nS(qn,e.memoizedState,e.memoizedProps);break;case 5:Na(e);break;case 3:case 4:var i=qn;qn=gc(e.stateNode.containerInfo),Na(e),qn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=al,al=16777216,Na(e),al=i):Na(e));break;default:Na(e)}}function Gy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ol(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,Ky(l,e)}Gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&_r(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ic(e)):ol(e);break;default:ol(e)}}function ic(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,Ky(l,e)}Gy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:_r(8,i,i.return),ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ic(i));break;default:ic(i)}e=e.sibling}}function Ky(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:_r(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(Ly(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}var _b={getCacheForType:function(e){var i=Qe(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},vb=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Ct=null,kt=0,Gt=0,yn=null,Er=!1,xa=!1,ad=!1,Qi=0,ue=0,Ar=0,Ms=0,od=0,Mn=0,Oa=0,ll=null,an=null,ld=!1,ud=0,rc=1/0,sc=null,br=null,je=0,Sr=null,Ma=null,Va=0,cd=0,hd=null,Yy=null,ul=0,fd=null;function _n(){if((Ft&2)!==0&&kt!==0)return kt&-kt;if(G.T!==null){var e=Ea;return e!==0?e:vd()}return sr()}function Xy(){Mn===0&&(Mn=(kt&536870912)===0||zt?_o():536870912);var e=On.current;return e!==null&&(e.flags|=32),Mn}function vn(e,i,a){(e===Wt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),wr(e,kt,Mn,!1)),Si(e,a),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(Ms|=a),ue===4&&wr(e,kt,Mn,!1)),fi(e))}function $y(e,i,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||ss(e,i),h=l?Ab(e,i):gd(e,i,!0),d=l;do{if(h===0){xa&&!l&&wr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!Tb(a)){h=gd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=ll;var S=T.current.memoizedState.isDehydrated;if(S&&(ka(T,v).flags|=256),v=gd(T,v,!1),v!==2){if(ad&&!S){T.errorRecoveryDisabledLanes|=d,Ms|=d,h=4;break t}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ka(e,0),wr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:wr(l,i,Mn,!Er);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ud+300-An(),10<h)){if(wr(l,i,Mn,!Er),Ws(l,0,!0)!==0)break t;l.timeoutHandle=w_(Zy.bind(null,l,a,an,sc,ld,i,Mn,Ms,Oa,Er,d,2,-0,0),h);break t}Zy(l,a,an,sc,ld,i,Mn,Ms,Oa,Er,d,0,-0,0)}}break}while(!0);fi(e)}function Zy(e,i,a,l,h,d,v,T,S,z,Q,X,j,B){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:eS},Fy(i),X=iS(),X!==null)){e.cancelPendingCommit=X(r_.bind(null,e,i,d,a,l,h,v,T,S,Q,1,j,B)),wr(e,d,v,!z);return}r_(e,i,d,a,l,h,v,T,S)}function Tb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wr(e,i,a,l){i&=~od,i&=~Ms,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Zn(e,a,i)}function ac(){return(Ft&6)===0?(cl(0),!1):!0}function dd(){if(Ct!==null){if(Gt===0)var e=Ct.return;else e=Ct,Li=Is=null,Nf(e),Ia=null,tl=0,e=Ct;for(;e!==null;)Ny(e.alternate,e),e=e.return;Ct=null}}function ka(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Lb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),dd(),Wt=e,Ct=a=ki(e.current,null),kt=i,Gt=0,yn=null,Er=!1,xa=ss(e,i),ad=!1,Oa=Mn=od=Ms=Ar=ue=0,an=ll=null,ld=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ge(l),d=1<<h;i|=e[h],l&=~d}return Qi=i,Cu(),a}function Wy(e,i){wt=null,G.H=Ku,i===Go||i===Uu?(i=gp(),Gt=3):i===fp?(i=gp(),Gt=4):Gt=i===py?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Ct===null&&(ue=1,Wu(e,Cn(i,e.current)))}function Jy(){var e=G.H;return G.H=Ku,e===null?Ku:e}function t_(){var e=G.A;return G.A=_b,e}function md(){ue=4,Er||(kt&4194048)!==kt&&On.current!==null||(xa=!0),(Ar&134217727)===0&&(Ms&134217727)===0||Wt===null||wr(Wt,kt,Mn,!1)}function gd(e,i,a){var l=Ft;Ft|=2;var h=Jy(),d=t_();(Wt!==e||kt!==i)&&(sc=null,ka(e,i)),i=!1;var v=ue;t:do try{if(Gt!==0&&Ct!==null){var T=Ct,S=yn;switch(Gt){case 8:dd(),v=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var z=Gt;if(Gt=0,yn=null,Pa(e,T,S,z),a&&xa){v=0;break t}break;default:z=Gt,Gt=0,yn=null,Pa(e,T,S,z)}}Eb(),v=ue;break}catch(Q){Wy(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Li=Is=null,Ft=l,G.H=h,G.A=d,Ct===null&&(Wt=null,kt=0,Cu()),v}function Eb(){for(;Ct!==null;)e_(Ct)}function Ab(e,i){var a=Ft;Ft|=2;var l=Jy(),h=t_();Wt!==e||kt!==i?(sc=null,rc=An()+500,ka(e,i)):xa=ss(e,i);t:do try{if(Gt!==0&&Ct!==null){i=Ct;var d=yn;e:switch(Gt){case 1:Gt=0,yn=null,Pa(e,i,d,1);break;case 2:case 9:if(dp(d)){Gt=0,yn=null,n_(i);break}i=function(){Gt!==2&&Gt!==9||Wt!==e||(Gt=7),fi(e)},d.then(i,i);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:dp(d)?(Gt=0,yn=null,n_(i)):(Gt=0,yn=null,Pa(e,i,d,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var T=Ct;if(!v||U_(v)){Gt=0,yn=null;var S=T.sibling;if(S!==null)Ct=S;else{var z=T.return;z!==null?(Ct=z,oc(z)):Ct=null}break e}}Gt=0,yn=null,Pa(e,i,d,5);break;case 6:Gt=0,yn=null,Pa(e,i,d,6);break;case 8:dd(),ue=6;break t;default:throw Error(s(462))}}bb();break}catch(Q){Wy(e,Q)}while(!0);return Li=Is=null,G.H=l,G.A=h,Ft=a,Ct!==null?0:(Wt=null,kt=0,Cu(),ue)}function bb(){for(;Ct!==null&&!mo();)e_(Ct)}function e_(e){var i=Cy(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,i===null?oc(e):Ct=i}function n_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Ay(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Ay(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Nf(i);default:Ny(a,i),i=Ct=ip(i,Qi),i=Cy(a,i,Qi)}e.memoizedProps=e.pendingProps,i===null?oc(e):Ct=i}function Pa(e,i,a,l){Li=Is=null,Nf(i),Ia=null,tl=0;var h=i.return;try{if(fb(e,h,i,a,kt)){ue=1,Wu(e,Cn(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;ue=1,Wu(e,Cn(a,e.current)),Ct=null;return}i.flags&32768?(zt||l===1?e=!0:xa||(kt&536870912)!==0?e=!1:(Er=e=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(i,e)):oc(i)}function oc(e){var i=e;do{if((i.flags&32768)!==0){i_(i,Er);return}e=i.return;var a=mb(i.alternate,i,Qi);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);ue===0&&(ue=5)}function i_(e,i){do{var a=gb(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);ue=6,Ct=null}function r_(e,i,a,l,h,d,v,T,S){e.cancelPendingCommit=null;do lc();while(je!==0);if((Ft&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=sf,To(e,a,d,v,T,S),e===Wt&&(Ct=Wt=null,kt=0),Ma=i,Sr=e,Va=a,cd=d,hd=h,Yy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ib(es,function(){return u_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=it.p,it.p=2,v=Ft,Ft|=4;try{pb(e,i,a)}finally{Ft=v,it.p=h,G.T=l}}je=1,s_(),a_(),o_()}}function s_(){if(je===1){je=0;var e=Sr,i=Ma,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var h=Ft;Ft|=4;try{By(i,e);var d=Id,v=Kg(e.containerInfo),T=d.focusedElem,S=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Qg(T.ownerDocument.documentElement,T)){if(S!==null&&Jh(T)){var z=S.start,Q=S.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var B=j.getSelection(),yt=T.textContent.length,mt=Math.min(S.start,yt),Xt=S.end===void 0?mt:Math.min(S.end,yt);!B.extend&&mt>Xt&&(v=Xt,Xt=mt,mt=v);var k=Gg(T,mt),x=Gg(T,Xt);if(k&&x&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==x.node||B.focusOffset!==x.offset)){var L=X.createRange();L.setStart(k.node,k.offset),B.removeAllRanges(),mt>Xt?(B.addRange(L),B.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),B.addRange(L))}}}}for(X=[],B=T;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!Rd,Id=Rd=null}finally{Ft=h,it.p=l,G.T=a}}e.current=i,je=2}}function a_(){if(je===2){je=0;var e=Sr,i=Ma,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var h=Ft;Ft|=4;try{Uy(e,i.alternate,i)}finally{Ft=h,it.p=l,G.T=a}}je=3}}function o_(){if(je===4||je===3){je=0,iu();var e=Sr,i=Ma,a=Va,l=Yy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?je=5:(je=0,Ma=Sr=null,l_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(br=null),Js(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=it.p,it.p=2,G.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{G.T=i,it.p=h}}(Va&3)!==0&&lc(),fi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===fd?ul++:(ul=0,fd=e):ul=0,cl(0)}}function l_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ho(i)))}function lc(e){return s_(),a_(),o_(),u_()}function u_(){if(je!==5)return!1;var e=Sr,i=cd;cd=0;var a=Js(Va),l=G.T,h=it.p;try{it.p=32>a?32:a,G.T=null,a=hd,hd=null;var d=Sr,v=Va;if(je=0,Ma=Sr=null,Va=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,Qy(d.current),Hy(d,d.current,v,a),Ft=T,cl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{it.p=h,G.T=l,l_(e,i)}}function c_(e,i,a){i=Cn(a,i),i=Ff(e.stateNode,i,2),e=mr(e,i,2),e!==null&&(Si(e,2),fi(e))}function $t(e,i,a){if(e.tag===3)c_(e,e,a);else for(;i!==null;){if(i.tag===3){c_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(br===null||!br.has(l))){e=Cn(a,e),a=my(2),l=mr(i,a,2),l!==null&&(gy(a,l,i,e),Si(l,2),fi(l));break}}i=i.return}}function pd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new vb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ad=!0,h.add(a),e=Sb.bind(null,e,i,a),i.then(e,e))}function Sb(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(kt&a)===a&&(ue===4||ue===3&&(kt&62914560)===kt&&300>An()-ud?(Ft&2)===0&&ka(e,0):od|=a,Oa===kt&&(Oa=0)),fi(e)}function h_(e,i){i===0&&(i=vo()),e=ya(e,i),e!==null&&(Si(e,i),fi(e))}function wb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),h_(e,a)}function Rb(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),h_(e,a)}function Ib(e,i){return Jr(e,i)}var uc=null,Ua=null,yd=!1,cc=!1,_d=!1,Vs=0;function fi(e){e!==Ua&&e.next===null&&(Ua===null?uc=Ua=e:Ua=Ua.next=e),cc=!0,yd||(yd=!0,Db())}function cl(e,i){if(!_d&&cc){_d=!0;do for(var a=!1,l=uc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,g_(l,d))}else d=kt,d=Ws(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ss(l,d)||(a=!0,g_(l,d));l=l.next}while(a);_d=!1}}function Cb(){f_()}function f_(){cc=yd=!1;var e=0;Vs!==0&&(Ub()&&(e=Vs),Vs=0);for(var i=An(),a=null,l=uc;l!==null;){var h=l.next,d=d_(l,i);d===0?(l.next=null,a===null?uc=h:a.next=h,h===null&&(Ua=a)):(a=l,(e!==0||(d&3)!==0)&&(cc=!0)),l=h}cl(e)}function d_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),T=1<<v,S=h[v];S===-1?((T&a)===0||(T&l)!==0)&&(h[v]=yo(T,i)):S<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=kt,a=Ws(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ts(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ss(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ts(l),Js(a)){case 2:case 8:a=$s;break;case 32:a=es;break;case 268435456:a=Zs;break;default:a=es}return l=m_.bind(null,e),a=Jr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ts(l),e.callbackPriority=2,e.callbackNode=null,2}function m_(e,i){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(lc()&&e.callbackNode!==a)return null;var l=kt;return l=Ws(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:($y(e,l,i),d_(e,An()),e.callbackNode!=null&&e.callbackNode===a?m_.bind(null,e):null)}function g_(e,i){if(lc())return null;$y(e,i,!0)}function Db(){zb(function(){(Ft&6)!==0?Jr(go,Cb):f_()})}function vd(){return Vs===0&&(Vs=_o()),Vs}function p_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function y_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Nb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=p_((h[pe]||null).action),v=l.submitter;v&&(i=(i=v[pe]||null)?p_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new aa("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var S=v?y_(h,v):new FormData(h);zf(a,{pending:!0,data:S,method:h.method,action:d},null,S)}}else typeof d=="function"&&(T.preventDefault(),S=v?y_(h,v):new FormData(h),zf(a,{pending:!0,data:S,method:h.method,action:d},d,S))},currentTarget:h}]})}}for(var Td=0;Td<rf.length;Td++){var Ed=rf[Td],xb=Ed.toLowerCase(),Ob=Ed[0].toUpperCase()+Ed.slice(1);Bn(xb,"on"+Ob)}Bn($g,"onAnimationEnd"),Bn(Zg,"onAnimationIteration"),Bn(Wg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(XA,"onTransitionRun"),Bn($A,"onTransitionStart"),Bn(ZA,"onTransitionCancel"),Bn(Jg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function __(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],S=T.instance,z=T.currentTarget;if(T=T.listener,S!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Q){Zu(Q)}h.currentTarget=null,d=S}else for(v=0;v<l.length;v++){if(T=l[v],S=T.instance,z=T.currentTarget,T=T.listener,S!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Q){Zu(Q)}h.currentTarget=null,d=S}}}}function Dt(e,i){var a=i[Ao];a===void 0&&(a=i[Ao]=new Set);var l=e+"__bubble";a.has(l)||(v_(i,e,2,!1),a.add(l))}function Ad(e,i,a){var l=0;i&&(l|=4),v_(a,e,l,i)}var hc="_reactListening"+Math.random().toString(36).slice(2);function bd(e){if(!e[hc]){e[hc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(Mb.has(a)||Ad(a,!1,e),Ad(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[hc]||(i[hc]=!0,Ad("selectionchange",!1,i))}}function v_(e,i,a,l){switch(H_(i)){case 2:var h=aS;break;case 8:h=oS;break;default:h=Ud}a=h.bind(null,i,a,e),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Sd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=wi(T),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){l=d=v;continue t}T=T.parentNode}}l=l.return}du(function(){var z=d,Q=wn(a),X=[];t:{var j=tp.get(e);if(j!==void 0){var B=aa,yt=e;switch(e){case"keypress":if(ii(a)===0)break t;case"keydown":case"keyup":B=fa;break;case"focusin":yt="focus",B=ua;break;case"focusout":yt="blur",B=ua;break;case"beforeblur":case"afterblur":B=ua;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Eu;break;case $g:case Zg:case Wg:B=ca;break;case Jg:B=bu;break;case"scroll":case"scrollend":B=mu;break;case"wheel":B=da;break;case"copy":case"cut":case"paste":B=ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ko;break;case"toggle":case"beforetoggle":B=wu}var mt=(i&4)!==0,Xt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?j!==null?j+"Capture":null:j;mt=[];for(var x=z,L;x!==null;){var K=x;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=ds(x,k),K!=null&&mt.push(fl(x,K,L))),Xt)break;x=x.return}0<mt.length&&(j=new B(j,yt,null,a,Q),X.push({event:j,listeners:mt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",j&&a!==Di&&(yt=a.relatedTarget||a.fromElement)&&(wi(yt)||yt[bn]))break t;if((B||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,B?(yt=a.relatedTarget||a.toElement,B=z,yt=yt?wi(yt):null,yt!==null&&(Xt=c(yt),mt=yt.tag,yt!==Xt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(B=null,yt=z),B!==yt)){if(mt=In,K="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(mt=ko,K="onPointerLeave",k="onPointerEnter",x="pointer"),Xt=B==null?j:Jn(B),L=yt==null?j:Jn(yt),j=new mt(K,x+"leave",B,a,Q),j.target=Xt,j.relatedTarget=L,K=null,wi(Q)===z&&(mt=new mt(k,x+"enter",yt,a,Q),mt.target=L,mt.relatedTarget=Xt,K=mt),Xt=K,B&&yt)e:{for(mt=B,k=yt,x=0,L=mt;L;L=La(L))x++;for(L=0,K=k;K;K=La(K))L++;for(;0<x-L;)mt=La(mt),x--;for(;0<L-x;)k=La(k),L--;for(;x--;){if(mt===k||k!==null&&mt===k.alternate)break e;mt=La(mt),k=La(k)}mt=null}else mt=null;B!==null&&T_(X,j,B,mt,!1),yt!==null&&Xt!==null&&T_(X,Xt,yt,mt,!0)}}t:{if(j=z?Jn(z):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var ut=zg;else if(we(j))if(jg)ut=QA;else{ut=FA;var It=HA}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Co(z.elementType)&&(ut=zg):ut=GA;if(ut&&(ut=ut(e,z))){Vi(X,ut,a,Q);break t}It&&It(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&ur(j,"number",j.value)}switch(It=z?Jn(z):window,e){case"focusin":(we(It)||It.contentEditable==="true")&&(ma=It,tf=z,Lo=null);break;case"focusout":Lo=tf=ma=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,Yg(X,a,Q);break;case"selectionchange":if(YA)break;case"keydown":case"keyup":Yg(X,a,Q)}var ct;if(ai)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Mt?q(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(_&&a.locale!=="ko"&&(Mt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Mt&&(ct=No()):(ni=Q,cr="value"in ni?ni.value:ni.textContent,Mt=!0)),It=fc(z,gt),0<It.length&&(gt=new Mo(gt,e,null,a,Q),X.push({event:gt,listeners:It}),ct?gt.data=ct:(ct=nt(a),ct!==null&&(gt.data=ct)))),(ct=m?Se(e,a):Vt(e,a))&&(gt=fc(z,"onBeforeInput"),0<gt.length&&(It=new Mo("onBeforeInput","beforeinput",null,a,Q),X.push({event:It,listeners:gt}),It.data=ct)),Nb(X,e,z,a,Q)}__(X,i)})}function fl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function fc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ds(e,a),h!=null&&l.unshift(fl(e,h,d)),h=ds(e,i),h!=null&&l.push(fl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function La(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function T_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,S=T.alternate,z=T.stateNode;if(T=T.tag,S!==null&&S===l)break;T!==5&&T!==26&&T!==27||z===null||(S=z,h?(z=ds(a,d),z!=null&&v.unshift(fl(a,z,S))):h||(z=ds(a,d),z!=null&&v.push(fl(a,z,S)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var Vb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function E_(e){return(typeof e=="string"?e:""+e).replace(Vb,`
`).replace(kb,"")}function A_(e,i){return i=E_(i),E_(e)===i}function dc(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(e,""+l);break;case"className":ti(e,"class",l);break;case"tabIndex":ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,a,l);break;case"style":Io(e,l,d);break;case"data":if(i!=="object"){ti(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=sa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=sa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=dc);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),lr(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kh.get(a)||a,lr(e,a,l))}}function wd(e,i,a,l,h,d){switch(a){case"style":Io(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&Sn(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ta.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):lr(e,a,l)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var T=d=v=h=null,S=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":S=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Yt(e,i,l,Q,a,null)}}cs(e,d,T,S,z,v,h,!1),ra(e);return;case"select":Dt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ci(e,!!l,i,!1):a!=null&&Ci(e,!!l,a,!0);return;case"textarea":Dt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,i,v,T,a,null)}hs(e,l,h,d),ra(e);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,S,l,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<hl.length;l++)Dt(hl[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,z,l,a,null)}return;default:if(Co(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&wd(e,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(e,i,T,l,a,null))}function Pb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,S=null,z=null,Q=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":S=X;default:l.hasOwnProperty(B)||Yt(e,i,B,null,l,X)}}for(var j in l){var B=l[j];if(X=a[j],l.hasOwnProperty(j)&&(B!=null||X!=null))switch(j){case"type":d=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":Q=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==X&&Yt(e,i,j,B,l,X)}}fn(e,v,T,S,z,Q,d,h);return;case"select":B=v=T=j=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":B=S;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,S)}for(h in l)if(d=l[h],S=a[h],l.hasOwnProperty(h)&&(d!=null||S!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==S&&Yt(e,i,h,d,l,S)}i=T,a=v,l=B,j!=null?Ci(e,!!a,j,!1):!!l!=!!a&&(i!=null?Ci(e,!!a,i,!0):Ci(e,!!a,a?[]:"",!1));return;case"textarea":B=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}Qt(e,j,B);return;case"option":for(var yt in a)if(j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Yt(e,i,yt,null,l,j)}for(S in l)if(j=l[S],B=a[S],l.hasOwnProperty(S)&&j!==B&&(j!=null||B!=null))switch(S){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Yt(e,i,S,j,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)j=a[mt],a.hasOwnProperty(mt)&&j!=null&&!l.hasOwnProperty(mt)&&Yt(e,i,mt,null,l,j);for(z in l)if(j=l[z],B=a[z],l.hasOwnProperty(z)&&j!==B&&(j!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Yt(e,i,z,j,l,B)}return;default:if(Co(i)){for(var Xt in a)j=a[Xt],a.hasOwnProperty(Xt)&&j!==void 0&&!l.hasOwnProperty(Xt)&&wd(e,i,Xt,void 0,l,j);for(Q in l)j=l[Q],B=a[Q],!l.hasOwnProperty(Q)||j===B||j===void 0&&B===void 0||wd(e,i,Q,j,l,B);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&Yt(e,i,k,null,l,j);for(X in l)j=l[X],B=a[X],!l.hasOwnProperty(X)||j===B||j==null&&B==null||Yt(e,i,X,j,l,B)}var Rd=null,Id=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function b_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Cd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dd=null;function Ub(){var e=window.event;return e&&e.type==="popstate"?e===Dd?!1:(Dd=e,!0):(Dd=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,Lb=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(e){return R_.resolve(null).then(e).catch(jb)}:w_;function jb(e){setTimeout(function(){throw e})}function Rr(e){return e==="head"}function I_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&dl(v.documentElement),a&2&&dl(v.body),a&4)for(a=v.head,dl(a),v=a.firstChild;v;){var T=v.nextSibling,S=v.nodeName;v[as]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),El(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);El(i)}function Nd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),or(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Bb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[as])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function qb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Hn(e.nextSibling),e===null))return null;return e}function xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Hb(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Hn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Od=null;function C_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function D_(e,i,a){switch(i=mc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function dl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);or(e)}var Vn=new Map,N_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=it.d;it.d={f:Fb,r:Gb,D:Qb,C:Kb,L:Yb,m:Xb,X:Zb,S:$b,M:Wb};function Fb(){var e=Ki.f(),i=ac();return e||i}function Gb(e){var i=Wn(e);i!==null&&i.tag===5&&i.type==="form"?$p(i):Ki.r(e)}var za=typeof document>"u"?null:document;function x_(e,i,a){var l=za;if(l&&typeof i=="string"&&i){var h=ye(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N_.has(h)||(N_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),ce(i),l.head.appendChild(i)))}}function Qb(e){Ki.D(e),x_("dns-prefetch",e,null)}function Kb(e,i){Ki.C(e,i),x_("preconnect",e,i)}function Yb(e,i,a){Ki.L(e,i,a);var l=za;if(l&&e&&i){var h='link[rel="preload"][as="'+ye(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var d=h;switch(i){case"style":d=ja(e);break;case"script":d=Ba(e)}Vn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(ml(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),Be(i,"link",e),ce(i),l.head.appendChild(i)))}}function Xb(e,i){Ki.m(e,i);var a=za;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(e)}if(!Vn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Vn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),Be(l,"link",e),ce(l),a.head.appendChild(l)}}}function $b(e,i,a){Ki.S(e,i,a);var l=za;if(l&&e){var h=Je(l).hoistableStyles,d=ja(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ml(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(d))&&Md(e,a);var S=v=l.createElement("link");ce(S),Be(S,"link",e),S._p=new Promise(function(z,Q){S.onload=z,S.onerror=Q}),S.addEventListener("load",function(){T.loading|=1}),S.addEventListener("error",function(){T.loading|=2}),T.loading|=4,pc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Zb(e,i){Ki.X(e,i);var a=za;if(a&&e){var l=Je(a).hoistableScripts,h=Ba(e),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(e=E({src:e,async:!0},i),(i=Vn.get(h))&&Vd(e,i),d=a.createElement("script"),ce(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Wb(e,i){Ki.M(e,i);var a=za;if(a&&e){var l=Je(a).hoistableScripts,h=Ba(e),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&Vd(e,i),d=a.createElement("script"),ce(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function O_(e,i,a,l){var h=(h=vt.current)?gc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ja(a.href),a=Je(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ja(a.href);var d=Je(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(ml(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),d||Jb(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=Je(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ja(e){return'href="'+ye(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Jb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",a),ce(i),e.head.appendChild(i))}function Ba(e){return'[src="'+ye(e)+'"]'}function gl(e){return"script[async]"+e}function V_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(l)return i.instance=l,ce(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ce(l),Be(l,"style",h),pc(l,a.precedence,e),i.instance=l;case"stylesheet":h=ja(a.href);var d=e.querySelector(ml(h));if(d)return i.state.loading|=4,i.instance=d,ce(d),d;l=M_(a),(h=Vn.get(h))&&Md(l,h),d=(e.ownerDocument||e).createElement("link"),ce(d);var v=d;return v._p=new Promise(function(T,S){v.onload=T,v.onerror=S}),Be(d,"link",l),i.state.loading|=4,pc(d,a.precedence,e),i.instance=d;case"script":return d=Ba(a.src),(h=e.querySelector(gl(d)))?(i.instance=h,ce(h),h):(l=a,(h=Vn.get(d))&&(l=E({},a),Vd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,pc(l,a.precedence,e));return i.instance}function pc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Md(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Vd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var yc=null;function k_(e,i,a){if(yc===null){var l=new Map,h=yc=new Map;h.set(a,l)}else h=yc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[as]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function P_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function tS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var pl=null;function eS(){}function nS(e,i,a){if(pl===null)throw Error(s(475));var l=pl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ja(a.href),d=e.querySelector(ml(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=_c.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ce(d);return}d=e.ownerDocument||e,a=M_(a),(h=Vn.get(h))&&Md(a,h),d=d.createElement("link"),ce(d);var v=d;v._p=new Promise(function(T,S){v.onload=T,v.onerror=S}),Be(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=_c.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function iS(){if(pl===null)throw Error(s(475));var e=pl;return e.stylesheets&&e.count===0&&kd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&kd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function _c(){if(this.count--,this.count===0){if(this.stylesheets)kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function kd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,i.forEach(rS,e),vc=null,_c.call(e))}function rS(e,i){if(!(i.state.loading&4)){var a=vc.get(e);if(a)var l=a.get(null);else{a=new Map,vc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var yl={$$typeof:ot,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function sS(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function L_(e,i,a,l,h,d,v,T,S,z,Q,X){return e=new sS(e,i,a,v,T,S,z,X),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),e.current=d,d.stateNode=e,i=pf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Tf(d),e}function z_(e){return e?(e=_a,e):_a}function j_(e,i,a,l,h,d){h=z_(h),l.context===null?l.context=h:l.pendingContext=h,l=dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=mr(e,l,i),a!==null&&(vn(a,e,i),Ko(a,e,i))}function B_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Pd(e,i){B_(e,i),(e=e.alternate)&&B_(e,i)}function q_(e){if(e.tag===13){var i=ya(e,67108864);i!==null&&vn(i,e,67108864),Pd(e,67108864)}}var Tc=!0;function aS(e,i,a,l){var h=G.T;G.T=null;var d=it.p;try{it.p=2,Ud(e,i,a,l)}finally{it.p=d,G.T=h}}function oS(e,i,a,l){var h=G.T;G.T=null;var d=it.p;try{it.p=8,Ud(e,i,a,l)}finally{it.p=d,G.T=h}}function Ud(e,i,a,l){if(Tc){var h=Ld(l);if(h===null)Sd(e,i,l,Ec,a),F_(e,l);else if(uS(h,e,i,a,l))l.stopPropagation();else if(F_(e,l),i&4&&-1<lS.indexOf(e)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ln(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var S=1<<31-Ge(v);T.entanglements[1]|=S,v&=~S}fi(d),(Ft&6)===0&&(rc=An()+500,cl(0))}}break;case 13:T=ya(d,2),T!==null&&vn(T,d,2),ac(),Pd(d,2)}if(d=Ld(l),d===null&&Sd(e,i,l,Ec,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Sd(e,i,l,null,a)}}function Ld(e){return e=wn(e),zd(e)}var Ec=null;function zd(e){if(Ec=null,e=wi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ec=e,null}function H_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bh()){case go:return 2;case $s:return 8;case es:case qh:return 32;case Zs:return 268435456;default:return 32}default:return 32}}var jd=!1,Ir=null,Cr=null,Dr=null,_l=new Map,vl=new Map,Nr=[],lS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(e,i){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function Tl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&q_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function uS(e,i,a,l,h){switch(i){case"focusin":return Ir=Tl(Ir,e,i,a,l,h),!0;case"dragenter":return Cr=Tl(Cr,e,i,a,l,h),!0;case"mouseover":return Dr=Tl(Dr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return _l.set(d,Tl(_l.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,vl.set(d,Tl(vl.get(d)||null,e,i,a,l,h)),!0}return!1}function G_(e){var i=wi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,au(e.priority,function(){if(a.tag===13){var l=_n();l=rr(l);var h=ya(a,l);h!==null&&vn(h,a,l),Pd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Di=l,a.target.dispatchEvent(l),Di=null}else return i=Wn(a),i!==null&&q_(i),e.blockedOn=a,!1;i.shift()}return!0}function Q_(e,i,a){Ac(e)&&a.delete(i)}function cS(){jd=!1,Ir!==null&&Ac(Ir)&&(Ir=null),Cr!==null&&Ac(Cr)&&(Cr=null),Dr!==null&&Ac(Dr)&&(Dr=null),_l.forEach(Q_),vl.forEach(Q_)}function bc(e,i){e.blockedOn===i&&(e.blockedOn=null,jd||(jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cS)))}var Sc=null;function K_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(zd(l||a)===null)continue;break}var d=Wn(a);d!==null&&(e.splice(i,3),i-=3,zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function El(e){function i(S){return bc(S,e)}Ir!==null&&bc(Ir,e),Cr!==null&&bc(Cr,e),Dr!==null&&bc(Dr,e),_l.forEach(i),vl.forEach(i);for(var a=0;a<Nr.length;a++){var l=Nr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)G_(a),a.blockedOn===null&&Nr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pe]||null;if(typeof d=="function")v||K_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)T=v.formAction;else if(zd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),K_(a)}}}function Bd(e){this._internalRoot=e}wc.prototype.render=Bd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();j_(a,l,e,i,null,null)},wc.prototype.unmount=Bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;j_(e.current,2,null,e,null,null),ac(),i[bn]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var i=sr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Nr.length&&i!==0&&i<Nr[a].priority;a++);Nr.splice(a,0,e),a===0&&G_(e)}};var Y_=t.version;if(Y_!=="19.1.1")throw Error(s(527,Y_,"19.1.1"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var hS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{oe=Rc.inject(hS),Ht=Rc}catch{}}return bl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=cy,d=hy,v=fy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=L_(e,1,!1,null,null,a,l,h,d,v,T,null),e[bn]=i.current,bd(e),new Bd(i)},bl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=cy,v=hy,T=fy,S=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=L_(e,1,!0,i,a??null,l,h,d,v,T,S,z),i.context=z_(null),a=i.current,l=_n(),l=rr(l),h=dr(l),h.callback=null,mr(a,h,l),a=l,i.current.lanes=a,Si(i,a),fi(i),e[bn]=i.current,bd(e),new wc(i)},bl.version="19.1.1",bl}var rv;function ES(){if(rv)return Fd.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Fd.exports=TS(),Fd.exports}var AS=ES();const bS=()=>{};var sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},SS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],g=r[n++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},QT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,g=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,w=(c&3)<<4|g>>4;let R=(g&15)<<2|y>>6,F=y&63;p||(F=64,f||(R=64)),s.push(n[E],n[w],n[R],n[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(GT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):SS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||w==null)throw new wS;const R=c<<2|g>>4;if(s.push(R),y!==64){const F=g<<4&240|y>>2;if(s.push(F),w!==64){const Z=y<<6&192|w;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(r){const t=GT(r);return QT.encodeByteArray(t,!0)},Hc=function(r){return RS(r).replace(/\./g,"")},KT=function(r){try{return QT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=()=>IS().__FIREBASE_DEFAULTS__,DS=()=>{if(typeof process>"u"||typeof sv>"u")return;const r=sv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&KT(r[1]);return t&&JSON.parse(t)},dh=()=>{try{return bS()||CS()||DS()||NS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},YT=r=>dh()?.emulatorHosts?.[r],XT=r=>{const t=YT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},$T=()=>dh()?.config,ZT=r=>dh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lm(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(n)),Hc(JSON.stringify(f)),""].join(".")}const Cl={};function MS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?r.emulator.push(t):r.prod.push(t);return r}function VS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let av=!1;function zm(r,t){if(typeof window>"u"||typeof document>"u"||!Qs(window.location.host)||Cl[r]===t||Cl[r]||av)return;Cl[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=MS().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function g(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,F){R.setAttribute("width","24"),R.setAttribute("id",F),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{av=!0,f()},R}function E(R,F){R.setAttribute("id",F),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function w(){const R=VS(s),F=n("text"),Z=document.getElementById(F)||document.createElement("span"),W=n("learnmore"),H=document.getElementById(W)||document.createElement("a"),tt=n("preprendIcon"),st=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ot=R.element;g(ot),E(H,W);const bt=y();p(st,tt),ot.append(st,Z,H,bt),document.body.appendChild(ot)}c?(Z.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function PS(){const r=dh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jS(){return!PS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JT(){try{return typeof indexedDB=="object"}catch{return!1}}function t0(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function BS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="FirebaseError";class Xn extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=qS,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}}class Ks{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?HS(c,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Xn(o,g,s)}}function HS(r,t){return r.replace(FS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const FS=/\{\$([^}]+)}/g;function GS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Br(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=t[o];if(ov(c)&&ov(f)){if(!Br(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function ov(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function QS(r,t){const n=new KS(r,t);return n.subscribe.bind(n)}class KS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");YS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Yd),o.error===void 0&&(o.error=Yd),o.complete===void 0&&(o.complete=Yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Yd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=1e3,$S=2,ZS=14400*1e3,WS=.5;function lv(r,t=XS,n=$S){const s=t*Math.pow(n,r),o=Math.round(WS*s*(Math.random()-.5)*2);return Math.min(ZS,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(r){return r&&r._delegate?r._delegate:r}class Un{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new xS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(e1(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ks){return this.instances.has(t)}getOptions(t=ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:t1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ks){return this.component?this.component.multipleInstances?t:ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t1(r){return r===ks?void 0:r}function e1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new JS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const i1={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},r1=Nt.INFO,s1={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},a1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=s1[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mh{constructor(t){this.name=t,this._logLevel=r1,this._logHandler=a1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?i1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const o1=(r,t)=>t.some(n=>r instanceof n);let uv,cv;function l1(){return uv||(uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u1(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e0=new WeakMap,cm=new WeakMap,n0=new WeakMap,Xd=new WeakMap,jm=new WeakMap;function c1(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Ur(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&e0.set(n,r)}).catch(()=>{}),jm.set(t,r),t}function h1(r){if(cm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});cm.set(r,t)}let hm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return cm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||n0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function f1(r){hm=r(hm)}function d1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call($d(this),t,...n);return n0.set(s,t.sort?t.sort():[t]),Ur(s)}:u1().includes(r)?function(...t){return r.apply($d(this),t),Ur(e0.get(this))}:function(...t){return Ur(r.apply($d(this),t))}}function m1(r){return typeof r=="function"?d1(r):(r instanceof IDBTransaction&&h1(r),o1(r,l1())?new Proxy(r,hm):r)}function Ur(r){if(r instanceof IDBRequest)return c1(r);if(Xd.has(r))return Xd.get(r);const t=m1(r);return t!==r&&(Xd.set(r,t),jm.set(t,r)),t}const $d=r=>jm.get(r);function i0(r,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,t),g=Ur(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ur(f.result),p.oldVersion,p.newVersion,Ur(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const g1=["get","getKey","getAll","getAllKeys","count"],p1=["put","add","delete","clear"],Zd=new Map;function hv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Zd.get(t))return Zd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=p1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||g1.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return Zd.set(t,c),c}f1(r=>({...r,get:(t,n,s)=>hv(t,n)||r.get(t,n,s),has:(t,n)=>!!hv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _1(r){return r.getComponent()?.type==="VERSION"}const fm="@firebase/app",fv="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new mh("@firebase/app"),v1="@firebase/app-compat",T1="@firebase/analytics-compat",E1="@firebase/analytics",A1="@firebase/app-check-compat",b1="@firebase/app-check",S1="@firebase/auth",w1="@firebase/auth-compat",R1="@firebase/database",I1="@firebase/data-connect",C1="@firebase/database-compat",D1="@firebase/functions",N1="@firebase/functions-compat",x1="@firebase/installations",O1="@firebase/installations-compat",M1="@firebase/messaging",V1="@firebase/messaging-compat",k1="@firebase/performance",P1="@firebase/performance-compat",U1="@firebase/remote-config",L1="@firebase/remote-config-compat",z1="@firebase/storage",j1="@firebase/storage-compat",B1="@firebase/firestore",q1="@firebase/ai",H1="@firebase/firestore-compat",F1="firebase",G1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="[DEFAULT]",Q1={[fm]:"fire-core",[v1]:"fire-core-compat",[E1]:"fire-analytics",[T1]:"fire-analytics-compat",[b1]:"fire-app-check",[A1]:"fire-app-check-compat",[S1]:"fire-auth",[w1]:"fire-auth-compat",[R1]:"fire-rtdb",[I1]:"fire-data-connect",[C1]:"fire-rtdb-compat",[D1]:"fire-fn",[N1]:"fire-fn-compat",[x1]:"fire-iid",[O1]:"fire-iid-compat",[M1]:"fire-fcm",[V1]:"fire-fcm-compat",[k1]:"fire-perf",[P1]:"fire-perf-compat",[U1]:"fire-rc",[L1]:"fire-rc-compat",[z1]:"fire-gcs",[j1]:"fire-gcs-compat",[B1]:"fire-fst",[H1]:"fire-fst-compat",[q1]:"fire-vertex","fire-js":"fire-js",[F1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,K1=new Map,mm=new Map;function dv(r,t){try{r.container.addComponent(t)}catch(n){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Kn(r){const t=r.name;if(mm.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;mm.set(t,r);for(const n of Fc.values())dv(n,r);for(const n of K1.values())dv(n,r);return!0}function Yr(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Ks("app","Firebase",Y1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=G1;function r0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:dm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Lr.create("bad-app-name",{appName:String(o)});if(n||(n=$T()),!n)throw Lr.create("no-options");const c=Fc.get(o);if(c){if(Br(n,c.options)&&Br(s,c.config))return c;throw Lr.create("duplicate-app",{appName:o})}const f=new n1(o);for(const p of mm.values())f.addComponent(p);const g=new X1(n,s,f);return Fc.set(o,g),g}function gh(r=dm){const t=Fc.get(r);if(!t&&r===dm&&$T())return r0();if(!t)throw Lr.create("no-app",{appName:r});return t}function un(r,t,n){let s=Q1[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(f.join(" "));return}Kn(new Un(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firebase-heartbeat-database",Z1=1,Ul="firebase-heartbeat-store";let Wd=null;function s0(){return Wd||(Wd=i0($1,Z1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(r=>{throw Lr.create("idb-open",{originalErrorMessage:r.message})})),Wd}async function W1(r){try{const n=(await s0()).transaction(Ul),s=await n.objectStore(Ul).get(a0(r));return await n.done,s}catch(t){if(t instanceof Xn)Ji.warn(t.message);else{const n=Lr.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(n.message)}}}async function mv(r,t){try{const s=(await s0()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(t,a0(r)),await s.done}catch(n){if(n instanceof Xn)Ji.warn(n.message);else{const s=Lr.create("idb-set",{originalErrorMessage:n?.message});Ji.warn(s.message)}}}function a0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=1024,tw=30;class ew{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>tw){const o=rw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gv(),{heartbeatsToSend:n,unsentEntries:s}=nw(this._heartbeatsCache.heartbeats),o=Hc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ji.warn(t),""}}}function gv(){return new Date().toISOString().substring(0,10)}function nw(r,t=J1){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),pv(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),pv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JT()?t0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return mv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return mv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function pv(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function rw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r){Kn(new Un("platform-logger",t=>new y1(t),"PRIVATE")),Kn(new Un("heartbeat",t=>new ew(t),"PRIVATE")),un(fm,fv,r),un(fm,fv,"esm2020"),un("fire-js","")}sw("");function o0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aw=o0,l0=new Ks("auth","Firebase",o0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new mh("@firebase/auth");function ow(r,...t){Gc.logLevel<=Nt.WARN&&Gc.warn(`Auth (${so}): ${r}`,...t)}function Mc(r,...t){Gc.logLevel<=Nt.ERROR&&Gc.error(`Auth (${so}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(r,...t){throw qm(r,...t)}function Gn(r,...t){return qm(r,...t)}function Bm(r,t,n){const s={...aw(),[t]:n};return new Ks("auth","Firebase",s).create(t,{appName:r.name})}function zs(r){return Bm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lw(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&vi(r,"argument-error"),Bm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return l0.create(r,...t)}function _t(r,t,...n){if(!r)throw qm(t,...n)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Mc(t),new Error(t)}function tr(r,t){r||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){return typeof self<"u"&&self.location?.href||""}function uw(){return yv()==="http:"||yv()==="https:"}function yv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uw()||WT()||"connection"in navigator)?navigator.onLine:!0}function hw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n){this.shortDelay=t,this.longDelay=n,tr(n>t,"Short delay should be less than long delay!"),this.isMobile=kS()||LS()}get(){return cw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(r,t){tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mw=new Yl(3e4,6e4);function Fm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ao(r,t,n,s,o={}){return c0(r,o,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Kl({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:p,...c};return US()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Qs(r.emulatorConfig.host)&&(y.credentials="include"),u0.fetch()(await h0(r,r.config.apiHost,n,g),y)})}async function c0(r,t,n){r._canInitEmulator=!1;const s={...fw,...t};try{const o=new pw(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Ic(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ic(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Bm(r,E,y);vi(r,E)}}catch(o){if(o instanceof Xn)throw o;vi(r,"network-request-failed",{message:String(o)})}}async function gw(r,t,n,s,o={}){const c=await ao(r,t,n,s,o);return"mfaPendingCredential"in c&&vi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function h0(r,t,n,s){const o=`${t}${n}?${s}`,c=r,f=c.config.emulator?Hm(r.config,o):`${r.config.apiScheme}://${o}`;return dw.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class pw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gn(this.auth,"network-request-failed")),mw.get())})}}function Ic(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Gn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(r,t){return ao(r,"POST","/v1/accounts:delete",t)}async function Qc(r,t){return ao(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _w(r,t=!1){const n=ge(r),s=await n.getIdToken(t),o=Gm(s);_t(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:s,authTime:Dl(Jd(o.auth_time)),issuedAtTime:Dl(Jd(o.iat)),expirationTime:Dl(Jd(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jd(r){return Number(r)*1e3}function Gm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=KT(n);return o?JSON.parse(o):(Mc("Failed to decode base64 JWT payload"),null)}catch(o){return Mc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _v(r){const t=Gm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Xn&&vw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function vw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(r){const t=r.auth,n=await r.getIdToken(),s=await Ll(r,Qc(t,{idToken:n}));_t(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?f0(o.providerUserInfo):[],f=Aw(r.providerData,c),g=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=g?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function Ew(r){const t=ge(r);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Aw(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function f0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(r,t){const n=await c0(r,{},async()=>{const s=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await h0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Qs(r.emulatorConfig.host)&&(p.credentials="include"),u0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Sw(r,t){return ao(r,"POST","/v2/accounts:revokeToken",Fm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_v(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=_v(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await bw(t,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new Qa;return s&&(_t(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(_t(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Fn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return _w(this,t)}reload(){return Ew(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Fn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Kc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(zs(this.auth));const t=await this.getIdToken();return await Ll(this,yw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:R,isAnonymous:F,providerData:Z,stsTokenManager:W}=n;_t(w&&W,t,"internal-error");const H=Qa.fromJSON(this.name,W);_t(typeof w=="string",t,"internal-error"),Or(s,t.name),Or(o,t.name),_t(typeof R=="boolean",t,"internal-error"),_t(typeof F=="boolean",t,"internal-error"),Or(c,t.name),Or(f,t.name),Or(g,t.name),Or(p,t.name),Or(y,t.name),Or(E,t.name);const tt=new Fn({uid:w,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:F,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:H,createdAt:y,lastLoginAt:E});return Z&&Array.isArray(Z)&&(tt.providerData=Z.map(st=>({...st}))),p&&(tt._redirectEventId=p),tt}static async _fromIdTokenResponse(t,n,s=!1){const o=new Qa;o.updateFromServerResponse(n);const c=new Fn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?f0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new Qa;g.updateFromIdToken(s);const p=new Fn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;function Zi(r){tr(r instanceof Function,"Expected a class definition");let t=vv.get(r);return t?(tr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,vv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}d0.type="NONE";const Tv=d0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ka{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Qc(this.auth,{idToken:t}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,t):null}return Fn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ka(Zi(Tv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Zi(Tv);const f=Vc(s,t.config.apiKey,t.name);let g=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const R=await Qc(t,{idToken:E}).catch(()=>{});if(!R)break;w=await Fn._fromGetAccountInfoResponse(t,R,E)}else w=Fn._fromJSON(t,E);y!==c&&(g=w),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ka(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new Ka(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(y0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(m0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(v0(t))return"Blackberry";if(T0(t))return"Webos";if(g0(t))return"Safari";if((t.includes("chrome/")||p0(t))&&!t.includes("edge/"))return"Chrome";if(_0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function m0(r=We()){return/firefox\//i.test(r)}function g0(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function p0(r=We()){return/crios\//i.test(r)}function y0(r=We()){return/iemobile/i.test(r)}function _0(r=We()){return/android/i.test(r)}function v0(r=We()){return/blackberry/i.test(r)}function T0(r=We()){return/webos/i.test(r)}function Qm(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ww(r=We()){return Qm(r)&&!!window.navigator?.standalone}function Rw(){return zS()&&document.documentMode===10}function E0(r=We()){return Qm(r)||_0(r)||T0(r)||v0(r)||/windows phone/i.test(r)||y0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r,t=[]){let n;switch(r){case"Browser":n=Ev(We());break;case"Worker":n=`${Ev(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(r,t={}){return ao(r,"GET","/v2/passwordPolicy",Fm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=6;class Nw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Dw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Av(this),this.idTokenSubscription=new Av(this),this.beforeStateQueue=new Iw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Qc(this,{idToken:t}),s=await Fn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===f)&&g?.user&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(zs(this));const n=t?ge(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Cw(this),n=new Nw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ks("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Sw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zi(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=A0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ow(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ph(r){return ge(r)}class Av{constructor(t){this.auth=t,this.observer=null,this.addObserver=QS(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ow(r){Km=r}function Mw(r){return Km.loadJS(r)}function Vw(){return Km.gapiScript}function kw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r,t){const n=Yr(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Br(c,t??{}))return o;vi(o,"already-initialized")}return n.initialize({options:t})}function Uw(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function Lw(r,t,n){const s=ph(r);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,c=b0(t),{host:f,port:g}=zw(t),p=g===null?"":`:${g}`,y={url:`${c}//${f}${p}/`},E=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Br(y,s.config.emulator)&&Br(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Qs(f)?(Lm(`${c}//${f}${p}`),zm("Auth",!0)):jw()}function b0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function zw(r){const t=b0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:bv(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:bv(f)}}}function bv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function jw(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,n){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(r,t){return gw(r,"POST","/v1/accounts:signInWithIdp",Fm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="http://localhost";class Bs extends S0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Bs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const f=new Bs(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ya(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ya(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ya(t,n)}buildRequest(){const t={requestUri:Bw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Kl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Ym{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Xl{constructor(){super("facebook.com")}static credential(t){return Bs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Bs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Yi.credential(n,s)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Xl{constructor(){super("github.com")}static credential(t){return Bs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Xl{constructor(){super("twitter.com")}static credential(t,n){return Bs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const c=await Fn._fromIdTokenResponse(t,s,o),f=Sv(s);return new Wa({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Sv(s);return new Wa({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Sv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Xn{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Yc(t,n,s,o)}}function w0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(r,c,t,s):c})}async function qw(r,t,n=!1){const s=await Ll(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Wa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(r,t,n=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(zs(s));const o="reauthenticate";try{const c=await Ll(r,w0(s,o,t,r),n);_t(c.idToken,s,"internal-error");const f=Gm(c.idToken);_t(f,s,"internal-error");const{sub:g}=f;return _t(r.uid===g,s,"user-mismatch"),Wa._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&vi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(r,t,n=!1){if(kn(r.app))return Promise.reject(zs(r));const s="signIn",o=await w0(r,s,t),c=await Wa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}function Gw(r,t,n,s){return ge(r).onIdTokenChanged(t,n,s)}function Qw(r,t,n){return ge(r).beforeAuthStateChanged(t,n)}function Kw(r,t,n,s){return ge(r).onAuthStateChanged(t,n,s)}function Yw(r){return ge(r).signOut()}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=1e3,$w=10;class I0 extends R0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);Rw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,$w):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Xw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}I0.type="LOCAL";const Zw=I0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends R0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}C0.type="SESSION";const D0=C0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new yh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async y=>y(n.origin,c)),p=await Ww(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const y=Xm("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(R.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function tR(r){mi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function eR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nR(){return navigator?.serviceWorker?.controller||null}function iR(){return N0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firebaseLocalStorageDb",rR=1,$c="firebaseLocalStorage",O0="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function sR(){const r=indexedDB.deleteDatabase(x0);return new $l(r).toPromise()}function ym(){const r=indexedDB.open(x0,rR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore($c,{keyPath:O0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains($c)?t(s):(s.close(),await sR(),t(await ym()))})})}async function wv(r,t,n){const s=_h(r,!0).put({[O0]:t,value:n});return new $l(s).toPromise()}async function aR(r,t){const n=_h(r,!1).get(t),s=await new $l(n).toPromise();return s===void 0?null:s.value}function Rv(r,t){const n=_h(r,!0).delete(t);return new $l(n).toPromise()}const oR=800,lR=3;class M0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>lR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(iR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eR(),!this.activeServiceWorker)return;this.sender=new Jw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ym();return await wv(t,Xc,"1"),await Rv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>wv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>aR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=_h(o,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M0.type="LOCAL";const uR=M0;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r,t){return t?Zi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends S0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ya(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function cR(r){return Fw(r.auth,new $m(r),r.bypassAuthState)}function hR(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),Hw(n,new $m(r),r.bypassAuthState)}async function fR(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),qw(n,new $m(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,n,s,o,c=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cR;case"linkViaPopup":case"linkViaRedirect":return fR;case"reauthViaPopup":case"reauthViaRedirect":return hR;default:vi(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new Yl(2e3,1e4);async function mR(r,t,n){if(kn(r.app))return Promise.reject(Gn(r,"operation-not-supported-in-this-environment"));const s=ph(r);lw(r,t,Ym);const o=V0(s,n);return new Ps(s,"signInViaPopup",t,o).executeNotNull()}class Ps extends k0{constructor(t,n,s,o,c){super(t,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dR.get())};t()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="pendingRedirect",kc=new Map;class pR extends k0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const s=await yR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yR(r,t){const n=TR(t),s=vR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function _R(r,t){kc.set(r._key(),t)}function vR(r){return Zi(r._redirectPersistence)}function TR(r){return Vc(gR,r.config.apiKey,r.name)}async function ER(r,t,n=!1){if(kn(r.app))return Promise.reject(zs(r));const s=ph(r),o=V0(s,t),f=await new pR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=600*1e3;class bR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!P0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Gn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iv(t))}saveEventToCache(t){this.cachedEventUids.add(Iv(t)),this.lastProcessedEventTime=Date.now()}}function Iv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function P0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function SR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(r,t={}){return ao(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IR=/^https?/;async function CR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await wR(r);for(const n of t)try{if(DR(n))return}catch{}vi(r,"unauthorized-domain")}function DR(r){const t=gm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!IR.test(n))return!1;if(RR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new Yl(3e4,6e4);function Cv(){const r=mi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xR(r){return new Promise((t,n)=>{function s(){Cv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Cv(),n(Gn(r,"network-request-failed"))},timeout:NR.get()})}if(mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(mi().gapi?.load)s();else{const o=kw("iframefcb");return mi()[o]=()=>{gapi.load?s():n(Gn(r,"network-request-failed"))},Mw(`${Vw()}?onload=${o}`).catch(c=>n(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function OR(r){return Pc=Pc||xR(r),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new Yl(5e3,15e3),VR="__/auth/iframe",kR="emulator/auth/iframe",PR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LR(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Hm(t,kR):`https://${r.config.authDomain}/${VR}`,s={apiKey:t.apiKey,appName:r.name,v:so},o=UR.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Kl(s).slice(1)}`}async function zR(r){const t=await OR(r),n=mi().gapi;return _t(n,r,"internal-error"),t.open({where:document.body,url:LR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PR,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=Gn(r,"network-request-failed"),g=mi().setTimeout(()=>{c(f)},MR.get());function p(){mi().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BR=500,qR=600,HR="_blank",FR="http://localhost";class Dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GR(r,t,n,s=BR,o=qR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...jR,width:s.toString(),height:o.toString(),top:c,left:f},y=We().toLowerCase();n&&(g=p0(y)?HR:n),m0(y)&&(t=t||FR,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[F,Z])=>`${R}${F}=${Z},`,"");if(ww(y)&&g!=="_self")return QR(t||"",g),new Dv(null);const w=window.open(t||"",g,E);_t(w,r,"popup-blocked");try{w.focus()}catch{}return new Dv(w)}function QR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="__/auth/handler",YR="emulator/auth/handler",XR=encodeURIComponent("fac");async function Nv(r,t,n,s,o,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:so,eventId:o};if(t instanceof Ym){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",GS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(t instanceof Xl){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await r._getAppCheckToken(),y=p?`#${XR}=${encodeURIComponent(p)}`:"";return`${$R(r)}?${Kl(g).slice(1)}${y}`}function $R({config:r}){return r.emulator?Hm(r,YR):`https://${r.authDomain}/${KR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="webStorageSupport";class ZR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D0,this._completeRedirectFn=ER,this._overrideRedirectResult=_R}async _openPopup(t,n,s,o){tr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Nv(t,n,s,gm(),o);return GR(t,c,Xm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const c=await Nv(t,n,s,gm(),o);return tR(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(tr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await zR(t),s=new bR(t);return n.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(tm,{type:tm},o=>{const c=o?.[0]?.[tm];c!==void 0&&n(!!c),vi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return E0()||g0()||Qm()}}const WR=ZR;var xv="@firebase/auth",Ov="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eI(r){Kn(new Un("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;_t(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A0(r)},y=new xw(s,o,c,p);return Uw(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Kn(new Un("auth-internal",t=>{const n=ph(t.getProvider("auth").getImmediate());return(s=>new JR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(xv,Ov,tI(r)),un(xv,Ov,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=300,iI=ZT("authIdTokenMaxAge")||nI;let Mv=null;const rI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>iI)return;const o=n?.token;Mv!==o&&(Mv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sI(r=gh()){const t=Yr(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Pw(r,{popupRedirectResolver:WR,persistence:[uR,Zw,D0]}),s=ZT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=rI(c.toString());Qw(n,f,()=>f(n.currentUser)),Gw(n,g=>f(g))}}const o=YT("auth");return o&&Lw(n,`http://${o}`),n}function aI(){return document.getElementsByTagName("head")?.[0]??document}Ow({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const c=Gn("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",aI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eI("Browser");var oI="firebase",lI="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un(oI,lI,"app");var Vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zr,U0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,b){function C(){}C.prototype=b.prototype,V.D=b.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(O,M,P){for(var I=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)I[Pe-2]=arguments[Pe];return b.prototype[M].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,b,C){C||(C=0);var O=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)O[M]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(M=0;16>M;++M)O[M]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=V.g[0],C=V.g[1],M=V.g[2];var P=V.g[3],I=b+(P^C&(M^P))+O[0]+3614090360&4294967295;b=C+(I<<7&4294967295|I>>>25),I=P+(M^b&(C^M))+O[1]+3905402710&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(C^P&(b^C))+O[2]+606105819&4294967295,M=P+(I<<17&4294967295|I>>>15),I=C+(b^M&(P^b))+O[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=b+(P^C&(M^P))+O[4]+4118548399&4294967295,b=C+(I<<7&4294967295|I>>>25),I=P+(M^b&(C^M))+O[5]+1200080426&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(C^P&(b^C))+O[6]+2821735955&4294967295,M=P+(I<<17&4294967295|I>>>15),I=C+(b^M&(P^b))+O[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=b+(P^C&(M^P))+O[8]+1770035416&4294967295,b=C+(I<<7&4294967295|I>>>25),I=P+(M^b&(C^M))+O[9]+2336552879&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(C^P&(b^C))+O[10]+4294925233&4294967295,M=P+(I<<17&4294967295|I>>>15),I=C+(b^M&(P^b))+O[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=b+(P^C&(M^P))+O[12]+1804603682&4294967295,b=C+(I<<7&4294967295|I>>>25),I=P+(M^b&(C^M))+O[13]+4254626195&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(C^P&(b^C))+O[14]+2792965006&4294967295,M=P+(I<<17&4294967295|I>>>15),I=C+(b^M&(P^b))+O[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=b+(M^P&(C^M))+O[1]+4129170786&4294967295,b=C+(I<<5&4294967295|I>>>27),I=P+(C^M&(b^C))+O[6]+3225465664&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^C&(P^b))+O[11]+643717713&4294967295,M=P+(I<<14&4294967295|I>>>18),I=C+(P^b&(M^P))+O[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=b+(M^P&(C^M))+O[5]+3593408605&4294967295,b=C+(I<<5&4294967295|I>>>27),I=P+(C^M&(b^C))+O[10]+38016083&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^C&(P^b))+O[15]+3634488961&4294967295,M=P+(I<<14&4294967295|I>>>18),I=C+(P^b&(M^P))+O[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=b+(M^P&(C^M))+O[9]+568446438&4294967295,b=C+(I<<5&4294967295|I>>>27),I=P+(C^M&(b^C))+O[14]+3275163606&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^C&(P^b))+O[3]+4107603335&4294967295,M=P+(I<<14&4294967295|I>>>18),I=C+(P^b&(M^P))+O[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=b+(M^P&(C^M))+O[13]+2850285829&4294967295,b=C+(I<<5&4294967295|I>>>27),I=P+(C^M&(b^C))+O[2]+4243563512&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^C&(P^b))+O[7]+1735328473&4294967295,M=P+(I<<14&4294967295|I>>>18),I=C+(P^b&(M^P))+O[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=b+(C^M^P)+O[5]+4294588738&4294967295,b=C+(I<<4&4294967295|I>>>28),I=P+(b^C^M)+O[8]+2272392833&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^C)+O[11]+1839030562&4294967295,M=P+(I<<16&4294967295|I>>>16),I=C+(M^P^b)+O[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=b+(C^M^P)+O[1]+2763975236&4294967295,b=C+(I<<4&4294967295|I>>>28),I=P+(b^C^M)+O[4]+1272893353&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^C)+O[7]+4139469664&4294967295,M=P+(I<<16&4294967295|I>>>16),I=C+(M^P^b)+O[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=b+(C^M^P)+O[13]+681279174&4294967295,b=C+(I<<4&4294967295|I>>>28),I=P+(b^C^M)+O[0]+3936430074&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^C)+O[3]+3572445317&4294967295,M=P+(I<<16&4294967295|I>>>16),I=C+(M^P^b)+O[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=b+(C^M^P)+O[9]+3654602809&4294967295,b=C+(I<<4&4294967295|I>>>28),I=P+(b^C^M)+O[12]+3873151461&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^C)+O[15]+530742520&4294967295,M=P+(I<<16&4294967295|I>>>16),I=C+(M^P^b)+O[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=b+(M^(C|~P))+O[0]+4096336452&4294967295,b=C+(I<<6&4294967295|I>>>26),I=P+(C^(b|~M))+O[7]+1126891415&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~C))+O[14]+2878612391&4294967295,M=P+(I<<15&4294967295|I>>>17),I=C+(P^(M|~b))+O[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=b+(M^(C|~P))+O[12]+1700485571&4294967295,b=C+(I<<6&4294967295|I>>>26),I=P+(C^(b|~M))+O[3]+2399980690&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~C))+O[10]+4293915773&4294967295,M=P+(I<<15&4294967295|I>>>17),I=C+(P^(M|~b))+O[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=b+(M^(C|~P))+O[8]+1873313359&4294967295,b=C+(I<<6&4294967295|I>>>26),I=P+(C^(b|~M))+O[15]+4264355552&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~C))+O[6]+2734768916&4294967295,M=P+(I<<15&4294967295|I>>>17),I=C+(P^(M|~b))+O[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=b+(M^(C|~P))+O[4]+4149444226&4294967295,b=C+(I<<6&4294967295|I>>>26),I=P+(C^(b|~M))+O[11]+3174756917&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~C))+O[2]+718787259&4294967295,M=P+(I<<15&4294967295|I>>>17),I=C+(P^(M|~b))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}s.prototype.u=function(V,b){b===void 0&&(b=V.length);for(var C=b-this.blockSize,O=this.B,M=this.h,P=0;P<b;){if(M==0)for(;P<=C;)o(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<b;)if(O[M++]=V.charCodeAt(P++),M==this.blockSize){o(this,O),M=0;break}}else for(;P<b;)if(O[M++]=V[P++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;var C=8*this.o;for(b=V.length-8;b<V.length;++b)V[b]=C&255,C/=256;for(this.u(V),V=Array(16),b=C=0;4>b;++b)for(var O=0;32>O;O+=8)V[C++]=this.g[b]>>>O&255;return V};function c(V,b){var C=g;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=b(V)}function f(V,b){this.h=b;for(var C=[],O=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;O&&P==b||(C[M]=P,O=!1)}this.g=C}var g={};function p(V){return-128<=V&&128>V?c(V,function(b){return new f([b|0],0>b?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return H(y(-V));for(var b=[],C=1,O=0;V>=C;O++)b[O]=V/C|0,C*=4294967296;return new f(b,0)}function E(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return H(E(V.substring(1),b));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(b,8)),O=w,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),I=parseInt(V.substring(M,M+P),b);8>P?(P=y(Math.pow(b,P)),O=O.j(P).add(y(I))):(O=O.j(C),O=O.add(y(I)))}return O}var w=p(0),R=p(1),F=p(16777216);r=f.prototype,r.m=function(){if(W(this))return-H(this).m();for(var V=0,b=1,C=0;C<this.g.length;C++){var O=this.i(C);V+=(0<=O?O:4294967296+O)*b,b*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Z(this))return"0";if(W(this))return"-"+H(this).toString(V);for(var b=y(Math.pow(V,6)),C=this,O="";;){var M=bt(C,b).g;C=tt(C,M.j(b));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=M,Z(C))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Z(V){if(V.h!=0)return!1;for(var b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function W(V){return V.h==-1}r.l=function(V){return V=tt(this,V),W(V)?-1:Z(V)?0:1};function H(V){for(var b=V.g.length,C=[],O=0;O<b;O++)C[O]=~V.g[O];return new f(C,~V.h).add(R)}r.abs=function(){return W(this)?H(this):this},r.add=function(V){for(var b=Math.max(this.g.length,V.g.length),C=[],O=0,M=0;M<=b;M++){var P=O+(this.i(M)&65535)+(V.i(M)&65535),I=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=I>>>16,P&=65535,I&=65535,C[M]=I<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function tt(V,b){return V.add(H(b))}r.j=function(V){if(Z(this)||Z(V))return w;if(W(this))return W(V)?H(this).j(H(V)):H(H(this).j(V));if(W(V))return H(this.j(H(V)));if(0>this.l(F)&&0>V.l(F))return y(this.m()*V.m());for(var b=this.g.length+V.g.length,C=[],O=0;O<2*b;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var P=this.i(O)>>>16,I=this.i(O)&65535,Pe=V.i(M)>>>16,ae=V.i(M)&65535;C[2*O+2*M]+=I*ae,st(C,2*O+2*M),C[2*O+2*M+1]+=P*ae,st(C,2*O+2*M+1),C[2*O+2*M+1]+=I*Pe,st(C,2*O+2*M+1),C[2*O+2*M+2]+=P*Pe,st(C,2*O+2*M+2)}for(O=0;O<b;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=b;O<2*b;O++)C[O]=0;return new f(C,0)};function st(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function ot(V,b){this.g=V,this.h=b}function bt(V,b){if(Z(b))throw Error("division by zero");if(Z(V))return new ot(w,w);if(W(V))return b=bt(H(V),b),new ot(H(b.g),H(b.h));if(W(b))return b=bt(V,H(b)),new ot(H(b.g),b.h);if(30<V.g.length){if(W(V)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var C=R,O=b;0>=O.l(V);)C=Tt(C),O=Tt(O);var M=jt(C,1),P=jt(O,1);for(O=jt(O,2),C=jt(C,2);!Z(O);){var I=P.add(O);0>=I.l(V)&&(M=M.add(C),P=I),O=jt(O,1),C=jt(C,1)}return b=tt(V,M.j(b)),new ot(M,b)}for(M=w;0<=V.l(b);){for(C=Math.max(1,Math.floor(V.m()/b.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(C),I=P.j(b);W(I)||0<I.l(V);)C-=O,P=y(C),I=P.j(b);Z(P)&&(P=R),M=M.add(P),V=tt(V,I)}return new ot(M,V)}r.A=function(V){return bt(this,V).h},r.and=function(V){for(var b=Math.max(this.g.length,V.g.length),C=[],O=0;O<b;O++)C[O]=this.i(O)&V.i(O);return new f(C,this.h&V.h)},r.or=function(V){for(var b=Math.max(this.g.length,V.g.length),C=[],O=0;O<b;O++)C[O]=this.i(O)|V.i(O);return new f(C,this.h|V.h)},r.xor=function(V){for(var b=Math.max(this.g.length,V.g.length),C=[],O=0;O<b;O++)C[O]=this.i(O)^V.i(O);return new f(C,this.h^V.h)};function Tt(V){for(var b=V.g.length+1,C=[],O=0;O<b;O++)C[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(C,V.h)}function jt(V,b){var C=b>>5;b%=32;for(var O=V.g.length-C,M=[],P=0;P<O;P++)M[P]=0<b?V.i(P+C)>>>b|V.i(P+C+1)<<32-b:V.i(P+C);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,U0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,zr=f}).apply(typeof Vv<"u"?Vv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L0,Sl,z0,Uc,_m,j0,B0,q0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in _))break t;_=_[U]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,U={next:function(){if(!A&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function w(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function R(u,m,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,R.apply(null,arguments)}function F(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Z(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,U,q){for(var nt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)nt[Mt-2]=arguments[Mt];return m.prototype[U].apply(A,nt)}}function W(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function H(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=u.length||0,q=A.length||0;u.length=U+q;for(let nt=0;nt<q;nt++)u[U+nt]=A[nt]}else u.push(A)}}class tt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){return/^[\s\xa0]*$/.test(u)}function ot(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function bt(u){return bt[" "](u),u}bt[" "]=function(){};var Tt=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function jt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function V(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)u[_]=A[_];for(let q=0;q<C.length;q++)_=C[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){g.setTimeout(()=>{throw u},0)}function I(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Pe{constructor(){this.h=this.g=null}add(m,_){const A=ae.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new tt(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ht=!1,Lt=new Pe,N=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then(J)}};var J=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){P(_)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u})();function Rt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Tt){t:{try{bt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}Z(Rt,et);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function $n(u,m,_,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function ir(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ai(u){this.src=u,this.g={},this.h=0}Ai.prototype.add=function(u,m,_,A,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=Jr(u,m,A,U);return-1<nt?(m=u[nt],_||(m.fa=!1)):(m=new $n(m,this.src,q,!!A,U),m.fa=_,u.push(m)),m};function Wr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],U=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(A,U,1),q&&(ir(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Jr(u,m,_,A){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return U}return-1}var ts="closure_lm_"+(1e6*Math.random()|0),mo={};function iu(u,m,_,A,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)iu(u,m[q],_,A,U);return null}return _=ru(_),u&&u[De]?u.K(m,_,y(A)?!!A.capture:!1,U):An(u,m,_,!1,A,U)}function An(u,m,_,A,U,q){if(!m)throw Error("Invalid event type");var nt=y(U)?!!U.capture:!!U,Mt=Zs(u);if(Mt||(u[ts]=Mt=new Ai(u)),_=Mt.add(m,_,A,nt,q),_.proxy)return _;if(A=Bh(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)dt||(U=nt),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(es(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Bh(){function u(_){return m.call(u.src,u.listener,_)}const m=qh;return u}function go(u,m,_,A,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)go(u,m[q],_,A,U);else A=y(A)?!!A.capture:!!A,_=ru(_),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=Jr(q,_,A,U),-1<_&&(ir(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Zs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Jr(m,_,A,U)),(_=-1<u?m[u]:null)&&$s(_))}function $s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Wr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(es(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Zs(m))?(Wr(_,u),_.h==0&&(_.src=null,m[ts]=null)):ir(u)}}}function es(u){return u in mo?mo[u]:mo[u]="on"+u}function qh(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&$s(u),u=_.call(A,m)}return u}function Zs(u){return u=u[ts],u instanceof Ai?u:null}var po="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(u){return typeof u=="function"?u:(u[po]||(u[po]=function(m){return u.handleEvent(m)}),u[po])}function oe(){rt.call(this),this.i=new Ai(this),this.M=this,this.F=null}Z(oe,rt),oe.prototype[De]=!0,oe.prototype.removeEventListener=function(u,m,_,A){go(this,u,m,_,A)};function Ht(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var U=m;m=new et(A,u),O(m,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var nt=m.g=_[q];U=hn(nt,A,!0,m)&&U}if(nt=m.g=u,U=hn(nt,A,!0,m)&&U,U=hn(nt,A,!1,m)&&U,_)for(q=0;q<_.length;q++)nt=m.g=_[q],U=hn(nt,A,!1,m)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)ir(_[A]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},oe.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function hn(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==_){var Mt=nt.listener,Se=nt.ha||nt.src;nt.fa&&Wr(u.i,nt),U=Mt.call(Se,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ge(u,m,_){if(typeof u=="function")_&&(u=R(u,_));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function su(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,su(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Hh extends rt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:su(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){rt.call(this),this.h=u,this.g={}}Z(ns,rt);var is=[];function rs(u){jt(u.g,function(m,_){this.g.hasOwnProperty(_)&&$s(m)},u),u.g={}}ns.prototype.N=function(){ns.aa.N.call(this),rs(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=g.JSON.stringify,Ws=g.JSON.parse,ss=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function yo(){}yo.prototype.h=null;function _o(u){return u.h||(u.h=u.i())}function vo(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){et.call(this,"d")}Z(Si,et);function To(){et.call(this,"c")}Z(To,et);var Zn={},Eo=null;function rr(){return Eo=Eo||new oe}Zn.La="serverreachability";function Js(u){et.call(this,Zn.La,u)}Z(Js,et);function sr(u){const m=rr();Ht(m,new Js(m))}Zn.STAT_EVENT="statevent";function au(u,m){et.call(this,Zn.STAT_EVENT,u),this.stat=m}Z(au,et);function ee(u){const m=rr();Ht(m,new au(m,u))}Zn.Ma="timingevent";function be(u,m){et.call(this,Zn.Ma,u),this.size=m}Z(be,et);function pe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function Ao(u,m,_,A,U,q){u.info(function(){if(u.g)if(q)for(var nt="",Mt=q.split("&"),Se=0;Se<Mt.length;Se++){var Vt=Mt[Se].split("=");if(1<Vt.length){var xe=Vt[0];Vt=Vt[1];var we=xe.split("_");nt=2<=we.length&&we[1]=="type"?nt+(xe+"="+Vt+"&"):nt+(xe+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+nt})}function Fh(u,m,_,A,U,q,nt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+q+" "+nt})}function ar(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+as(u,_)+(A?" "+A:"")})}function ou(u,m){u.info(function(){return"TIMEOUT: "+m})}bn.prototype.info=function(){};function as(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<U.length;nt++)U[nt]=""}}}}return Ln(_)}catch{return m}}var or={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Jn(){}Z(Jn,yo),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Wn=new Jn;function Je(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var bo={},ta={};function zn(u,m,_){u.L=1,u.v=hs(fn(m)),u.m=_,u.P=!0,Ri(u,null)}function Ri(u,m){u.F=Date.now(),os(u),u.A=fn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Do(_.i,"t",A),u.C=0,_=u.j.J,u.h=new ce,u.g=bu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Hh(R(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(is[0]=U.toString()),U=is);for(var q=0;q<U.length;q++){var nt=iu(_,U[q],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),sr(),Ao(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const m=this.M;m&&In(u)==3?m.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const we=In(this.g);var m=this.g.Ba();const Vi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||we!=4||m==7||(m==8||0>=Vi?sr(3):sr(2)),lr(this);var _=this.g.Z();this.X=_;e:if(lu(this)){var A=gu(this.g);u="";var U=A.length,q=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),ti(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,Fh(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Se=this.g;if((Mt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Mt)){var Vt=Mt;break e}}Vt=null}if(_=Vt)ar(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ls(this,_);else{this.o=!1,this.s=3,ee(12),Ue(this),ti(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<nt.length;)if(Le=uu(this,nt),Le==ta){we==4&&(this.s=4,ee(14),_=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==bo){this.s=4,ee(15),ar(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else ar(this.i,this.l,Le,null),ls(this,Le);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||nt.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)ar(this.i,this.l,nt,"[Invalid Chunked Response]"),Ue(this),ti(this);else if(0<nt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),vs(xe),xe.M=!0,ee(11))}}else ar(this.i,this.l,nt,null),ls(this,nt);we==4&&Ue(this),this.o&&!this.J&&(we==4?Tu(this.j,this):(this.o=!1,os(this)))}else Xh(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),ti(this)}}}catch{}finally{}};function lu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function uu(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?ta:(_=Number(m.substring(_,A)),isNaN(_)?bo:(A+=1,A+_>m.length?ta:(m=m.slice(A,A+_),u.C=A+_,m)))}Je.prototype.cancel=function(){this.J=!0,Ue(this)};function os(u){u.S=Date.now()+u.I,cu(u,u.I)}function cu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(R(u.ba,u),m)}function lr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ou(this.i,this.A),this.L!=2&&(sr(),ee(17)),Ue(this),this.s=2,ti(this)):cu(this,this.S-u)};function ti(u){u.j.G==0||u.J||Tu(u.j,u)}function Ue(u){lr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,rs(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ls(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||So(_.h,u))){if(!u.K&&So(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)fa(_),ca(_);else break t;Vo(_),ee(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(R(_.Za,_),6e3));if(1>=na(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((u.K||_.g==u)&&fa(_),!st(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Vt=U[m];if(_.T=Vt[0],Vt=Vt[1],_.G==2)if(Vt[0]=="c"){_.K=Vt[1],_.ia=Vt[2];const xe=Vt[3];xe!=null&&(_.la=xe,_.j.info("VER="+_.la));const we=Vt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Vi=Vt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(A=1.5*Vi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Le=u.g;if(Le){const oi=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var q=A.h;q.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ia(q,q.h),q.h=null))}if(A.D){const Po=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(A.ya=Po,Qt(A.I,A.D,Po))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var nt=u;if(A.qa=Au(A,A.J?A.ia:null,A.W),nt.K){tn(A.h,nt);var Mt=nt,Se=A.L;Se&&(Mt.I=Se),Mt.B&&(lr(Mt),os(Mt)),A.g=nt}else _u(A);0<_.i.length&&ha(_)}else Vt[0]!="stop"&&Vt[0]!="close"||Mi(_,7);else _.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?Mi(_,7):Oo(_):Vt[0]!="noop"&&_.l&&_.l.ta(Vt),_.v=0)}}sr(4)}catch{}}var hu=class{constructor(u,m){this.g=u,this.map=m}};function Ii(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ea(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function na(u){return u.h?1:u.g?u.g.size:0}function So(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ia(u,m){u.g?u.g.add(m):u.h=m}function tn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ii.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return W(u.i)}function Gh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function ra(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function Ro(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=ra(u),A=Gh(u),U=A.length,q=0;q<U;q++)m.call(void 0,A[q],_&&_[q],u)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),U=null;if(0<=A){var q=u[_].substring(0,A);U=u[_].substring(A+1)}else q=u[_];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ye(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ye){this.h=u.h,cs(this,u.j),this.o=u.o,this.g=u.g,ur(this,u.s),this.l=u.l;var m=u.i,_=new Di;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ci(this,_),this.m=u.m}else u&&(m=String(u).match(us))?(this.h=!1,cs(this,m[1]||"",!0),this.o=Sn(m[2]||""),this.g=Sn(m[3]||"",!0),ur(this,m[4]),this.l=Sn(m[5]||"",!0),Ci(this,m[6]||"",!0),this.m=Sn(m[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}ye.prototype.toString=function(){var u=[],m=this.j;m&&u.push(fs(m,Io,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fs(m,Io,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(fs(_,_.charAt(0)=="/"?Kh:Co,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",fs(_,sa)),u.join("")};function fn(u){return new ye(u)}function cs(u,m,_){u.j=_?Sn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ur(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ci(u,m,_){m instanceof Di?(u.i=m,du(u.i,u.h)):(_||(m=fs(m,Yh)),u.i=new Di(m,u.h))}function Qt(u,m,_){u.i.set(m,_)}function hs(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Sn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fs(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,fu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Io=/[#\/\?@]/g,Co=/[#\?:]/g,Kh=/[#\?]/g,Yh=/[#\?@]/g,sa=/#/g;function Di(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Di.prototype,r.add=function(u,m){wn(this),this.i=null,u=ei(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ni(u,m){wn(u),m=ei(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xi(u,m){return wn(u),m=ei(u,m),u.g.has(m)}r.forEach=function(u,m){wn(this),this.g.forEach(function(_,A){_.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){wn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const U=u[A];for(let q=0;q<U.length;q++)_.push(m[A])}return _},r.V=function(u){wn(this);let m=[];if(typeof u=="string")xi(this,u)&&(m=m.concat(this.g.get(ei(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return wn(this),this.i=null,u=ei(this,u),xi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Do(u,m,_){Ni(u,m),0<_.length&&(u.i=null,u.g.set(ei(u,m),W(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const q=encodeURIComponent(String(A)),nt=this.V(A);for(A=0;A<nt.length;A++){var U=q;nt[A]!==""&&(U+="="+encodeURIComponent(String(nt[A]))),u.push(U)}}return this.i=u.join("&")};function ei(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function du(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Ni(this,A),Do(this,U,_))},u)),u.j=m}function ds(u,m){const _=new bn;if(g.Image){const A=new Image;A.onload=F(Rn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=F(Rn,_,"TestLoadImage: error",!1,m,A),A.onabort=F(Rn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=F(Rn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function jn(u,m){const _=new bn,A=new AbortController,U=setTimeout(()=>{A.abort(),Rn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?Rn(_,"TestPingServer: ok",!0,m):Rn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(_,"TestPingServer: error",!1,m)})}function Rn(u,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function ms(){this.g=new ss}function ni(u,m,_){const A=_||"";try{Ro(u,function(U,q){let nt=U;y(U)&&(nt=Ln(U)),m.push(A+q+"="+encodeURIComponent(nt))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function cr(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(cr,yo),cr.prototype.g=function(){return new Oi(this.l,this.j)},cr.prototype.i=(function(u){return function(){return u}})({});function Oi(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Oi,oe),r=Oi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ri(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;No(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function No(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ii(this):ri(this),this.readyState==3&&No(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ii(this))},r.Qa=function(u){this.g&&(this.response=u,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ri(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xo(u){let m="";return jt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ne(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=xo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Qt(u,m,_))}function Bt(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,oe);var aa=/^https?$/i,gs=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?_o(this.o):_o(Wn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){mu(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(gs,m,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of _)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){mu(this,q)}};function mu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,oa(u),si(u)}function oa(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?la(this):this.bb())},r.bb=function(){la(this)};function la(u){if(u.h&&typeof f<"u"&&(!u.v[1]||In(u)!=4||u.Z()!=2)){if(u.u&&In(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),In(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=nt===0){var U=String(u.D).match(us)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!aa.test(U?U.toLowerCase():"")}_=A}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<In(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",oa(u)}}finally{si(u)}}}}function si(u,m){if(u.g){ps(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{_.onreadystatechange=A}catch{}}}function ps(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function In(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ws(m)}};function gu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(u){const m={};u=(u.g&&2<=In(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(st(u[A]))continue;var _=M(u[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[U]||[];m[U]=q,q.push(_)}V(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ua(u){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,u),this.cb=ys("retryDelaySeedMs",1e4,u),this.Wa=ys("forwardChannelMaxRetries",2,u),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(u&&u.concurrentRequestLimit),this.Da=new ms,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ua.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){ee(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Au(this,null,this.W),ha(this)};function Oo(u){if(pu(u),u.G==3){var m=u.U++,_=fn(u.I);if(Qt(_,"SID",u.K),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),_s(u,_),m=new Je(u,u.j,m),m.L=2,m.v=hs(fn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=bu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),os(m)}Eu(u)}function ca(u){u.g&&(vs(u),u.g.cancel(),u.g=null)}function pu(u){ca(u),u.u&&(g.clearTimeout(u.u),u.u=null),fa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ha(u){if(!ea(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||N(),ht||(it(),ht=!0),Lt.add(m,u),u.B=0}}function $h(u,m){return na(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(R(u.Ga,u,m),ko(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Je(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=yu(this,U,m),_=fn(this.I),Qt(_,"RID",u),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),_s(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(xo(q)))+"&"+m:this.m&&Ne(_,this.m,q)),ia(this.h,U),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",m),Qt(_,"SID","null"),U.T=!0,zn(U,_,null)):zn(U,_,m),this.G=2}}else this.G==3&&(u?Mo(this,u):this.i.length==0||ea(this.h)||Mo(this))};function Mo(u,m){var _;m?_=m.l:_=u.U++;const A=fn(u.I);Qt(A,"SID",u.K),Qt(A,"RID",_),Qt(A,"AID",u.T),_s(u,A),u.m&&u.o&&Ne(A,u.m,u.o),_=new Je(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=yu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ia(u.h,_),zn(_,A,m)}function _s(u,m){u.H&&jt(u.H,function(_,A){Qt(m,A,_)}),u.l&&Ro({},function(_,A){Qt(m,A,_)})}function yu(u,m,_){_=Math.min(u.i.length,_);var A=u.l?R(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const nt=["count="+_];q==-1?0<_?(q=U[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Mt=!0;for(let Se=0;Se<_;Se++){let Vt=U[Se].g;const xe=U[Se].map;if(Vt-=q,0>Vt)q=Math.max(0,U[Se].g-100),Mt=!1;else try{ni(xe,nt,"req"+Vt+"_")}catch{A&&A(xe)}}if(Mt){A=nt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function _u(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||N(),ht||(it(),ht=!0),Lt.add(m,u),u.v=0}}function Vo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(R(u.Fa,u),ko(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),ca(this),vu(this))};function vs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function vu(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=fn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),_s(u,m),u.m&&u.o&&Ne(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=hs(fn(m)),_.m=null,_.P=!0,Ri(_,u)}r.Za=function(){this.C!=null&&(this.C=null,ca(this),Vo(this),ee(19))};function fa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Tu(u,m){var _=null;if(u.g==m){fa(u),vs(u),u.g=null;var A=2}else if(So(u.h,m))_=m.D,tn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=rr(),Ht(A,new be(A,_)),ha(u)}else _u(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&$h(u,m)||A==2&&Vo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function ko(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var _=R(u.fb,u),A=u.Xa;const U=!A;A=new ye(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||cs(A,"https"),hs(A),U?ds(A.toString(),_):jn(A.toString(),_)}else ee(2);u.G=0,u.l&&u.l.sa(m),Eu(u),pu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Eu(u){if(u.G=0,u.ka=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function Au(u,m,_){var A=_ instanceof ye?fn(_):new ye(_);if(A.g!="")m&&(A.g=m+"."+A.g),ur(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new ye(null);A&&cs(q,A),m&&(q.g=m),U&&ur(q,U),_&&(q.l=_),A=q}return _=u.D,m=u.ya,_&&m&&Qt(A,_,m),Qt(A,"VER",u.la),_s(u,A),A}function bu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new cr({eb:_})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function da(){}da.prototype.g=function(u,m){return new en(u,m)};function en(u,m){oe.call(this),this.g=new ua(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!st(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!st(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ai(this)}Z(en,oe),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Oo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ln(u),u=_);m.i.push(new hu(m.Ya++,u)),m.G==3&&ha(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,en.aa.N.call(this)};function wu(u){Si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(wu,Si);function Ru(){To.call(this),this.status=1}Z(Ru,To);function ai(u){this.g=u}Z(ai,Su),ai.prototype.ua=function(){Ht(this.g,"a")},ai.prototype.ta=function(u){Ht(this.g,new wu(u))},ai.prototype.sa=function(u){Ht(this.g,new Ru)},ai.prototype.ra=function(){Ht(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,q0=function(){return new da},B0=function(){return rr()},j0=Zn,_m={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Uc=or,wi.COMPLETE="complete",z0=wi,vo.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Sl=vo,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,L0=Bt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const kv="@firebase/firestore",Pv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new mh("@firebase/firestore");function qa(){return qs.logLevel}function lt(r,...t){if(qs.logLevel<=Nt.DEBUG){const n=t.map(Zm);qs.debug(`Firestore (${oo}): ${r}`,...n)}}function er(r,...t){if(qs.logLevel<=Nt.ERROR){const n=t.map(Zm);qs.error(`Firestore (${oo}): ${r}`,...n)}}function Ja(r,...t){if(qs.logLevel<=Nt.WARN){const n=t.map(Zm);qs.warn(`Firestore (${oo}): ${r}`,...n)}}function Zm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,H0(r,s,n)}function H0(r,t,n){let s=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function qt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||H0(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Xn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class cI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hI{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wi,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wi)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new F0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class fI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new fI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Uv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Uv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=gI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function vm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=t.charAt(s);if(o!==c)return em(o)===em(c)?xt(o,c):em(o)?1:-1}return xt(r.length,t.length)}const pI=55296,yI=57343;function em(r){const t=r.charCodeAt(0);return t>=pI&&t<=yI}function to(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="__name__";class di{constructor(t,n,s){n===void 0?n=0:n>t.length&&pt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&pt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=di.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return xt(t.length,n.length)}static compareSegments(t,n){const s=di.isNumericId(t),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(t).compare(di.extractNumericId(n)):vm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zr.fromString(t.substring(4,t.length-2))}}class Jt extends di{construct(t,n,s){return new Jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Jt(n)}static emptyPath(){return new Jt([])}}const _I=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends di{construct(t,n,s){return new He(t,n,s)}static isValidIdentifier(t){return _I.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lv}static keyField(){return new He([Lv])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(c(),o++)}if(c(),f)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(n)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(Jt.fromString(t))}static fromName(t){return new ft(Jt.fromString(t).popFirst(5))}static empty(){return new ft(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r,t,n){if(!n)throw new at(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function vI(r,t,n,s){if(t===!0&&s===!0)throw new at(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function zv(r){if(!ft.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jv(r){if(ft.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Q0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Ti(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(r);throw new at(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,t){const n={typeString:r};return t&&(n.value=t),n}function Zl(r,t){if(!Q0(r))throw new at(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new at(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=-62135596800,qv=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*qv);return new te(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Bv)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Ae("string",te._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function TI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new te(n+1,0):new te(n,s));return new qr(o,ft.empty(),t)}function EI(r){return new qr(r.readTime,r.key,zl)}class qr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new qr(Et.min(),ft.empty(),zl)}static max(){return new qr(Et.max(),ft.empty(),zl)}}function AI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==bI)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,s)=>{n(t)}))}static reject(t){return new $(((n,s)=>{s(t)}))}static waitFor(t){return new $(((n,s)=>{let o=0,c=0,f=!1;t.forEach((g=>{++o,g.next((()=>{++c,f&&c===o&&n()}),(p=>s(p)))})),f=!0,c===o&&n()}))}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next((o=>o?$.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(t,n){return new $(((s,o)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++g,g===c&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new $(((s,o)=>{const c=()=>{t()===!0?n().next((()=>{c()}),o):s()};c()}))}}function wI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=-1;function Eh(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function RI(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="";function II(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Hv(t)),t=CI(r.get(n),t);return Hv(t)}function CI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case K0:n+="";break;default:n+=c}}return n}function Hv(r){return r+K0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Xr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function Y0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.comparator=t,this.root=n||qe.EMPTY}insert(t,n){return new se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??qe.RED,this.left=o??qe.EMPTY,this.right=c??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new qe(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,n,s,o,c){return this}insert(t,n,s){return new qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(t){return new Gv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class Gv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new Tn([])}unionWith(t){let n=new Ce(He.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Tn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new X0("Invalid base64 string: "+c):c}})(t);return new Fe(n)}static fromUint8Array(t){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const DI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const n=DI.exec(r);if(qt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fr(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="server_timestamp",Z0="__type__",W0="__previous_value__",J0="__local_write_time__";function tg(r){return(r?.mapValue?.fields||{})[Z0]?.stringValue===$0}function Ah(r){const t=r.mapValue.fields[W0];return tg(t)?Ah(t):t}function jl(r){const t=Hr(r.mapValue.fields[J0].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n,s,o,c,f,g,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Wc="(default)";class Bl{constructor(t,n){this.projectId=t,this.database=n||Wc}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="__type__",xI="__max__",Nc={mapValue:{}},eE="__vector__",Jc="value";function Gr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tg(r)?4:MI(r)?9007199254740991:OI(r)?10:11:pt(28295,{value:r})}function Ei(r,t){if(r===t)return!0;const n=Gr(r);if(n!==Gr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return jl(r).isEqual(jl(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Hr(o.timestampValue),g=Hr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Fr(o.bytesValue).isEqual(Fr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return de(o.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return de(o.integerValue)===de(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=de(o.doubleValue),g=de(c.doubleValue);return f===g?Zc(f)===Zc(g):isNaN(f)&&isNaN(g)}return!1})(r,t);case 9:return to(r.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Fv(f)!==Fv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Ei(f[p],g[p])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function ql(r,t){return(r.values||[]).find((n=>Ei(n,t)))!==void 0}function eo(r,t){if(r===t)return 0;const n=Gr(r),s=Gr(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(c,f){const g=de(c.integerValue||c.doubleValue),p=de(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return Qv(r.timestampValue,t.timestampValue);case 4:return Qv(jl(r),jl(t));case 5:return vm(r.stringValue,t.stringValue);case 6:return(function(c,f){const g=Fr(c),p=Fr(f);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(c,f){const g=c.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=xt(g[y],p[y]);if(E!==0)return E}return xt(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,f){const g=xt(de(c.latitude),de(f.latitude));return g!==0?g:xt(de(c.longitude),de(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Kv(r.arrayValue,t.arrayValue);case 10:return(function(c,f){const g=c.fields||{},p=f.fields||{},y=g[Jc]?.arrayValue,E=p[Jc]?.arrayValue,w=xt(y?.values?.length||0,E?.values?.length||0);return w!==0?w:Kv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(c,f){if(c===Nc.mapValue&&f===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(f===Nc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const R=vm(p[w],E[w]);if(R!==0)return R;const F=eo(g[p[w]],y[E[w]]);if(F!==0)return F}return xt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:n})}}function Qv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=Hr(r),s=Hr(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function Kv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=eo(n[o],s[o]);if(c)return c}return xt(n.length,s.length)}function no(r){return Tm(r)}function Tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Hr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Fr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ft.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Tm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Tm(n.fields[f])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function Lc(r){switch(Gr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(r);return t?16+Lc(t):16;case 5:return 2*r.stringValue.length;case 6:return Fr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Xr(s.fields,((c,f)=>{o+=c.length+Lc(f)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function Yv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Em(r){return!!r&&"integerValue"in r}function eg(r){return!!r&&"arrayValue"in r}function Xv(r){return!!r&&"nullValue"in r}function $v(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function OI(r){return(r?.mapValue?.fields||{})[tE]?.stringValue===eE}function Nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Xr(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Nl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nl(r.arrayValue.values[n]);return t}return{...r}}function MI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===xI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.value=t}static empty(){return new ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!zc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(n)}setAll(t){let n=He.emptyPath(),s={},o=[];t.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=Nl(f):o.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Xr(n,((o,c)=>t[o]=c));for(const o of s)delete t[o]}clone(){return new ln(Nl(this.value))}}function nE(r){const t=[];return Xr(r.fields,((n,s)=>{const o=new He([n]);if(zc(s)){const c=nE(s.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)})),new Tn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n,s,o,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,Et.min(),Et.min(),Et.min(),ln.empty(),0)}static newFoundDocument(t,n,s,o){return new Ze(t,1,n,Et.min(),s,o,0)}static newNoDocument(t,n){return new Ze(t,2,n,Et.min(),Et.min(),ln.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,Et.min(),Et.min(),ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n){this.position=t,this.inclusive=n}}function Zv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],f=r.position[o];if(c.field.isKeyField()?s=ft.comparator(ft.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ei(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n="asc"){this.field=t,this.dir=n}}function VI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{}class Ee extends iE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new PI(t,n,s):n==="array-contains"?new zI(t,s):n==="in"?new jI(t,s):n==="not-in"?new BI(t,s):n==="array-contains-any"?new qI(t,s):new Ee(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new UI(t,s):new LI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends iE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Yn(t,n)}matches(t){return rE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rE(r){return r.op==="and"}function sE(r){return kI(r)&&rE(r)}function kI(r){for(const t of r.filters)if(t instanceof Yn)return!1;return!0}function Am(r){if(r instanceof Ee)return r.field.canonicalString()+r.op.toString()+no(r.value);if(sE(r))return r.filters.map((t=>Am(t))).join(",");{const t=r.filters.map((n=>Am(n))).join(",");return`${r.op}(${t})`}}function aE(r,t){return r instanceof Ee?(function(s,o){return o instanceof Ee&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)})(r,t):r instanceof Yn?(function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,g)=>c&&aE(f,o.filters[g])),!0):!1})(r,t):void pt(19439)}function oE(r){return r instanceof Ee?(function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`})(r):r instanceof Yn?(function(n){return n.op.toString()+" {"+n.getFilters().map(oE).join(" ,")+"}"})(r):"Filter"}class PI extends Ee{constructor(t,n,s){super(t,n,s),this.key=ft.fromName(s.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class UI extends Ee{constructor(t,n){super(t,"in",n),this.keys=lE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class LI extends Ee{constructor(t,n){super(t,"not-in",n),this.keys=lE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function lE(r,t){return(t.arrayValue?.values||[]).map((n=>ft.fromName(n.referenceValue)))}class zI extends Ee{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return eg(n)&&ql(n.arrayValue,this.value)}}class jI extends Ee{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class BI extends Ee{constructor(t,n){super(t,"not-in",n)}matches(t){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ql(this.value.arrayValue,n)}}class qI extends Ee{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ql(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n=null,s=[],o=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function Jv(r,t=null,n=[],s=[],o=null,c=null,f=null){return new HI(r,t,n,s,o,c,f)}function ng(r){const t=At(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Am(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>no(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>no(s))).join(",")),t.Te=n}return t.Te}function ig(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!VI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Wv(r.startAt,t.startAt)&&Wv(r.endAt,t.endAt)}function bm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,n=null,s=[],o=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FI(r,t,n,s,o,c,f,g){return new co(r,t,n,s,o,c,f,g)}function rg(r){return new co(r)}function tT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uE(r){return r.collectionGroup!==null}function xl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ce(He.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Hl(c,s))})),n.has(He.keyField().canonicalString())||t.Ie.push(new Hl(He.keyField(),s))}return t.Ie}function gi(r){const t=At(r);return t.Ee||(t.Ee=GI(t,xl(r))),t.Ee}function GI(r,t){if(r.limitType==="F")return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Hl(o.field,c)}));const n=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Sm(r,t){const n=r.filters.concat([t]);return new co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function eh(r,t,n){return new co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function bh(r,t){return ig(gi(r),gi(t))&&r.limitType===t.limitType}function cE(r){return`${ng(gi(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>oE(o))).join(", ")}]`),Eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>no(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>no(o))).join(",")),`Target(${s})`})(gi(r))}; limitType=${r.limitType})`}function Sh(r,t){return t.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ft.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,o){for(const c of xl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,g,p){const y=Zv(f,g,p);return f.inclusive?y<=0:y<0})(s.startAt,xl(s),o)||s.endAt&&!(function(f,g,p){const y=Zv(f,g,p);return f.inclusive?y>=0:y>0})(s.endAt,xl(s),o))})(r,t)}function QI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hE(r){return(t,n)=>{let s=!1;for(const o of xl(r)){const c=KI(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function KI(r,t,n){const s=r.field.isKeyField()?ft.comparator(t.key,n.key):(function(c,f,g){const p=f.data.field(c),y=g.data.field(c);return p!==null&&y!==null?eo(p,y):pt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Xr(this.inner,((n,s)=>{for(const[o,c]of s)t(o,c)}))}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new se(ft.comparator);function nr(){return YI}const fE=new se(ft.comparator);function wl(...r){let t=fE;for(const n of r)t=t.insert(n.key,n);return t}function dE(r){let t=fE;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Us(){return Ol()}function mE(){return Ol()}function Ol(){return new Ys((r=>r.toString()),((r,t)=>r.isEqual(t)))}const XI=new se(ft.comparator),$I=new Ce(ft.comparator);function Ot(...r){let t=$I;for(const n of r)t=t.add(n);return t}const ZI=new Ce(xt);function WI(){return ZI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function gE(r){return{integerValue:""+r}}function JI(r,t){return RI(t)?gE(t):sg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function tC(r,t,n){return r instanceof Fl?(function(o,c){const f={fields:{[Z0]:{stringValue:$0},[J0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&tg(c)&&(c=Ah(c)),c&&(f.fields[W0]=c),{mapValue:f}})(n,t):r instanceof Gl?yE(r,t):r instanceof Ql?_E(r,t):(function(o,c){const f=pE(o,c),g=eT(f)+eT(o.Ae);return Em(f)&&Em(o.Ae)?gE(g):sg(o.serializer,g)})(r,t)}function eC(r,t,n){return r instanceof Gl?yE(r,t):r instanceof Ql?_E(r,t):n}function pE(r,t){return r instanceof nh?(function(s){return Em(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Fl extends wh{}class Gl extends wh{constructor(t){super(),this.elements=t}}function yE(r,t){const n=vE(t);for(const s of r.elements)n.some((o=>Ei(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Ql extends wh{constructor(t){super(),this.elements=t}}function _E(r,t){let n=vE(t);for(const s of r.elements)n=n.filter((o=>!Ei(o,s)));return{arrayValue:{values:n}}}class nh extends wh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function eT(r){return de(r.integerValue||r.doubleValue)}function vE(r){return eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,n){this.field=t,this.transform=n}}function iC(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Gl&&o instanceof Gl||s instanceof Ql&&o instanceof Ql?to(s.elements,o.elements,Ei):s instanceof nh&&o instanceof nh?Ei(s.Ae,o.Ae):s instanceof Fl&&o instanceof Fl})(r.transform,t.transform)}class rC{constructor(t,n){this.version=t,this.transformResults=n}}class Qn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qn}static exists(t){return new Qn(void 0,t)}static updateTime(t){return new Qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Rh{}function TE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new AE(r.key,Qn.none()):new Wl(r.key,r.data,Qn.none());{const n=r.data,s=ln.empty();let o=new Ce(He.comparator);for(let c of t.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new $r(r.key,s,new Tn(o.toArray()),Qn.none())}}function sC(r,t,n){r instanceof Wl?(function(o,c,f){const g=o.value.clone(),p=iT(o.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):r instanceof $r?(function(o,c,f){if(!jc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const g=iT(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(EE(o)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ml(r,t,n,s){return r instanceof Wl?(function(c,f,g,p){if(!jc(c.precondition,f))return g;const y=c.value.clone(),E=rT(c.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof $r?(function(c,f,g,p){if(!jc(c.precondition,f))return g;const y=rT(c.fieldTransforms,p,f),E=f.data;return E.setAll(EE(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,n,s):(function(c,f,g){return jc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,t,n)}function aC(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=pE(s.transform,o||null);c!=null&&(n===null&&(n=ln.empty()),n.set(s.field,c))}return n||null}function nT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,((c,f)=>iC(c,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Wl extends Rh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $r extends Rh{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function EE(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function iT(r,t,n){const s=new Map;qt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,g=t.data.field(c.field);s.set(c.field,eC(f,g,n[o]))}return s}function rT(r,t,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,tC(c,f,t))}return s}class AE extends Rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oC extends Rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&sC(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ml(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ml(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=mE();return this.mutations.forEach((o=>{const c=t.get(o.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(o.key)?null:g;const p=TE(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((n,s)=>nT(n,s)))&&to(this.baseMutations,t.baseMutations,((n,s)=>nT(n,s)))}}class ag{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return XI})();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new ag(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Pt;function hC(r){switch(r){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function bE(r){if(r===void 0)return er("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Te.OK:return Y.OK;case Te.CANCELLED:return Y.CANCELLED;case Te.UNKNOWN:return Y.UNKNOWN;case Te.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Te.INTERNAL:return Y.INTERNAL;case Te.UNAVAILABLE:return Y.UNAVAILABLE;case Te.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Te.NOT_FOUND:return Y.NOT_FOUND;case Te.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Te.ABORTED:return Y.ABORTED;case Te.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Te.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:r})}}(Pt=Te||(Te={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new zr([4294967295,4294967295],0);function sT(r){const t=fC().encode(r),n=new U0;return n.update(t),new Uint8Array(n.digest())}function aT(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new zr([n,s],0),new zr([o,c],0)]}class og{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(s<0)throw new Rl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=zr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(zr.fromNumber(s)));return o.compare(dC)===1&&(o=new zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=sT(t),[s,o]=aT(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new og(c,o,n);return s.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const n=sT(t),[s,o]=aT(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Ih(Et.min(),o,new se(xt),nr(),Ot())}}class Jl{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Jl(s,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class SE{constructor(t,n){this.targetId=t,this.Ce=n}}class wE{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class oT{constructor(){this.ve=0,this.Fe=lT(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),n=Ot(),s=Ot();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:c})}})),new Jl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=lT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mC{constructor(t){this.Ge=t,this.ze=new Map,this.je=nr(),this.Je=xc(),this.He=xc(),this.Ye=new se(xt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const c=o.target;if(bm(c))if(s===0){const f=new ft(c.path);this.et(n,f,Ze.newNoDocument(f,Et.min()))}else qt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(t),p=g?this.ct(g,t,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,g;try{f=Fr(s).toUint8Array()}catch(p){if(p instanceof X0)return Ja("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new og(f,o,c)}catch(p){return Ja(p instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(n,c,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&bm(g.target)){const p=new ft(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Ze.newNoDocument(p,t))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(t)));const o=new Ih(t,n,this.Ye,this.je,s);return this.je=nr(),this.Je=xc(),this.He=xc(),this.Ye=new se(xt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new oT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ce(xt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ce(xt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new oT),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function xc(){return new se(ft.comparator)}function lT(){return new se(ft.comparator)}const gC={asc:"ASCENDING",desc:"DESCENDING"},pC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yC={and:"AND",or:"OR"};class _C{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function wm(r,t){return r.useProto3Json||Eh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function vC(r,t){return ih(r,t.toTimestamp())}function pi(r){return qt(!!r,49232),Et.fromTimestamp((function(n){const s=Hr(n);return new te(s.seconds,s.nanos)})(r))}function lg(r,t){return Rm(r,t).canonicalString()}function Rm(r,t){const n=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function IE(r){const t=Jt.fromString(r);return qt(OE(t),10190,{key:t.toString()}),t}function Im(r,t){return lg(r.databaseId,t.path)}function nm(r,t){const n=IE(t);if(n.get(1)!==r.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ft(DE(n))}function CE(r,t){return lg(r.databaseId,t)}function TC(r){const t=IE(r);return t.length===4?Jt.emptyPath():DE(t)}function Cm(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function uT(r,t,n){return{name:Im(r,t),fields:n.value.mapValue.fields}}function EC(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(qt(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(y){const E=y.code===void 0?Y.UNKNOWN:bE(y.code);return new at(E,y.message||"")})(f);n=new wE(s,o,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=nm(r,s.document.name),c=pi(s.document.updateTime),f=s.document.createTime?pi(s.document.createTime):Et.min(),g=new ln({mapValue:{fields:s.document.fields}}),p=Ze.newFoundDocument(o,c,f,g),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Bc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=nm(r,s.document),c=s.readTime?pi(s.readTime):Et.min(),f=Ze.newNoDocument(o,c),g=s.removedTargetIds||[];n=new Bc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=nm(r,s.document),c=s.removedTargetIds||[];n=new Bc([],c,o,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new cC(o,c),g=s.targetId;n=new SE(g,f)}}return n}function AC(r,t){let n;if(t instanceof Wl)n={update:uT(r,t.key,t.value)};else if(t instanceof AE)n={delete:Im(r,t.key)};else if(t instanceof $r)n={update:uT(r,t.key,t.data),updateMask:xC(t.fieldMask)};else{if(!(t instanceof oC))return pt(16599,{Vt:t.type});n={verify:Im(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(c,f){const g=f.transform;if(g instanceof Fl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Gl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:vC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),n}function bC(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((n=>(function(o,c){let f=o.updateTime?pi(o.updateTime):pi(c);return f.isEqual(Et.min())&&(f=pi(c)),new rC(f,o.transformResults||[])})(n,t)))):[]}function SC(r,t){return{documents:[CE(r,t.path)]}}function wC(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=CE(r,o);const c=(function(y){if(y.length!==0)return xE(Yn.create(y,"and"))})(t.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:Fa(R.field),direction:CC(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=wm(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function RC(r){let t=TC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];n.where&&(c=(function(w){const R=NE(w);return R instanceof Yn&&sE(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((R=>(function(Z){return new Hl(Ga(Z.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(R)))})(n.orderBy));let g=null;n.limit&&(g=(function(w){let R;return R=typeof w=="object"?w.value:w,Eh(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(w){const R=!!w.before,F=w.values||[];return new th(F,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const R=!w.before,F=w.values||[];return new th(F,R)})(n.endAt)),FI(t,o,f,c,g,"F",p,y)}function IC(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function NE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ga(n.unaryFilter.field);return Ee.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ga(n.unaryFilter.field);return Ee.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(n.unaryFilter.field);return Ee.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ga(n.unaryFilter.field);return Ee.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ee.create(Ga(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Yn.create(n.compositeFilter.filters.map((s=>NE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(n.compositeFilter.op))})(r):pt(30097,{filter:r})}function CC(r){return gC[r]}function DC(r){return pC[r]}function NC(r){return yC[r]}function Fa(r){return{fieldPath:r.canonicalString()}}function Ga(r){return He.fromServerFormat(r.fieldPath)}function xE(r){return r instanceof Ee?(function(n){if(n.op==="=="){if($v(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NAN"}};if(Xv(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($v(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NAN"}};if(Xv(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(n.field),op:DC(n.op),value:n.value}}})(r):r instanceof Yn?(function(n){const s=n.getFilters().map((o=>xE(o)));return s.length===1?s[0]:{compositeFilter:{op:NC(n.op),filters:s}}})(r):pt(54877,{filter:r})}function xC(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function OE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n,s,o,c=Et.min(),f=Et.min(),g=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.yt=t}}function MC(r){const t=RC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?eh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.Cn=new kC}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(qr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(qr.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class kC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ce(Jt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(ME,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="LruGarbageCollector",PC=1048576;function fT([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class UC{constructor(t){this.Ir=t,this.buffer=new Ce(fT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();fT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(hT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uo(n)?lt(hT,"Ignoring IndexedDB error during garbage collection: ",n):await lo(n)}await this.Vr(3e5)}))}}class zC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Th.ce);const s=new UC(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(cT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cT):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,c,f,g,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(s=w,g=Date.now(),this.removeTargets(t,s,n)))).next((w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((w=>(y=Date.now(),qa()<=Nt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function jC(r,t){return new zC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.changes=new Ys((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Ml(s.mutation,o,Tn.empty(),te.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ot()){const o=Us();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((c=>{let f=wl();return c.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Us();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ot())))}populateOverlays(t,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(t,n,s,o){let c=nr();const f=Ol(),g=(function(){return Ol()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof $r)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ml(E.mutation,y,E.mutation.getFieldMask(),te.now())):f.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>g.set(y,new qC(E,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,n){const s=Ol();let o=new se(((f,g)=>f-g)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Tn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const w=(o.get(g.batchId)||Ot()).add(p);o=o.insert(g.batchId,w)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,w=mE();E.forEach((R=>{if(!c.has(R)){const F=TE(n.get(R),s.get(R));F!==null&&w.set(R,F),c=c.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,w))}return $.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return ft.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):uE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):$.resolve(Us());let g=zl,p=c;return f.next((y=>$.forEach(y,((E,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,p,y,Ot()))).next((E=>({batchId:g,changes:dE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next((s=>{let o=wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let f=wl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(p=>{const y=(function(w,R){return new co(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((w,R)=>{f=f.insert(w,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o)))).next((f=>{c.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ze.newInvalidDocument(E)))}));let g=wl();return f.forEach(((p,y)=>{const E=c.get(p);E!==void 0&&Ml(E.mutation,y,Tn.empty(),te.now()),Sh(n,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:pi(o.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:MC(o.bundledQuery),readTime:pi(o.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.overlays=new se(ft.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Us();return $.forEach(n,(o=>this.getOverlay(t,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,c)=>{this.St(t,n,c)})),$.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const o=Us(),c=n.length+1,f=new ft(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new se(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Us(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Us(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return $.resolve(g)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new uC(n,s));let c=this.qr.get(n);c===void 0&&(c=Ot(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.Qr=new Ce(ke.$r),this.Ur=new Ce(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ke(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new ft(new Jt([])),s=new ke(n,t),o=new ke(n,t+1),c=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ft(new Jt([])),s=new ke(n,t),o=new ke(n,t+1);let c=Ot();return this.Ur.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(t){const n=new ke(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ft.comparator(t.key,n.key)||xt(t.Yr,n.Yr)}static Kr(t,n){return xt(t.Yr,n.Yr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(ke.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new lC(c,n,s,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new ke(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Jm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(f=>{const g=this.Xr(f.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(xt);return n.forEach((o=>{const c=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;ft.isDocumentKey(c)||(c=c.child(""));const f=new ke(new ft(c),0);let g=new Ce(xt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)}),f),$.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(o=>{const c=new ke(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ke(n,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.ri=t,this.docs=(function(){return new se(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let s=nr();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))})),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=nr();const f=n.path,g=new ft(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||AI(EI(E),s)<=0||(o.has(E.key)||Sh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,n,s,o){pt(9500)}ii(t,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new XC(this)}getSize(t){return $.resolve(this.size)}}class XC extends BC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t){this.persistence=t,this.si=new Ys((n=>ng(n)),ig),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new io(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(t,f))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,n){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new QC,this.referenceDelegate=t(this),this.Pi=new $C(this),this.indexManager=new VC,this.remoteDocumentCache=(function(o){return new YC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new OC(n),this.Ii=new FC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new GC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new KC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new ZC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class ZC extends SI{constructor(t){super(),this.currentSequenceNumber=t}}class cg{constructor(t){this.persistence=t,this.Ri=new ug,this.Vi=null}static mi(t){return new cg(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const o=ft.fromPath(s);return this.gi(t,o).next((c=>{c||n.removeEntry(o,Et.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class rh{constructor(t,n){this.persistence=t,this.pi=new Ys((s=>II(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=jC(this,n)}static mi(t,n){return new rh(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((s,o)=>this.br(t,s,o).next((c=>c?$.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((g=>{g||(s++,c.removeEntry(f,Et.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Lc(t.data.value)),n}br(t,n,s){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ot(),o=Ot();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jS()?8:wI(We())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.ys(t,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(t,n,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new WC;return this.Ss(t,n,f).next((g=>{if(c.result=g,this.Vs)return this.bs(t,n,f,g.size)}))})).next((()=>c.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(qa()<=Nt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(qa()<=Nt.DEBUG&&lt("QueryEngine","Query:",Ha(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(qa()<=Nt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(n))):$.resolve())}ys(t,n){if(tT(n))return $.resolve(null);let s=gi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=eh(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const f=Ot(...c);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(t,eh(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ws(t,n,s,o){return tT(n)||o.isEqual(Et.min())?$.resolve(null):this.ps.getDocuments(t,s).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,s,o)?$.resolve(null):(qa()<=Nt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(n)),this.vs(t,f,n,TI(o,zl)).next((g=>g)))}))}Ds(t,n){let s=new Ce(hE(t));return n.forEach(((o,c)=>{Sh(t,c)&&(s=s.add(c))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,n,s){return qa()<=Nt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.ps.getDocumentsMatchingQuery(t,n,qr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LocalStore",t2=3e8;class e2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new se(xt),this.xs=new Ys((c=>ng(c)),ig),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function n2(r,t,n,s){return new e2(r,t,n,s)}async function kE(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],g=[];let p=Ot();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function i2(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,E){const w=y.batch,R=w.keys();let F=$.resolve();return R.forEach((Z=>{F=F.next((()=>E.getEntry(p,Z))).next((W=>{const H=y.docVersions.get(Z);qt(H!==null,48541),W.version.compareTo(H)<0&&(w.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(p,w)))})(n,s,t,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Ot();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function PE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function r2(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];t.targetChanges.forEach(((E,w)=>{const R=o.get(w);if(!R)return;g.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,w))));let F=R.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?F=F.withResumeToken(Fe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,s)),o=o.insert(w,F),(function(W,H,tt){return W.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=t2?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(R,F,E)&&g.push(n.Pi.updateTargetData(c,F))}));let p=nr(),y=Ot();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(s2(c,f,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Et.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((w=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return $.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function s2(r,t,n){let s=Ot(),o=Ot();return n.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let f=nr();return n.forEach(((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):lt(fg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function a2(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function o2(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((c=>c?(o=c,$.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Pr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Dm(r,t,n){const s=At(r),o=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!uo(f))throw f;lt(fg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function dT(r,t,n){const s=At(r);let o=Et.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const w=At(p),R=w.xs.get(E);return R!==void 0?$.resolve(w.Ms.get(R)):w.Pi.getTargetData(y,E)})(s,f,gi(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Et.min(),n?c:Ot()))).next((g=>(l2(s,QI(t),g),{documents:g,Qs:c})))))}function l2(r,t,n){let s=r.Os.get(t)||Et.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class mT{constructor(){this.activeTargetIds=WI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class u2{constructor(){this.Mo=new mT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="ConnectivityMonitor";class pT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(gT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(gT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function Nm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",h2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,c){const f=Nm(),g=this.zo(t,n.toUriEncodedString());lt(im,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(g),E=Qs(y);return this.Jo(t,g,p,s,E).then((w=>(lt(im,`Received RPC '${t}' ${f}: `,w),w)),(w=>{throw Ja(im,`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",s),w}))}Ho(t,n,s,o,c,f){return this.Go(t,n,s,o,c)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>t[c]=o)),s&&s.headers.forEach(((o,c)=>t[c]=o))}zo(t,n){const s=h2[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class m2 extends f2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,c){const f=Nm();return new Promise(((g,p)=>{const y=new L0;y.setWithCredentials(!0),y.listenOnce(z0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const w=y.getResponseJson();lt(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),g(w);break;case Uc.TIMEOUT:lt(Ye,`RPC '${t}' ${f} timed out`),p(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const R=y.getStatus();if(lt(Ye,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const W=(function(tt){const st=tt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(st)>=0?st:Y.UNKNOWN})(Z.status);p(new at(W,Z.message))}else p(new at(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new at(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(Ye,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);lt(Ye,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=q0(),g=B0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=c.join("");lt(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.I_(w);let R=!1,F=!1;const Z=new d2({Yo:H=>{F?lt(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(R||(lt(Ye,`Opening RPC '${t}' stream ${o} transport.`),w.open(),R=!0),lt(Ye,`RPC '${t}' stream ${o} sending:`,H),w.send(H))},Zo:()=>w.close()}),W=(H,tt,st)=>{H.listen(tt,(ot=>{try{st(ot)}catch(bt){setTimeout((()=>{throw bt}),0)}}))};return W(w,Sl.EventType.OPEN,(()=>{F||(lt(Ye,`RPC '${t}' stream ${o} transport opened.`),Z.o_())})),W(w,Sl.EventType.CLOSE,(()=>{F||(F=!0,lt(Ye,`RPC '${t}' stream ${o} transport closed`),Z.a_(),this.E_(w))})),W(w,Sl.EventType.ERROR,(H=>{F||(F=!0,Ja(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Z.a_(new at(Y.UNAVAILABLE,"The operation could not be completed")))})),W(w,Sl.EventType.MESSAGE,(H=>{if(!F){const tt=H.data[0];qt(!!tt,16349);const st=tt,ot=st?.error||st[0]?.error;if(ot){lt(Ye,`RPC '${t}' stream ${o} received error:`,ot);const bt=ot.status;let Tt=(function(b){const C=Te[b];if(C!==void 0)return bE(C)})(bt),jt=ot.message;Tt===void 0&&(Tt=Y.INTERNAL,jt="Unknown error status: "+bt+" with message "+ot.message),F=!0,Z.a_(new at(Tt,jt)),w.close()}else lt(Ye,`RPC '${t}' stream ${o} received:`,tt),Z.u_(tt)}})),W(g,j0.STAT_EVENT,(H=>{H.stat===_m.PROXY?lt(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===_m.NOPROXY&&lt(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(r){return new _C(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="PersistentStream";class LE{constructor(t,n,s,o,c,f,g,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new at(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(yT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(lt(yT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class g2 extends LE{constructor(t,n,s,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=EC(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Et.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?pi(f.readTime):Et.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Cm(this.serializer),n.addTarget=(function(c,f){let g;const p=f.target;if(g=bm(p)?{documents:SC(c,p)}:{query:wC(c,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=RE(c,f.resumeToken);const y=wm(c,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Et.min())>0){g.readTime=ih(c,f.snapshotVersion.toTimestamp());const y=wm(c,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const s=IC(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Cm(this.serializer),n.removeTarget=t,this.q_(n)}}class p2 extends LE{constructor(t,n,s,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=bC(t.writeResults,t.commitTime),s=pi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Cm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>AC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{}class _2 extends y2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(t,Rm(n,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Y.UNKNOWN,c.toString())}))}Ho(t,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,Rm(n,s),o,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(Y.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class v2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class T2{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Xs(this)&&(lt(Hs,"Restarting streams for network reachability change."),await(async function(p){const y=At(p);y.Ea.add(4),await tu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Dh(y)})(this))}))})),this.Ra=new v2(s,o)}}async function Dh(r){if(Xs(r))for(const t of r.da)await t(!0)}async function tu(r){for(const t of r.da)await t(!1)}function zE(r,t){const n=At(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),pg(n)?gg(n):ho(n).O_()&&mg(n,t))}function dg(r,t){const n=At(r),s=ho(n);n.Ia.delete(t),s.O_()&&jE(n,t),n.Ia.size===0&&(s.O_()?s.L_():Xs(n)&&n.Ra.set("Unknown"))}function mg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ho(r).Y_(t)}function jE(r,t){r.Va.Ue(t),ho(r).Z_(t)}function gg(r){r.Va=new mC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.Ra.ua()}function pg(r){return Xs(r)&&!ho(r).x_()&&r.Ia.size>0}function Xs(r){return At(r).Ea.size===0}function BE(r){r.Va=void 0}async function E2(r){r.Ra.set("Online")}async function A2(r){r.Ia.forEach(((t,n)=>{mg(r,t)}))}async function b2(r,t){BE(r),pg(r)?(r.Ra.ha(t),gg(r)):r.Ra.set("Unknown")}async function S2(r,t,n){if(r.Ra.set("Online"),t instanceof wE&&t.state===2&&t.cause)try{await(async function(o,c){const f=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(s){lt(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await sh(r,s)}else if(t instanceof Bc?r.Va.Ze(t):t instanceof SE?r.Va.st(t):r.Va.tt(t),!n.isEqual(Et.min()))try{const s=await PE(r.localStore);n.compareTo(s)>=0&&await(function(c,f){const g=c.Va.Tt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),jE(c,p);const w=new Pr(E.target,p,y,E.sequenceNumber);mg(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){lt(Hs,"Failed to raise snapshot:",s),await sh(r,s)}}async function sh(r,t,n){if(!uo(t))throw t;r.Ea.add(1),await tu(r),r.Ra.set("Offline"),n||(n=()=>PE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(Hs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Dh(r)}))}function qE(r,t){return t().catch((n=>sh(r,n,t)))}async function Nh(r){const t=At(r),n=Qr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Jm;for(;w2(t);)try{const o=await a2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,R2(t,o)}catch(o){await sh(t,o)}HE(t)&&FE(t)}function w2(r){return Xs(r)&&r.Ta.length<10}function R2(r,t){r.Ta.push(t);const n=Qr(r);n.O_()&&n.X_&&n.ea(t.mutations)}function HE(r){return Xs(r)&&!Qr(r).x_()&&r.Ta.length>0}function FE(r){Qr(r).start()}async function I2(r){Qr(r).ra()}async function C2(r){const t=Qr(r);for(const n of r.Ta)t.ea(n.mutations)}async function D2(r,t,n){const s=r.Ta.shift(),o=ag.from(s,t,n);await qE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Nh(r)}async function N2(r,t){t&&Qr(r).X_&&await(async function(s,o){if((function(f){return hC(f)&&f!==Y.ABORTED})(o.code)){const c=s.Ta.shift();Qr(s).B_(),await qE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Nh(s)}})(r,t),HE(r)&&FE(r)}async function _T(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),lt(Hs,"RemoteStore received new credentials");const s=Xs(n);n.Ea.add(3),await tu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Dh(n)}async function x2(r,t){const n=At(r);t?(n.Ea.delete(2),await Dh(n)):t||(n.Ea.add(2),await tu(n),n.Ra.set("Unknown"))}function ho(r){return r.ma||(r.ma=(function(n,s,o){const c=At(n);return c.sa(),new g2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:E2.bind(null,r),t_:A2.bind(null,r),r_:b2.bind(null,r),H_:S2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),pg(r)?gg(r):r.Ra.set("Unknown")):(await r.ma.stop(),BE(r))}))),r.ma}function Qr(r){return r.fa||(r.fa=(function(n,s,o){const c=At(n);return c.sa(),new p2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:I2.bind(null,r),r_:N2.bind(null,r),ta:C2.bind(null,r),na:D2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Nh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Hs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const f=Date.now()+s,g=new yg(t,n,f,o,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(r,t){if(er("AsyncQueue",`${t}: ${r}`),uo(r))return new at(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ft.comparator(n.key,s.key):(n,s)=>ft.comparator(n.key,s.key),this.keyedMap=wl(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.ga=new se(ft.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ro{constructor(t,n,s,o,c,f,g,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new ro(t,n,Xa.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class M2{constructor(){this.queries=TT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),c=o.queries;o.queries=TT(),c.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function TT(){return new Ys((r=>cE(r)),bh)}async function GE(r,t){const n=At(r);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.ba()&&t.Da()&&(s=2):(c=new O2,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=_g(f,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(g)}n.queries.set(o,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&vg(n)}async function QE(r,t){const n=At(r),s=t.query;let o=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function V2(r,t){const n=At(r);let s=!1;for(const o of t){const c=o.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Fa(o)&&(s=!0);f.wa=o}}s&&vg(n)}function k2(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(t)}function vg(r){r.Ca.forEach((t=>{t.next()}))}var xm,ET;(ET=xm||(xm={})).Ma="default",ET.Cache="cache";class KE{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ro(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t){this.key=t}}class XE{constructor(t){this.key=t}}class P2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=hE(t),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new vT,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,w)=>{const R=o.get(E),F=Sh(this.query,w)?w:null,Z=!!R&&this.mutatedKeys.has(R.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let H=!1;R&&F?R.data.isEqual(F.data)?Z!==W&&(s.track({type:3,doc:F}),H=!0):this.su(R,F)||(s.track({type:2,doc:F}),H=!0,(p&&this.eu(F,p)>0||y&&this.eu(F,y)<0)&&(g=!0)):!R&&F?(s.track({type:0,doc:F}),H=!0):R&&!F&&(s.track({type:1,doc:R}),H=!0,(p||y)&&(g=!0)),H&&(F?(f=f.add(F),c=W?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:g,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,w)=>(function(F,Z){const W=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:H})}};return W(F)-W(Z)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new ro(this.query,t.tu,c,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new XE(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new YE(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ot();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tg="SyncEngine";class U2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class L2{constructor(t){this.key=t,this.hu=!1}}class z2{constructor(t,n,s,o,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ys((g=>cE(g)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new se(ft.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j2(r,t,n=!0){const s=eA(r);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await $E(s,t,n,!0),o}async function B2(r,t){const n=eA(r);await $E(n,t,!0,!1)}async function $E(r,t,n,s){const o=await o2(r.localStore,gi(t)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await q2(r,t,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&zE(r.remoteStore,o),g}async function q2(r,t,n,s,o){r.pu=(w,R,F)=>(async function(W,H,tt,st){let ot=H.view.ru(tt);ot.Cs&&(ot=await dT(W.localStore,H.query,!1).then((({documents:V})=>H.view.ru(V,ot))));const bt=st&&st.targetChanges.get(H.targetId),Tt=st&&st.targetMismatches.get(H.targetId)!=null,jt=H.view.applyChanges(ot,W.isPrimaryClient,bt,Tt);return bT(W,H.targetId,jt.au),jt.snapshot})(r,w,R,F);const c=await dT(r.localStore,t,!0),f=new P2(t,c.Qs),g=f.ru(c.documents),p=Jl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(g,r.isPrimaryClient,p);bT(r,n,y.au);const E=new U2(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function H2(r,t,n){const s=At(r),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!bh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dg(s.remoteStore,o.targetId),Om(s,o.targetId)})).catch(lo)):(Om(s,o.targetId),await Dm(s.localStore,o.targetId,!0))}async function F2(r,t){const n=At(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dg(n.remoteStore,s.targetId))}async function G2(r,t,n){const s=W2(r);try{const o=await(function(f,g){const p=At(f),y=te.now(),E=g.reduce(((F,Z)=>F.add(Z.key)),Ot());let w,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=nr(),W=Ot();return p.Ns.getEntries(F,E).next((H=>{Z=H,Z.forEach(((tt,st)=>{st.isValidDocument()||(W=W.add(tt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(F,Z))).next((H=>{w=H;const tt=[];for(const st of g){const ot=aC(st,w.get(st.key).overlayedDocument);ot!=null&&tt.push(new $r(st.key,ot,nE(ot.value.mapValue),Qn.exists(!0)))}return p.mutationQueue.addMutationBatch(F,y,tt,g)})).next((H=>{R=H;const tt=H.applyToLocalDocumentSet(w,W);return p.documentOverlayCache.saveOverlays(F,H.batchId,tt)}))})).then((()=>({batchId:R.batchId,changes:dE(w)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new se(xt)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await eu(s,o.changes),await Nh(s.remoteStore)}catch(o){const c=_g(o,"Failed to persist write");n.reject(c)}}async function ZE(r,t){const n=At(r);try{const s=await r2(n.localStore,t);t.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qt(f.hu,14607):o.removedDocuments.size>0&&(qt(f.hu,42227),f.hu=!1))})),await eu(n,s,t)}catch(s){await lo(s)}}function AT(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,f)=>{const g=f.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const p=At(f);p.onlineState=g;let y=!1;p.queries.forEach(((E,w)=>{for(const R of w.Sa)R.va(g)&&(y=!0)})),y&&vg(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Q2(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),c=o&&o.key;if(c){let f=new se(ft.comparator);f=f.insert(c,Ze.newNoDocument(c,Et.min()));const g=Ot().add(c),p=new Ih(Et.min(),new Map,new se(xt),f,g);await ZE(s,p),s.du=s.du.remove(c),s.Au.delete(t),Eg(s)}else await Dm(s.localStore,t,!1).then((()=>Om(s,t,n))).catch(lo)}async function K2(r,t){const n=At(r),s=t.batch.batchId;try{const o=await i2(n.localStore,t);JE(n,s,null),WE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await eu(n,o)}catch(o){await lo(o)}}async function Y2(r,t,n){const s=At(r);try{const o=await(function(f,g){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next((w=>(qt(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);JE(s,t,n),WE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await eu(s,o)}catch(o){await lo(o)}}function WE(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function JE(r,t,n){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Om(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||tA(r,s)}))}function tA(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(dg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Eg(r))}function bT(r,t,n){for(const s of n)s instanceof YE?(r.Ru.addReference(s.key,t),X2(r,s)):s instanceof XE?(lt(Tg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||tA(r,s.key)):pt(19791,{wu:s})}function X2(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(lt(Tg,"New document in limbo: "+n),r.Eu.add(s),Eg(r))}function Eg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ft(Jt.fromString(t)),s=r.fu.next();r.Au.set(s,new L2(n)),r.du=r.du.insert(n,s),zE(r.remoteStore,new Pr(gi(rg(n.path)),s,"TargetPurposeLimboResolution",Th.ce))}}async function eu(r,t,n){const s=At(r),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=hg.As(p.targetId,y);c.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(R=>$.forEach(R.Es,(F=>E.persistence.referenceDelegate.addReference(w,R.targetId,F))).next((()=>$.forEach(R.ds,(F=>E.persistence.referenceDelegate.removeReference(w,R.targetId,F)))))))))}catch(w){if(!uo(w))throw w;lt(fg,"Failed to update sequence numbers: "+w)}for(const w of y){const R=w.targetId;if(!w.fromCache){const F=E.Ms.get(R),Z=F.snapshotVersion,W=F.withLastLimboFreeSnapshotVersion(Z);E.Ms=E.Ms.insert(R,W)}}})(s.localStore,c))}async function $2(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){lt(Tg,"User change. New user:",t.toKey());const s=await kE(n.localStore,t);n.currentUser=t,(function(c,f){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new at(Y.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await eu(n,s.Ls)}}function Z2(r,t){const n=At(r),s=n.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let o=Ot();const c=n.Iu.get(t);if(!c)return o;for(const f of c){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function eA(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Q2.bind(null,t),t.Pu.H_=V2.bind(null,t.eventManager),t.Pu.yu=k2.bind(null,t.eventManager),t}function W2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Y2.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return n2(this.persistence,new JC,t.initialUser,this.serializer)}Cu(t){return new VE(cg.mi,this.serializer)}Du(t){return new u2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class J2 extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){qt(this.persistence.referenceDelegate instanceof rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new LC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new VE((s=>rh.mi(s,n)),this.serializer)}}class Mm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>AT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$2.bind(null,this.syncEngine),await x2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new M2})()}createDatastore(t){const n=Ch(t.databaseInfo.databaseId),s=(function(c){return new m2(c)})(t.databaseInfo);return(function(c,f,g,p){return new _2(c,f,g,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,c,f,g){return new T2(s,o,c,f,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>AT(this.syncEngine,n,0)),(function(){return pT.v()?new pT:new c2})())}createSyncEngine(t,n){return(function(o,c,f,g,p,y,E){const w=new z2(o,c,f,g,p,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);lt(Hs,"RemoteStore shutting down."),s.Ea.add(5),await tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="FirestoreClient";class tD{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{lt(Kr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(lt(Kr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=_g(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function sm(r,t){r.asyncQueue.verifyOperationInProgress(),lt(Kr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await kE(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function ST(r,t){r.asyncQueue.verifyOperationInProgress();const n=await eD(r);lt(Kr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>_T(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>_T(t.remoteStore,o))),r._onlineComponents=t}async function eD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Kr,"Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ja("Error using user provided cache. Falling back to memory cache: "+n),await sm(r,new ah)}}else lt(Kr,"Using default OfflineComponentProvider"),await sm(r,new J2(void 0));return r._offlineComponents}async function iA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Kr,"Using user provided OnlineComponentProvider"),await ST(r,r._uninitializedComponentsProvider._online)):(lt(Kr,"Using default OnlineComponentProvider"),await ST(r,new Mm))),r._onlineComponents}function nD(r){return iA(r).then((t=>t.syncEngine))}async function rA(r){const t=await iA(r),n=t.eventManager;return n.onListen=j2.bind(null,t.syncEngine),n.onUnlisten=H2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=B2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=F2.bind(null,t.syncEngine),n}function iD(r,t,n={}){const s=new Wi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,p,y){const E=new nA({next:R=>{E.Nu(),f.enqueueAndForget((()=>QE(c,w)));const F=R.docs.has(g);!F&&R.fromCache?y.reject(new at(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&R.fromCache&&p&&p.source==="server"?y.reject(new at(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),w=new KE(rg(g.path),E,{includeMetadataChanges:!0,qa:!0});return GE(c,w)})(await rA(r),r.asyncQueue,t,n,s))),s.promise}function rD(r,t,n={}){const s=new Wi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,p,y){const E=new nA({next:R=>{E.Nu(),f.enqueueAndForget((()=>QE(c,w))),R.fromCache&&p.source==="server"?y.reject(new at(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),w=new KE(g,E,{includeMetadataChanges:!0,qa:!0});return GE(c,w)})(await rA(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firestore.googleapis.com",RT=!0;class IT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aA,this.ssl=RT}else this.host=t.host,this.ssl=t.ssl??RT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PC)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sA(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uI;switch(s.type){case"firstParty":return new dI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=wT.get(n);s&&(lt("ComponentProvider","Removing Datastore"),wT.delete(n),s.terminate())})(this),Promise.resolve()}}function sD(r,t,n,s={}){r=Ti(r,xh);const o=Qs(t),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${n}`;o&&(Lm(`https://${g}`),zm("Firestore",!0)),c.host!==aA&&c.host!==g&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:o,emulatorOptions:s};if(!Br(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$e.MOCK_USER;else{y=OS(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(w)}r._authCredentials=new cI(new F0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Zr(this.firestore,t,this._query)}}class me{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new me(this.firestore,t,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Zl(n,me._jsonSchema))return new me(t,s||null,new ft(Jt.fromString(n.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:Ae("string",me._jsonSchemaVersion),referencePath:Ae("string")};class jr extends Zr{constructor(t,n,s){super(t,n,rg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new me(this.firestore,null,new ft(t))}withConverter(t){return new jr(this.firestore,t,this._path)}}function Vl(r,t,...n){if(r=ge(r),G0("collection","path",t),r instanceof xh){const s=Jt.fromString(t,...n);return jv(s),new jr(r,null,s)}{if(!(r instanceof me||r instanceof jr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return jv(s),new jr(r.firestore,null,s)}}function kl(r,t,...n){if(r=ge(r),arguments.length===1&&(t=Wm.newId()),G0("doc","path",t),r instanceof xh){const s=Jt.fromString(t,...n);return zv(s),new me(r,null,new ft(s))}{if(!(r instanceof me||r instanceof jr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return zv(s),new me(r.firestore,r instanceof jr?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="AsyncQueue";class DT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UE(this,"async_queue_retry"),this._c=()=>{const s=rm();s&&lt(CT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;lt(CT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",NT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=yg.createAndSchedule(this,t,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:NT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function NT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class fo extends xh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new DT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new DT(t),this._firestoreClient=void 0,await t}}}function aD(r,t){const n=typeof r=="object"?r:gh(),s=typeof r=="string"?r:Wc,o=Yr(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=XT("firestore");c&&sD(o,...c)}return o}function Ag(r){if(r._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||oD(r),r._firestoreClient}function oD(r){const t=r._freezeSettings(),n=(function(o,c,f,g){return new NI(o,c,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,sA(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new tD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Fe.fromBase64String(t))}catch(n){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Pn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ae("string",Pn._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,yi._jsonSchema))return new yi(t.latitude,t.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:Ae("string",yi._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,_i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new _i(t.vectorValues);throw new at(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Ae("string",_i._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=/^__.*__$/;class uD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new $r(t,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(t,this.data,n,this.fieldTransforms)}}class oA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new $r(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function lA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class bg{constructor(t,n,s,o,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(lA(this.Ac)&&lD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class cD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ch(t)}Cc(t,n,s,o=!1){return new bg({Ac:t,methodName:n,Dc:s,path:He.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(r){const t=r._freezeSettings(),n=Ch(r._databaseId);return new cD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function uA(r,t,n,s,o,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,t,n,o);wg("Data must be an object, but it was:",f,s);const g=cA(s,f);let p,y;if(c.merge)p=new Tn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const R=Vm(t,w,n);if(!f.contains(R))throw new at(Y.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);fA(E,R)||E.push(R)}p=new Tn(E),y=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,y=f.fieldTransforms;return new uD(new ln(g),p,y)}class kh extends Mh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kh}}class Sg extends Mh{_toFieldTransform(t){return new nC(t.path,new Fl)}isEqual(t){return t instanceof Sg}}function hD(r,t,n,s){const o=r.Cc(1,t,n);wg("Data must be an object, but it was:",o,s);const c=[],f=ln.empty();Xr(s,((p,y)=>{const E=Rg(t,p,n);y=ge(y);const w=o.yc(E);if(y instanceof kh)c.push(E);else{const R=nu(y,w);R!=null&&(c.push(E),f.set(E,R))}}));const g=new Tn(c);return new oA(f,g,o.fieldTransforms)}function fD(r,t,n,s,o,c){const f=r.Cc(1,t,n),g=[Vm(t,s,n)],p=[o];if(c.length%2!=0)throw new at(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)g.push(Vm(t,c[R])),p.push(c[R+1]);const y=[],E=ln.empty();for(let R=g.length-1;R>=0;--R)if(!fA(y,g[R])){const F=g[R];let Z=p[R];Z=ge(Z);const W=f.yc(F);if(Z instanceof kh)y.push(F);else{const H=nu(Z,W);H!=null&&(y.push(F),E.set(F,H))}}const w=new Tn(y);return new oA(E,w,f.fieldTransforms)}function dD(r,t,n,s=!1){return nu(n,r.Cc(s?4:3,t))}function nu(r,t){if(hA(r=ge(r)))return wg("Unsupported field value:",t,r),cA(r,t);if(r instanceof Mh)return(function(s,o){if(!lA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const g of s){let p=nu(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(r,t)}return(function(s,o){if((s=ge(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=te.fromDate(s);return{timestampValue:ih(o.serializer,c)}}if(s instanceof te){const c=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(s instanceof yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:RE(o.serializer,s._byteString)};if(s instanceof me){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _i)return(function(f,g){return{mapValue:{fields:{[tE]:{stringValue:eE},[Jc]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return sg(g.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${vh(s)}`)})(r,t)}function cA(r,t){const n={};return Y0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xr(r,((s,o)=>{const c=nu(o,t.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function hA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof yi||r instanceof Pn||r instanceof me||r instanceof Mh||r instanceof _i)}function wg(r,t,n){if(!hA(n)||!Q0(n)){const s=vh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Vm(r,t,n){if((t=ge(t))instanceof Oh)return t._internalPath;if(typeof t=="string")return Rg(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const mD=new RegExp("[~\\*/\\[\\]]");function Rg(r,t,n){if(t.search(mD)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Oh(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function oh(r,t,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new at(Y.INVALID_ARGUMENT,g+r+p)}function fA(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ph("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gD extends dA{data(){return super.data()}}function Ph(r,t){return typeof t=="string"?Rg(r,t):t instanceof Oh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class Cg extends Ig{}function lh(r,t,...n){let s=[];t instanceof Ig&&s.push(t),s=s.concat(n),(function(c){const f=c.filter((p=>p instanceof Dg)).length,g=c.filter((p=>p instanceof Uh)).length;if(f>1||f>0&&g>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Uh extends Cg{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Uh(t,n,s)}_apply(t){const n=this._parse(t);return mA(t._query,n),new Zr(t.firestore,t.converter,Sm(t._query,n))}_parse(t){const n=Vh(t.firestore);return(function(c,f,g,p,y,E,w){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){MT(w,E);const Z=[];for(const W of w)Z.push(OT(p,c,W));R={arrayValue:{values:Z}}}else R=OT(p,c,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||MT(w,E),R=dD(g,f,w,E==="in"||E==="not-in");return Ee.create(y,E,R)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function uh(r,t,n){const s=t,o=Ph("where",r);return Uh._create(o,s,n)}class Dg extends Ig{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Dg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,c){let f=o;const g=c.getFlattenedFilters();for(const p of g)mA(f,p),f=Sm(f,p)})(t._query,n),new Zr(t.firestore,t.converter,Sm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ng extends Cg{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ng(t,n)}_apply(t){const n=(function(o,c,f){if(o.startAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(c,f)})(t._query,this._field,this._direction);return new Zr(t.firestore,t.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new co(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function xT(r,t="asc"){const n=t,s=Ph("orderBy",r);return Ng._create(s,n)}class xg extends Cg{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new xg(t,n,s)}_apply(t){return new Zr(t.firestore,t.converter,eh(t._query,this._limit,this._limitType))}}function yD(r){return xg._create("limit",r,"F")}function OT(r,t,n){if(typeof(n=ge(n))=="string"){if(n==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uE(t)&&n.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Jt.fromString(n));if(!ft.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yv(r,new ft(s))}if(n instanceof me)return Yv(r,n._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function MT(r,t){if(!Array.isArray(r)||r.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mA(r,t){const n=(function(o,c){for(const f of o)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class _D{convertValue(t,n="none"){switch(Gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Xr(t,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(t){const n=t.fields?.[Jc].arrayValue?.values?.map((s=>de(s.doubleValue)));return new _i(n)}convertGeoPoint(t){return new yi(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ah(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const n=Hr(t);return new te(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Jt.fromString(t);qt(OE(s),9688,{name:t});const o=new Bl(s.get(1),s.get(3)),c=new ft(s.popFirst(5));return o.isEqual(n)||er(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Il{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class js extends dA{constructor(t,n,s,o,c,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ph("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:Ae("string",js._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class qc extends js{data(t={}){return super.data(t)}}class $a{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new qc(this._firestore,this._userDataWriter,s.key,s,new Il(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const p=new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Il(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Il(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:vD(g.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function vD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(r){r=Ti(r,me);const t=Ti(r.firestore,fo);return iD(Ag(t),r._key).then((n=>bD(t,r,n)))}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Ae("string",$a._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class pA extends _D{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}function ch(r){r=Ti(r,Zr);const t=Ti(r.firestore,fo),n=Ag(t),s=new pA(t);return pD(r._query),rD(n,r._query).then((o=>new $a(t,s,r,o)))}function ED(r,t,n){r=Ti(r,me);const s=Ti(r.firestore,fo),o=gA(r.converter,t);return Og(s,[uA(Vh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Qn.none())])}function yA(r,t,n,...s){r=Ti(r,me);const o=Ti(r.firestore,fo),c=Vh(o);let f;return f=typeof(t=ge(t))=="string"||t instanceof Oh?fD(c,"updateDoc",r._key,t,n,s):hD(c,"updateDoc",r._key,t),Og(o,[f.toMutation(r._key,Qn.exists(!0))])}function AD(r,t){const n=Ti(r.firestore,fo),s=kl(r),o=gA(r.converter,t);return Og(n,[uA(Vh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then((()=>s))}function Og(r,t){return(function(s,o){const c=new Wi;return s.asyncQueue.enqueueAndForget((async()=>G2(await nD(s),o,c))),c.promise})(Ag(r),t)}function bD(r,t,n){const s=n.docs.get(t._key),o=new pA(r);return new js(r,o,t._key,s,new Il(n.hasPendingWrites,n.fromCache),t.converter)}function Za(){return new Sg("serverTimestamp")}(function(t,n=!0){(function(o){oo=o})(so),Kn(new Un("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new fo(new hI(s.getProvider("auth-internal")),new mI(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(y.options.projectId,E)})(f,o),f);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),un(kv,Pv,t),un(kv,Pv,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n,s,o){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,kn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||s.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="us-central1";class wD{constructor(t,n,s,o,c=km,f=(...g)=>fetch(...g)){this.app=t,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new SD(t,n,s,o),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(c);this.customDomain=g.origin+(g.pathname==="/"?"":g.pathname),this.region=km}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function RD(r,t,n){const s=Qs(t);r.emulatorOrigin=`http${s?"s":""}://${t}:${n}`,s&&(Lm(r.emulatorOrigin+"/backends"),zm("Functions",!0))}const VT="@firebase/functions",kT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="auth-internal",CD="app-check-internal",DD="messaging-internal";function ND(r){const t=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),c=n.getProvider(ID),f=n.getProvider(DD),g=n.getProvider(CD);return new wD(o,c,f,g,s)};Kn(new Un(_A,t,"PUBLIC").setMultipleInstances(!0)),un(VT,kT,r),un(VT,kT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(r=gh(),t=km){const s=Yr(ge(r),_A).getImmediate({identifier:t}),o=XT("functions");return o&&OD(s,...o),s}function OD(r,t,n){RD(ge(r),t,n)}ND();const vA="@firebase/installations",Mg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1e4,EA=`w:${Mg}`,AA="FIS_v2",MD="https://firebaseinstallations.googleapis.com/v1",VD=3600*1e3,kD="installations",PD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fs=new Ks(kD,PD,UD);function bA(r){return r instanceof Xn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA({projectId:r}){return`${MD}/projects/${r}/installations`}function wA(r){return{token:r.token,requestStatus:2,expiresIn:zD(r.expiresIn),creationTime:Date.now()}}async function RA(r,t){const s=(await t.json()).error;return Fs.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function IA({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function LD(r,{refreshToken:t}){const n=IA(r);return n.append("Authorization",jD(t)),n}async function CA(r){const t=await r();return t.status>=500&&t.status<600?r():t}function zD(r){return Number(r.replace("s","000"))}function jD(r){return`${AA} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=SA(r),o=IA(r),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:AA,appId:r.appId,sdkVersion:EA},g={method:"POST",headers:o,body:JSON.stringify(f)},p=await CA(()=>fetch(s,g));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:wA(y.authToken)}}else throw await RA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=/^[cdef][\w-]{21}$/,Pm="";function FD(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=GD(r);return HD.test(n)?n:Pm}catch{return Pm}}function GD(r){return qD(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=new Map;function xA(r,t){const n=Lh(r);OA(n,t),QD(n,t)}function OA(r,t){const n=NA.get(r);if(n)for(const s of n)s(t)}function QD(r,t){const n=KD();n&&n.postMessage({key:r,fid:t}),YD()}let Ls=null;function KD(){return!Ls&&"BroadcastChannel"in self&&(Ls=new BroadcastChannel("[Firebase] FID Change"),Ls.onmessage=r=>{OA(r.data.key,r.data.fid)}),Ls}function YD(){NA.size===0&&Ls&&(Ls.close(),Ls=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="firebase-installations-database",$D=1,Gs="firebase-installations-store";let am=null;function Vg(){return am||(am=i0(XD,$D,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Gs)}}})),am}async function hh(r,t){const n=Lh(r),o=(await Vg()).transaction(Gs,"readwrite"),c=o.objectStore(Gs),f=await c.get(n);return await c.put(t,n),await o.done,(!f||f.fid!==t.fid)&&xA(r,t.fid),t}async function MA(r){const t=Lh(r),s=(await Vg()).transaction(Gs,"readwrite");await s.objectStore(Gs).delete(t),await s.done}async function zh(r,t){const n=Lh(r),o=(await Vg()).transaction(Gs,"readwrite"),c=o.objectStore(Gs),f=await c.get(n),g=t(f);return g===void 0?await c.delete(n):await c.put(g,n),await o.done,g&&(!f||f.fid!==g.fid)&&xA(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(r){let t;const n=await zh(r.appConfig,s=>{const o=ZD(s),c=WD(r,o);return t=c.registrationPromise,c.installationEntry});return n.fid===Pm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function ZD(r){const t=r||{fid:FD(),registrationStatus:0};return VA(t)}function WD(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Fs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=JD(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:tN(r)}:{installationEntry:t}}async function JD(r,t){try{const n=await BD(r,t);return hh(r.appConfig,n)}catch(n){throw bA(n)&&n.customData.serverCode===409?await MA(r.appConfig):await hh(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function tN(r){let t=await PT(r.appConfig);for(;t.registrationStatus===1;)await DA(100),t=await PT(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await kg(r);return s||n}return t}function PT(r){return zh(r,t=>{if(!t)throw Fs.create("installation-not-found");return VA(t)})}function VA(r){return eN(r)?{fid:r.fid,registrationStatus:0}:r}function eN(r){return r.registrationStatus===1&&r.registrationTime+TA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN({appConfig:r,heartbeatServiceProvider:t},n){const s=iN(r,n),o=LD(r,n),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:EA,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},p=await CA(()=>fetch(s,g));if(p.ok){const y=await p.json();return wA(y)}else throw await RA("Generate Auth Token",p)}function iN(r,{fid:t}){return`${SA(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pg(r,t=!1){let n;const s=await zh(r.appConfig,c=>{if(!kA(c))throw Fs.create("not-registered");const f=c.authToken;if(!t&&aN(f))return c;if(f.requestStatus===1)return n=rN(r,t),c;{if(!navigator.onLine)throw Fs.create("app-offline");const g=lN(c);return n=sN(r,g),g}});return n?await n:s.authToken}async function rN(r,t){let n=await UT(r.appConfig);for(;n.authToken.requestStatus===1;)await DA(100),n=await UT(r.appConfig);const s=n.authToken;return s.requestStatus===0?Pg(r,t):s}function UT(r){return zh(r,t=>{if(!kA(t))throw Fs.create("not-registered");const n=t.authToken;return uN(n)?{...t,authToken:{requestStatus:0}}:t})}async function sN(r,t){try{const n=await nN(r,t),s={...t,authToken:n};return await hh(r.appConfig,s),n}catch(n){if(bA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MA(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await hh(r.appConfig,s)}throw n}}function kA(r){return r!==void 0&&r.registrationStatus===2}function aN(r){return r.requestStatus===2&&!oN(r)}function oN(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+VD}function lN(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function uN(r){return r.requestStatus===1&&r.requestTime+TA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(r){const t=r,{installationEntry:n,registrationPromise:s}=await kg(t);return s?s.catch(console.error):Pg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(r,t=!1){const n=r;return await fN(n),(await Pg(n,t)).token}async function fN(r){const{registrationPromise:t}=await kg(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(r){if(!r||!r.options)throw om("App Configuration");if(!r.name)throw om("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw om(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function om(r){return Fs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="installations",mN="installations-internal",gN=r=>{const t=r.getProvider("app").getImmediate(),n=dN(t),s=Yr(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},pN=r=>{const t=r.getProvider("app").getImmediate(),n=Yr(t,PA).getImmediate();return{getId:()=>cN(n),getToken:o=>hN(n,o)}};function yN(){Kn(new Un(PA,gN,"PUBLIC")),Kn(new Un(mN,pN,"PRIVATE"))}yN();un(vA,Mg);un(vA,Mg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="analytics",_N="firebase_id",vN="origin",TN=60*1e3,EN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ug="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new mh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new Ks("analytics","Analytics",AN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r){if(!r.startsWith(Ug)){const t=En.create("invalid-gtag-resource",{gtagURL:r});return cn.warn(t.message),""}return r}function UA(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function SN(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function wN(r,t){const n=SN("firebase-js-sdk-policy",{createScriptURL:bN}),s=document.createElement("script"),o=`${Ug}?l=${r}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function RN(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function IN(r,t,n,s,o,c){const f=s[o];try{if(f)await t[f];else{const p=(await UA(n)).find(y=>y.measurementId===o);p&&await t[p.appId]}}catch(g){cn.error(g)}r("config",o,c)}async function CN(r,t,n,s,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await UA(n);for(const p of f){const y=g.find(w=>w.measurementId===p),E=y&&t[y.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),r("event",s,o||{})}catch(c){cn.error(c)}}function DN(r,t,n,s){async function o(c,...f){try{if(c==="event"){const[g,p]=f;await CN(r,t,n,g,p)}else if(c==="config"){const[g,p]=f;await IN(r,t,n,s,g,p)}else if(c==="consent"){const[g,p]=f;r("consent",g,p)}else if(c==="get"){const[g,p,y]=f;r("get",g,p,y)}else if(c==="set"){const[g]=f;r("set",g)}else r(c,...f)}catch(g){cn.error(g)}}return o}function NN(r,t,n,s,o){let c=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=DN(c,r,t,n),{gtagCore:c,wrappedGtag:window[o]}}function xN(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ug)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=30,MN=1e3;class VN{constructor(t={},n=MN){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const LA=new VN;function kN(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function PN(r){const{appId:t,apiKey:n}=r,s={method:"GET",headers:kN(n)},o=EN.replace("{app-id}",t),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let f="";try{const g=await c.json();g.error?.message&&(f=g.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function UN(r,t=LA,n){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw En.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw En.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new jN;return setTimeout(async()=>{g.abort()},TN),zA({appId:s,apiKey:o,measurementId:c},f,g,t)}async function zA(r,{throttleEndTimeMillis:t,backoffCount:n},s,o=LA){const{appId:c,measurementId:f}=r;try{await LN(s,t)}catch(g){if(f)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:f};throw g}try{const g=await PN(r);return o.deleteThrottleMetadata(c),g}catch(g){const p=g;if(!zN(p)){if(o.deleteThrottleMetadata(c),f)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:f};throw g}const y=Number(p?.customData?.httpStatus)===503?lv(n,o.intervalMillis,ON):lv(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(c,E),cn.debug(`Calling attemptFetch again in ${y} millis`),zA(r,E,s,o)}}function LN(r,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(c),s(En.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function zN(r){if(!(r instanceof Xn)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class jN{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function BN(r,t,n,s,o){if(o&&o.global){r("event",n,s);return}else{const c=await t,f={...s,send_to:c};r("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(){if(JT())try{await t0()}catch(r){return cn.warn(En.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return cn.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HN(r,t,n,s,o,c,f){const g=UN(r);g.then(R=>{n[R.measurementId]=R.appId,r.options.measurementId&&R.measurementId!==r.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>cn.error(R)),t.push(g);const p=qN().then(R=>{if(R)return s.getId()}),[y,E]=await Promise.all([g,p]);xN(c)||wN(c,y.measurementId),o("js",new Date);const w=f?.config??{};return w[vN]="firebase",w.update=!0,E!=null&&(w[_N]=E),o("config",y.measurementId,w),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t){this.app=t}_delete(){return delete Pl[this.app.options.appId],Promise.resolve()}}let Pl={},LT=[];const zT={};let lm="dataLayer",GN="gtag",jT,jA,BT=!1;function QN(){const r=[];if(WT()&&r.push("This is a browser extension environment."),BS()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=En.create("invalid-analytics-context",{errorInfo:t});cn.warn(n.message)}}function KN(r,t,n){QN();const s=r.options.appId;if(!s)throw En.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(Pl[s]!=null)throw En.create("already-exists",{id:s});if(!BT){RN(lm);const{wrappedGtag:c,gtagCore:f}=NN(Pl,LT,zT,lm,GN);jA=c,jT=f,BT=!0}return Pl[s]=HN(r,LT,zT,t,jT,lm,n),new FN(r)}function YN(r=gh()){r=ge(r);const t=Yr(r,fh);return t.isInitialized()?t.getImmediate():XN(r)}function XN(r,t={}){const n=Yr(r,fh);if(n.isInitialized()){const o=n.getImmediate();if(Br(t,n.getOptions()))return o;throw En.create("already-initialized")}return n.initialize({options:t})}function $N(r,t,n,s){r=ge(r),BN(jA,Pl[r.app.options.appId],t,n,s).catch(o=>cn.error(o))}const qT="@firebase/analytics",HT="0.10.18";function ZN(){Kn(new Un(fh,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return KN(s,o,n)},"PUBLIC")),Kn(new Un("analytics-internal",r,"PRIVATE")),un(qT,HT),un(qT,HT,"esm2020");function r(t){try{const n=t.getProvider(fh).getImmediate();return{logEvent:(s,o,c)=>$N(n,s,o,c)}}catch(n){throw En.create("interop-component-reg-failed",{reason:n})}}}ZN();const WN={apiKey:"AIzaSyDQnrbvsx52ikiWELf6hc4YiXQTC1G5tpY",authDomain:"three-sided-flashcard-app.firebaseapp.com",projectId:"three-sided-flashcard-app",storageBucket:"three-sided-flashcard-app.firebasestorage.app",messagingSenderId:"47503676879",appId:"1:47503676879:web:27fb875159cc4459a12eba",measurementId:"G-PBP1G21Q29"},jh=r0(WN),um=sI(jh),Xi=aD(jh);xD(jh);YN(jh);const BA=ie.createContext({}),Lg=()=>ie.useContext(BA),JN=({children:r})=>{const[t,n]=ie.useState(null),[s,o]=ie.useState(!0);ie.useEffect(()=>Kw(um,y=>{n(y),o(!1)}),[]);const g={user:t,signInWithGoogle:async()=>{try{const p=new Yi;return(await mR(um,p)).user}catch(p){throw console.error("Error signing in with Google:",p),p}},logout:async()=>{try{await Yw(um)}catch(p){throw console.error("Error signing out:",p),p}},loading:s};return D.jsx(BA.Provider,{value:g,children:!s&&r})};class FT{static async getUserProfile(t){try{const n=kl(Xi,"users",t),s=await TD(n);return s.exists()?{id:s.id,...s.data()}:null}catch(n){throw console.error("Error fetching user profile:",n),n}}static async createUserProfile(t,n){try{const s=kl(Xi,"users",t);return await ED(s,{...n,createdAt:Za(),updatedAt:Za(),isPremium:!1,flashcardCount:0,upvotes:0,streak:0}),t}catch(s){throw console.error("Error creating user profile:",s),s}}static async updateUserProfile(t,n){try{const s=kl(Xi,"users",t);await yA(s,{...n,updatedAt:Za()})}catch(s){throw console.error("Error updating user profile:",s),s}}static async getUserStats(t){try{const n=await this.getUserProfile(t);if(!n)return null;const s=lh(Vl(Xi,"flashcards"),uh("authorId","==",t)),c=(await ch(s)).size;return{...n,flashcardCount:c}}catch(n){throw console.error("Error fetching user stats:",n),n}}static async checkOnboardingStatus(t){try{const n=await this.getUserProfile(t);if(!n)return{hasProfile:!1,hasCards:!1};const s=lh(Vl(Xi,"flashcards"),uh("authorId","==",t),yD(1));return{hasProfile:!0,hasCards:!(await ch(s)).empty,profile:n}}catch(n){throw console.error("Error checking onboarding status:",n),n}}}class qA{static async getUserFlashcards(t,n=50){try{const s=lh(Vl(Xi,"flashcards"),uh("authorId","==",t),xT("createdAt","desc"),n(n));return(await ch(s)).docs.map(c=>({id:c.id,...c.data()}))}catch(s){throw console.error("Error fetching user flashcards:",s),s}}static async getPublicFlashcards(t=50){try{const n=lh(Vl(Xi,"flashcards"),uh("isPublic","==",!0),xT("createdAt","desc"),t(t));return(await ch(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(n){throw console.error("Error fetching public flashcards:",n),n}}static async createFlashcard(t,n){try{return(await AD(Vl(Xi,"flashcards"),{...t,authorId:n,createdAt:Za(),updatedAt:Za(),upvotes:0,downvotes:0,isPublic:!0})).id}catch(s){throw console.error("Error creating flashcard:",s),s}}static async updateFlashcard(t,n){try{const s=kl(Xi,"flashcards",t);await yA(s,{...n,updatedAt:Za()})}catch(s){throw console.error("Error updating flashcard:",s),s}}static async searchFlashcards(t,n=20){try{return(await this.getPublicFlashcards(100)).filter(o=>o.question?.toLowerCase().includes(t.toLowerCase())||o.answer?.toLowerCase().includes(t.toLowerCase())||o.hints?.some(c=>c.toLowerCase().includes(t.toLowerCase()))).slice(0,n)}catch(s){throw console.error("Error searching flashcards:",s),s}}}var tx={};class ex{constructor(){this.baseUrl="https://api.deepseek.com/v1",this.apiKey=tx.REACT_APP_DEEPSEEK_API_KEY}async generateHint(t,n,s=""){try{const o=`Given this flashcard:
Question: ${t}
Answer: ${n}
Subject: ${s}

Generate a helpful hint that guides the student toward the answer without giving it away completely. The hint should be:
1. Specific and relevant to the question
2. Educational and instructive
3. Not too obvious but not too cryptic
4. Written in a friendly, encouraging tone

Hint:`;return await this.callDeepSeek(o)}catch(o){throw console.error("Error generating hint:",o),new Error("Failed to generate AI hint")}}async generateProof(t,n,s=""){try{const o=`Given this flashcard:
Question: ${t}
Answer: ${n}
Subject: ${s}

Provide a step-by-step proof or explanation that shows how to arrive at this answer. The explanation should be:
1. Clear and logical
2. Educational and instructive
3. Suitable for a student studying this subject
4. Include key concepts and reasoning

Proof:`;return await this.callDeepSeek(o)}catch(o){throw console.error("Error generating proof:",o),new Error("Failed to generate AI proof")}}async suggestImprovements(t,n,s=""){try{const o=`Given this flashcard:
Question: ${t}
Answer: ${n}
Subject: ${s}

Suggest 2-3 specific improvements to make this flashcard more effective for learning. Consider:
1. Clarity and precision of the question
2. Completeness and accuracy of the answer
3. Educational value and difficulty level
4. Potential for adding hints or context

Suggestions:`;return await this.callDeepSeek(o)}catch(o){throw console.error("Error suggesting improvements:",o),new Error("Failed to generate AI suggestions")}}async generateRelatedQuestions(t,n,s=""){try{const o=`Given this flashcard:
Question: ${t}
Answer: ${n}
Subject: ${s}

Generate 3 related questions that would help students deepen their understanding of this topic. The questions should:
1. Build upon the concepts in the original question
2. Vary in difficulty (easy, medium, hard)
3. Cover different aspects of the same topic
4. Be specific and answerable

Related Questions:`;return await this.callDeepSeek(o)}catch(o){throw console.error("Error generating related questions:",o),new Error("Failed to generate AI related questions")}}async callDeepSeek(t){if(!this.apiKey)throw new Error("DeepSeek API key not configured");const n=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:"You are an expert educational assistant helping students create and study flashcards. Provide clear, helpful, and educational responses."},{role:"user",content:t}],max_tokens:500,temperature:.7})});if(!n.ok)throw new Error(`DeepSeek API error: ${n.status}`);return(await n.json()).choices[0]?.message?.content||"No response generated"}generateFallbackHint(t,n,s=""){const o=["Think about the key concepts involved","Consider what you already know about this topic","Break down the problem into smaller parts","Look for patterns or relationships","Remember the fundamental principles"];return o[Math.floor(Math.random()*o.length)]}generateFallbackProof(t,n,s=""){return`To solve this problem, start by identifying the key concepts and then work through the solution step by step. Consider reviewing the fundamental principles of ${s||"this subject"} if you get stuck.`}generateFallbackSuggestions(t,n,s=""){return["Make sure the question is clear and specific","Consider adding more context to help understanding","Verify that the answer is complete and accurate"]}generateFallbackRelatedQuestions(t,n,s=""){return["What are the fundamental concepts behind this answer?","How would you apply this knowledge to a similar problem?","What are the common mistakes students make with this topic?"]}}const Xe=new ex,nx=({question:r,answer:t,subject:n,onEnhancementComplete:s})=>{const[o,c]=ie.useState(!1),[f,g]=ie.useState(null),[p,y]=ie.useState(""),[E,w]=ie.useState("hint"),R=async W=>{c(!0),y(""),w(W);try{let H;switch(W){case"hint":H=await Xe.generateHint(r,t,n);break;case"proof":H=await Xe.generateProof(r,t,n);break;case"suggestions":H=await Xe.suggestImprovements(r,t,n);break;case"related":H=await Xe.generateRelatedQuestions(r,t,n);break;default:throw new Error("Invalid enhancement type")}g(tt=>({...tt,[W]:H})),s&&s(W,H)}catch(H){console.error(`Error generating ${W}:`,H);let tt;switch(W){case"hint":tt=Xe.generateFallbackHint(r,t,n);break;case"proof":tt=Xe.generateFallbackProof(r,t,n);break;case"suggestions":tt=Xe.generateFallbackSuggestions(r,t,n);break;case"related":tt=Xe.generateFallbackRelatedQuestions(r,t,n);break}g(st=>({...st,[W]:tt})),y(`AI service unavailable. Using fallback ${W}.`)}finally{c(!1)}},F=async()=>{c(!0),y("");try{const[W,H,tt,st]=await Promise.all([Xe.generateHint(r,t,n).catch(()=>Xe.generateFallbackHint(r,t,n)),Xe.generateProof(r,t,n).catch(()=>Xe.generateFallbackProof(r,t,n)),Xe.suggestImprovements(r,t,n).catch(()=>Xe.generateFallbackSuggestions(r,t,n)),Xe.generateRelatedQuestions(r,t,n).catch(()=>Xe.generateFallbackRelatedQuestions(r,t,n))]),ot={hint:W,proof:H,suggestions:tt,related:st};g(ot),s&&Object.entries(ot).forEach(([bt,Tt])=>{s(bt,Tt)})}catch(W){console.error("Error generating all enhancements:",W),y("Failed to generate enhancements. Please try individual options.")}finally{c(!1)}},Z=W=>{navigator.clipboard.writeText(W).then(()=>{console.log("Copied to clipboard")})};return D.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 24px rgba(0,0,0,0.1)",maxWidth:"800px",margin:"0 auto"},children:[D.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[D.jsx("h2",{style:{color:"#333",marginBottom:"1rem"},children:" AI Flashcard Enhancer"}),D.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Use AI to enhance your flashcard with hints, proofs, and suggestions"}),D.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",flexWrap:"wrap"},children:[D.jsx("button",{onClick:()=>R("hint"),disabled:o,style:{background:"#28a745",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:o?"not-allowed":"pointer",fontSize:"0.9rem"},children:" Generate Hint"}),D.jsx("button",{onClick:()=>R("proof"),disabled:o,style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:o?"not-allowed":"pointer",fontSize:"0.9rem"},children:" Generate Proof"}),D.jsx("button",{onClick:()=>R("suggestions"),disabled:o,style:{background:"#ffc107",color:"#333",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:o?"not-allowed":"pointer",fontSize:"0.9rem"},children:" Get Suggestions"}),D.jsx("button",{onClick:()=>R("related"),disabled:o,style:{background:"#6f42c1",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:o?"not-allowed":"pointer",fontSize:"0.9rem"},children:" Related Questions"}),D.jsx("button",{onClick:F,disabled:o,style:{background:"#dc3545",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:o?"not-allowed":"pointer",fontSize:"0.9rem"},children:" Generate All"})]})]}),p&&D.jsx("div",{style:{background:"#f8d7da",color:"#721c24",padding:"1rem",borderRadius:"6px",marginBottom:"1rem",textAlign:"center"},children:p}),o&&D.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:[D.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),D.jsx("p",{children:"AI is thinking..."})]}),f&&!o&&D.jsxs("div",{style:{marginTop:"2rem"},children:[D.jsx("div",{style:{display:"flex",borderBottom:"1px solid #e9ecef",marginBottom:"1.5rem"},children:Object.keys(f).map(W=>D.jsxs("button",{onClick:()=>w(W),style:{background:"none",border:"none",padding:"1rem 1.5rem",cursor:"pointer",borderBottom:E===W?"2px solid #007bff":"none",color:E===W?"#007bff":"#666",fontWeight:E===W?"600":"400"},children:[W==="hint"&&" Hint",W==="proof"&&" Proof",W==="suggestions"&&" Suggestions",W==="related"&&" Related Questions"]},W))}),D.jsxs("div",{style:{minHeight:"200px"},children:[E==="hint"&&f.hint&&D.jsxs("div",{children:[D.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:"AI-Generated Hint"}),D.jsxs("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",position:"relative"},children:[D.jsx("p",{style:{color:"#333",lineHeight:"1.6",margin:0},children:f.hint}),D.jsx("button",{onClick:()=>Z(f.hint),style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"#007bff",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"Copy"})]})]}),E==="proof"&&f.proof&&D.jsxs("div",{children:[D.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:"AI-Generated Proof"}),D.jsxs("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",position:"relative"},children:[D.jsx("p",{style:{color:"#333",lineHeight:"1.6",margin:0},children:f.proof}),D.jsx("button",{onClick:()=>Z(f.proof),style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"#007bff",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"Copy"})]})]}),E==="suggestions"&&f.suggestions&&D.jsxs("div",{children:[D.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:"AI-Generated Suggestions"}),D.jsxs("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",position:"relative"},children:[Array.isArray(f.suggestions)?D.jsx("ul",{style:{color:"#333",lineHeight:"1.6",margin:0,paddingLeft:"1.5rem"},children:f.suggestions.map((W,H)=>D.jsx("li",{style:{marginBottom:"0.5rem"},children:W},H))}):D.jsx("p",{style:{color:"#333",lineHeight:"1.6",margin:0},children:f.suggestions}),D.jsx("button",{onClick:()=>Z(Array.isArray(f.suggestions)?f.suggestions.join(`
`):f.suggestions),style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"#007bff",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"Copy"})]})]}),E==="related"&&f.related&&D.jsxs("div",{children:[D.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:"AI-Generated Related Questions"}),D.jsxs("div",{style:{background:"#f8f9fa",padding:"1.5rem",borderRadius:"8px",position:"relative"},children:[Array.isArray(f.related)?D.jsx("ol",{style:{color:"#333",lineHeight:"1.6",margin:0,paddingLeft:"1.5rem"},children:f.related.map((W,H)=>D.jsx("li",{style:{marginBottom:"0.5rem"},children:W},H))}):D.jsx("p",{style:{color:"#333",lineHeight:"1.6",margin:0},children:f.related}),D.jsx("button",{onClick:()=>Z(Array.isArray(f.related)?f.related.join(`
`):f.related),style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"#007bff",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"Copy"})]})]})]})]}),D.jsx("div",{style:{marginTop:"2rem",padding:"1rem",background:"#f8f9fa",borderRadius:"8px",fontSize:"0.9rem",color:"#666",textAlign:"center"},children:D.jsxs("p",{style:{margin:0},children:[" ",D.jsx("strong",{children:"Tip:"})," Use these AI enhancements to make your flashcards more effective for learning!"]})})]})},ix=({onCardCreated:r,onClose:t})=>{const{user:n}=Lg(),[s,o]=ie.useState({question:"",answer:"",hints:[""],tags:"",difficulty:"medium",subject:"",isPublic:!0}),[c,f]=ie.useState(!1),[g,p]=ie.useState(""),[y,E]=ie.useState(!1),w=(tt,st)=>{o(ot=>({...ot,[tt]:st}))},R=(tt,st)=>{const ot=[...s.hints];ot[tt]=st,o(bt=>({...bt,hints:ot}))},F=()=>{o(tt=>({...tt,hints:[...tt.hints,""]}))},Z=tt=>{if(s.hints.length>1){const st=s.hints.filter((ot,bt)=>bt!==tt);o(ot=>({...ot,hints:st}))}},W=(tt,st)=>{switch(tt){case"hint":st&&!s.hints.includes(st)&&o(ot=>({...ot,hints:[...ot.hints.filter(bt=>bt.trim()),st]}));break}},H=async tt=>{if(tt.preventDefault(),!n){p("Please sign in to create flashcards");return}if(!s.question.trim()||!s.answer.trim()){p("Question and answer are required");return}f(!0),p("");try{const st={question:s.question.trim(),answer:s.answer.trim(),hints:s.hints.filter(bt=>bt.trim()),tags:s.tags.split(",").map(bt=>bt.trim()).filter(bt=>bt),difficulty:s.difficulty,subject:s.subject.trim(),isPublic:s.isPublic},ot=await qA.createFlashcard(st,n.uid);o({question:"",answer:"",hints:[""],tags:"",difficulty:"medium",subject:"",isPublic:!0}),r&&r(ot)}catch(st){p("Failed to create flashcard. Please try again."),console.error("Error creating flashcard:",st)}finally{f(!1)}};return n?D.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 24px rgba(0,0,0,0.1)",maxWidth:"800px",margin:"0 auto"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[D.jsx("h2",{style:{color:"#333",margin:0},children:" Create New Flashcard"}),t&&D.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666"},children:""})]}),D.jsxs("form",{onSubmit:H,children:[g&&D.jsx("div",{style:{background:"#f8d7da",color:"#721c24",padding:"1rem",borderRadius:"6px",marginBottom:"1rem"},children:g}),D.jsxs("div",{style:{marginBottom:"1.5rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Question *"}),D.jsx("textarea",{value:s.question,onChange:tt=>w("question",tt.target.value),placeholder:"Enter your question here...",style:{width:"100%",minHeight:"100px",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem",fontFamily:"inherit"},required:!0})]}),D.jsxs("div",{style:{marginBottom:"1.5rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Answer *"}),D.jsx("textarea",{value:s.answer,onChange:tt=>w("answer",tt.target.value),placeholder:"Enter the answer here...",style:{width:"100%",minHeight:"100px",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem",fontFamily:"inherit"},required:!0})]}),s.question.trim()&&s.answer.trim()&&D.jsx("div",{style:{marginBottom:"1.5rem"},children:D.jsx("button",{type:"button",onClick:()=>E(!y),style:{background:"#6f42c1",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:y?" Hide AI Enhancer":" Show AI Enhancer"})}),y&&s.question.trim()&&s.answer.trim()&&D.jsx("div",{style:{marginBottom:"2rem"},children:D.jsx(nx,{question:s.question,answer:s.answer,subject:s.subject,onEnhancementComplete:W})}),D.jsxs("div",{style:{marginBottom:"1.5rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Hints"}),s.hints.map((tt,st)=>D.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:[D.jsx("input",{type:"text",value:tt,onChange:ot=>R(st,ot.target.value),placeholder:`Hint ${st+1}...`,style:{flex:1,padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}}),s.hints.length>1&&D.jsx("button",{type:"button",onClick:()=>Z(st),style:{background:"#dc3545",color:"white",border:"none",padding:"0.75rem",borderRadius:"6px",cursor:"pointer",minWidth:"40px"},children:""})]},st)),D.jsx("button",{type:"button",onClick:F,style:{background:"#28a745",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem"},children:"+ Add Hint"})]}),D.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[D.jsxs("div",{children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Subject"}),D.jsx("input",{type:"text",value:s.subject,onChange:tt=>w("subject",tt.target.value),placeholder:"e.g., Mathematics, Physics...",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}})]}),D.jsxs("div",{children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Difficulty"}),D.jsxs("select",{value:s.difficulty,onChange:tt=>w("difficulty",tt.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"},children:[D.jsx("option",{value:"easy",children:"Easy"}),D.jsx("option",{value:"medium",children:"Medium"}),D.jsx("option",{value:"hard",children:"Hard"})]})]})]}),D.jsxs("div",{style:{marginBottom:"1.5rem"},children:[D.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#333"},children:"Tags"}),D.jsx("input",{type:"text",value:s.tags,onChange:tt=>w("tags",tt.target.value),placeholder:"Enter tags separated by commas (e.g., calculus, limits, analysis)",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"6px",fontSize:"1rem"}})]}),D.jsx("div",{style:{marginBottom:"2rem"},children:D.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[D.jsx("input",{type:"checkbox",checked:s.isPublic,onChange:tt=>w("isPublic",tt.target.checked),style:{transform:"scale(1.2)"}}),D.jsx("span",{style:{color:"#333"},children:"Make this flashcard public"})]})}),D.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[t&&D.jsx("button",{type:"button",onClick:t,style:{background:"#6c757d",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"6px",cursor:"pointer",fontSize:"1rem"},children:"Cancel"}),D.jsx("button",{type:"submit",disabled:c,style:{background:c?"#6c757d":"#007bff",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"6px",cursor:c?"not-allowed":"pointer",fontSize:"1rem"},children:c?"Creating...":"Create Flashcard"})]})]})]}):D.jsxs("div",{style:{background:"#f8f9fa",padding:"2rem",borderRadius:"12px",textAlign:"center"},children:[D.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:" Sign in to Create Flashcards"}),D.jsx("p",{style:{color:"#666"},children:"You need to be signed in to create and share flashcards with the community."})]})},rx=()=>{const{user:r}=Lg(),[t,n]=ie.useState([]),[s,o]=ie.useState(0),[c,f]=ie.useState(!1),[g,p]=ie.useState(!0),[y,E]=ie.useState("");ie.useEffect(()=>{r&&w()},[r]);const w=async()=>{try{p(!0);const tt=await qA.getPublicFlashcards(50);n(tt)}catch(tt){E("Failed to load flashcards"),console.error("Error loading flashcards:",tt)}finally{p(!1)}},R=()=>{s<t.length-1&&(o(s+1),f(!1))},F=()=>{s>0&&(o(s-1),f(!1))},Z=()=>{o(0),f(!1)},W=()=>{f(!c)};if(!r)return D.jsxs("div",{style:{background:"#f8f9fa",padding:"2rem",borderRadius:"12px",textAlign:"center"},children:[D.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:" Sign in to Study"}),D.jsx("p",{style:{color:"#666"},children:"You need to be signed in to access the study mode."})]});if(g)return D.jsxs("div",{style:{background:"#f8f9fa",padding:"2rem",borderRadius:"12px",textAlign:"center"},children:[D.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:" Loading Flashcards..."}),D.jsx("p",{style:{color:"#666"},children:"Please wait while we load the community flashcards."})]});if(y)return D.jsxs("div",{style:{background:"#f8d7da",color:"#721c24",padding:"2rem",borderRadius:"12px",textAlign:"center"},children:[D.jsx("h3",{style:{marginBottom:"1rem"},children:" Error Loading Flashcards"}),D.jsx("p",{children:y}),D.jsx("button",{onClick:w,style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"6px",cursor:"pointer",marginTop:"1rem"},children:"Try Again"})]});if(t.length===0)return D.jsxs("div",{style:{background:"#f8f9fa",padding:"2rem",borderRadius:"12px",textAlign:"center"},children:[D.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:" No Flashcards Available"}),D.jsx("p",{style:{color:"#666"},children:"There are no public flashcards available yet. Be the first to create one!"})]});const H=t[s];return D.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 24px rgba(0,0,0,0.1)",maxWidth:"800px",margin:"0 auto"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[D.jsx("h2",{style:{color:"#333",margin:0},children:" Study Mode"}),D.jsxs("div",{style:{background:"#f8f9fa",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.9rem",color:"#666"},children:[s+1," of ",t.length]})]}),D.jsx("div",{onClick:W,style:{background:"white",border:"2px solid #e9ecef",borderRadius:"12px",padding:"3rem 2rem",margin:"2rem 0",minHeight:"300px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 24px rgba(0,0,0,0.1)",transform:c?"rotateY(180deg)":"rotateY(0deg)"},children:c?D.jsxs("div",{style:{textAlign:"center"},children:[D.jsx("h3",{style:{fontSize:"1.5rem",color:"#333",marginBottom:"1rem"},children:"Answer"}),D.jsx("p",{style:{fontSize:"1.2rem",color:"#666",lineHeight:"1.6"},children:H.answer}),H.hints&&H.hints.length>0&&D.jsxs("div",{style:{marginTop:"2rem"},children:[D.jsx("h4",{style:{fontSize:"1.1rem",color:"#333",marginBottom:"1rem"},children:" Hints"}),H.hints.map((tt,st)=>D.jsx("p",{style:{fontSize:"1rem",color:"#666",marginBottom:"0.5rem",fontStyle:"italic"},children:tt},st))]}),H.tags&&H.tags.length>0&&D.jsx("div",{style:{marginTop:"1rem"},children:D.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",justifyContent:"center"},children:H.tags.map((tt,st)=>D.jsx("span",{style:{background:"#e9ecef",color:"#666",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem"},children:tt},st))})}),D.jsx("p",{style:{fontSize:"0.9rem",color:"#999",marginTop:"2rem"},children:"Click to see question again"})]}):D.jsxs("div",{style:{textAlign:"center"},children:[D.jsx("h3",{style:{fontSize:"1.5rem",color:"#333",marginBottom:"1rem"},children:"Question"}),D.jsx("p",{style:{fontSize:"1.2rem",color:"#666",lineHeight:"1.6"},children:H.question}),D.jsx("p",{style:{fontSize:"0.9rem",color:"#999",marginTop:"2rem"},children:"Click to reveal answer"})]})}),D.jsx("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px",marginBottom:"2rem",fontSize:"0.9rem",color:"#666"},children:D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[D.jsxs("span",{children:["Subject: ",H.subject||"Not specified"]}),D.jsxs("span",{children:["Difficulty: ",H.difficulty||"Not specified"]}),D.jsxs("span",{children:["By: ",H.authorId||"Unknown"]})]})}),D.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[D.jsx("button",{onClick:F,disabled:s===0,style:{background:s===0?"#e9ecef":"#007bff",color:s===0?"#999":"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:s===0?"not-allowed":"pointer",fontSize:"1rem"},children:" Previous"}),D.jsx("button",{onClick:W,style:{background:"#28a745",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:"pointer",fontSize:"1rem"},children:c?"Show Question":"Show Answer"}),D.jsx("button",{onClick:R,disabled:s===t.length-1,style:{background:s===t.length-1?"#e9ecef":"#007bff",color:s===t.length-1?"#999":"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:s===t.length-1?"not-allowed":"pointer",fontSize:"1rem"},children:"Next "}),D.jsx("button",{onClick:Z,style:{background:"#6c757d",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"6px",cursor:"pointer",fontSize:"1rem"},children:" Restart"})]})]})};function sx(){const[r,t]=ie.useState(0),[n,s]=ie.useState("home"),[o,c]=ie.useState({hasProfile:!1,hasCards:!1}),{user:f,signInWithGoogle:g,logout:p}=Lg();ie.useEffect(()=>{f&&y()},[f]);const y=async()=>{try{const H=await FT.checkOnboardingStatus(f.uid);c(H)}catch(H){console.error("Error checking onboarding status:",H)}},E=async()=>{try{await g()}catch(H){console.error("Error signing in:",H)}},w=async()=>{try{await p()}catch(H){console.error("Error signing out:",H)}},R=async H=>{if(!f){await E();return}if(H==="profile"&&!o.hasProfile)try{await FT.createUserProfile(f.uid,{email:f.email,displayName:f.displayName,photoURL:f.photoURL}),await y()}catch(tt){console.error("Error creating profile:",tt)}},F=async H=>{await y(),s("home")},Z=()=>{switch(n){case"create":return D.jsx(ix,{onCardCreated:F,onClose:()=>s("home")});case"study":return D.jsx(rx,{});default:return W()}},W=()=>D.jsxs(D.Fragment,{children:[D.jsx("section",{className:"hero-section",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"4rem 2rem",textAlign:"center"},children:D.jsxs("div",{className:"hero-content",children:[D.jsx("h1",{className:"hero-title",style:{fontSize:"3rem",marginBottom:"1rem"},children:"Three-Sided"}),D.jsx("p",{className:"hero-subtitle",style:{fontSize:"1.2rem",marginBottom:"2rem",opacity:.9},children:"Join a community of STEM students sharing and studying flashcards together. Create, discover, and learn from thousands of user-generated cards with AI-powered assistance."}),D.jsxs("div",{className:"hero-cta",children:[D.jsx("a",{href:"/search.html",className:"btn btn-primary",style:{background:"#007bff",color:"white",padding:"0.75rem 2rem",borderRadius:"6px",textDecoration:"none",margin:"0 0.5rem",display:"inline-block"},children:" Search Flashcards"}),D.jsx("a",{href:"/updates.html",className:"btn btn-secondary",style:{background:"rgba(255,255,255,0.2)",color:"white",padding:"0.75rem 2rem",borderRadius:"6px",textDecoration:"none",margin:"0 0.5rem",display:"inline-block",border:"2px solid rgba(255,255,255,0.3)"},children:" What's New?"})]})]})}),D.jsx("div",{className:"main-content",style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:D.jsxs("div",{className:"container",children:[f&&D.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 24px rgba(0,0,0,0.1)",marginBottom:"2rem",textAlign:"center"},children:[D.jsx("h2",{style:{color:"#333",marginBottom:"1.5rem"},children:" Quick Actions"}),D.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[D.jsx("button",{onClick:()=>s("create"),style:{background:"#28a745",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"8px",cursor:"pointer",fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Create Flashcard"}),D.jsx("button",{onClick:()=>s("study"),style:{background:"#007bff",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"8px",cursor:"pointer",fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Study Mode"})]})]}),D.jsxs("div",{className:"features-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginBottom:"3rem"},children:[D.jsxs("div",{className:"feature-card",style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 24px rgba(0,0,0,0.1)",textAlign:"center"},children:[D.jsx("div",{className:"feature-icon",style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),D.jsx("h3",{className:"feature-title",style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#333"},children:"Community-Driven"}),D.jsx("p",{className:"feature-description",style:{color:"#666",lineHeight:"1.6"},children:"Discover and share flashcards with students worldwide. Learn from the community's collective knowledge."})]}),D.jsxs("div",{className:"feature-card",style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 24px rgba(0,0,0,0.1)",textAlign:"center"},children:[D.jsx("div",{className:"feature-icon",style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),D.jsx("h3",{className:"feature-title",style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#333"},children:"AI-Powered Assistance"}),D.jsx("p",{className:"feature-description",style:{color:"#666",lineHeight:"1.6"},children:"Get AI-generated hints and proofs to help you create better flashcards faster."})]}),D.jsx("div",{className:"feature-card",style:{background:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 24px rgba(0,0,0,0.1)",textAlign:"center"},children:D.jsxs("a",{href:"/latex_guide.html",style:{textDecoration:"none",color:"inherit"},children:[D.jsx("div",{className:"feature-icon",style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),D.jsx("h3",{className:"feature-title",style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#333"},children:"LaTeX Support"}),D.jsxs("p",{className:"feature-description",style:{color:"#666",lineHeight:"1.6"},children:["Beautiful mathematical notation with full LaTeX rendering. Wrap math in ",D.jsx("code",{children:"$ $"})," for inline or ",D.jsx("code",{children:"$$ $$"})," for blocks."]})]})})]}),D.jsxs("div",{className:"section",id:"onboardingSection",style:{marginTop:"2rem",marginBottom:"3rem"},children:[D.jsx("h2",{className:"section-title",style:{textAlign:"center",fontSize:"2rem",marginBottom:"2rem",color:"#333"},children:" Get Started with Three-Sided"}),D.jsx("p",{style:{textAlign:"center",fontSize:"1.1rem",opacity:.9,marginBottom:"2rem",color:"#666"},children:"Complete these steps to join our community and start sharing flashcards!"}),D.jsxs("div",{className:"onboarding-checklist",style:{maxWidth:"600px",margin:"0 auto"},children:[D.jsxs("div",{className:"checklist-item",onClick:()=>R("login"),style:{display:"flex",alignItems:"center",padding:"1rem",marginBottom:"1rem",background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",cursor:"pointer",transition:"all 0.2s",opacity:f?.5:1},children:[D.jsx("div",{className:"checklist-icon",style:{width:"24px",height:"24px",borderRadius:"50%",border:`2px solid ${f?"#e2e8f0":"#007bff"}`,marginRight:"1rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",color:f?"#e2e8f0":"#007bff"},children:"1"}),D.jsxs("div",{className:"checklist-content",style:{flex:1},children:[D.jsx("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1.1rem",color:"#333"},children:f?" Signed in":"Sign in to your account"}),D.jsx("p",{style:{margin:0,color:"#718096",fontSize:"0.9rem"},children:f?`Welcome, ${f.displayName||f.email}!`:"Log in to start creating and sharing flashcards"})]}),D.jsx("div",{className:"checklist-arrow",style:{color:"#a0aec0",fontSize:"1.2rem"},children:""})]}),D.jsxs("div",{className:"checklist-item",onClick:()=>R("profile"),style:{display:"flex",alignItems:"center",padding:"1rem",marginBottom:"1rem",background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",cursor:f?"pointer":"default",transition:"all 0.2s",opacity:o.hasProfile?.5:f?1:.5},children:[D.jsx("div",{className:"checklist-icon",style:{width:"24px",height:"24px",borderRadius:"50%",border:`2px solid ${o.hasProfile?"#e2e8f0":f?"#007bff":"#e2e8f0"}`,marginRight:"1rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",color:o.hasProfile?"#e2e8f0":f?"#007bff":"#e2e8f0"},children:"2"}),D.jsxs("div",{className:"checklist-content",style:{flex:1},children:[D.jsx("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1.1rem",color:"#333"},children:o.hasProfile?" Profile created":"Create your public profile"}),D.jsx("p",{style:{margin:0,color:"#718096",fontSize:"0.9rem"},children:o.hasProfile?"Your profile is ready!":"Set up your profile to share with the community"})]}),D.jsx("div",{className:"checklist-arrow",style:{color:"#a0aec0",fontSize:"1.2rem"},children:""})]}),D.jsxs("div",{className:"checklist-item",style:{display:"flex",alignItems:"center",padding:"1rem",marginBottom:"1rem",background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",cursor:"default",transition:"all 0.2s",opacity:o.hasCards?.5:o.hasProfile?1:.5},children:[D.jsx("div",{className:"checklist-icon",style:{width:"24px",height:"24px",borderRadius:"50%",border:`2px solid ${o.hasCards?"#e2e8f0":o.hasProfile?"#007bff":"#e2e8f0"}`,marginRight:"1rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",color:o.hasCards?"#e2e8f0":o.hasProfile?"#007bff":"#e2e8f0"},children:"3"}),D.jsxs("div",{className:"checklist-content",style:{flex:1},children:[D.jsx("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1.1rem",color:"#333"},children:o.hasCards?" First card published":"Publish your first card"}),D.jsx("p",{style:{margin:0,color:"#718096",fontSize:"0.9rem"},children:o.hasCards?"You're sharing knowledge!":"Create and share a flashcard with the community"})]}),D.jsx("div",{className:"checklist-arrow",style:{color:"#a0aec0",fontSize:"1.2rem"},children:""})]})]})]}),D.jsx("div",{className:"section",style:{marginTop:"2rem",marginBottom:"3rem"},children:D.jsxs("div",{className:"search-widget",style:{background:"linear-gradient(135deg, #0066cc 0%, #004a99 100%)",borderRadius:"16px",padding:"2rem",textAlign:"center",color:"white",boxShadow:"0 10px 30px rgba(0, 102, 204, 0.4)"},children:[D.jsx("div",{className:"search-icon",style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),D.jsx("h2",{style:{fontSize:"1.8rem",marginBottom:"0.5rem",color:"white"},children:"Looking for a specific flashcard?"}),D.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"2rem",opacity:.95,color:"white"},children:"Search our community flashcard database for exactly what you need. Find cards from thousands of STEM students worldwide."}),D.jsx("a",{href:"/search.html",className:"btn btn-secondary",style:{background:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",fontWeight:600,padding:"0.75rem 2rem",fontSize:"1.1rem",borderRadius:"50px",textDecoration:"none",display:"inline-block",transition:"all 0.3s ease"},children:" Search Community Flashcards"})]})}),f?D.jsxs("div",{className:"auth-section",style:{background:"#f8f9fa",padding:"2rem",borderRadius:"12px",marginBottom:"2rem",textAlign:"center"},children:[D.jsxs("h3",{style:{color:"#333",marginBottom:"1rem"},children:[" Welcome, ",f.displayName||f.email,"!"]}),D.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"You're signed in and ready to create flashcards!"}),D.jsx("button",{onClick:w,style:{background:"#dc3545",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer"},children:"Sign Out"})]}):D.jsxs("div",{className:"auth-section",style:{background:"#f8f9fa",padding:"2rem",borderRadius:"12px",marginBottom:"2rem",textAlign:"center"},children:[D.jsx("h3",{style:{color:"#333",marginBottom:"1rem"},children:" Sign in to get started"}),D.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"Join the Three-Sided community and start creating flashcards!"}),D.jsx("button",{onClick:E,style:{background:"#007bff",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"6px",cursor:"pointer",fontSize:"1.1rem"},children:"Sign in with Google"})]}),D.jsxs("div",{className:"section",style:{marginTop:"2rem",textAlign:"center"},children:[D.jsx("h2",{className:"section-title",style:{fontSize:"2rem",marginBottom:"1rem",color:"#333"},children:" React Version - Full Featured!"}),D.jsx("p",{style:{fontSize:"1.1rem",opacity:.9,marginBottom:"2rem",color:"#666"},children:"This React version now has working authentication, flashcard creation, and study mode!"}),D.jsxs("div",{style:{background:"#f8f9fa",padding:"2rem",borderRadius:"12px",maxWidth:"400px",margin:"0 auto"},children:[D.jsx("p",{children:"React Counter Demo:"}),D.jsxs("button",{onClick:()=>t(r+1),style:{background:"#007bff",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"6px",cursor:"pointer",fontSize:"1.1rem"},children:["Count: ",r]})]})]})]})})]});return D.jsxs("div",{className:"App",style:{fontFamily:"Arial, sans-serif",lineHeight:"1.6"},children:[n!=="home"&&D.jsxs("div",{style:{background:"white",padding:"1rem 2rem",borderBottom:"1px solid #e9ecef",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[D.jsx("button",{onClick:()=>s("home"),style:{background:"none",border:"none",fontSize:"1.2rem",cursor:"pointer",color:"#007bff",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Back to Home"}),D.jsx("h1",{style:{margin:0,color:"#333"},children:n==="create"?" Create Flashcard":" Study Mode"}),D.jsx("div",{style:{width:"100px"}})," "]}),Z()]})}AS.createRoot(document.getElementById("root")).render(D.jsx(ie.StrictMode,{children:D.jsx(JN,{children:D.jsx(sx,{})})}));
